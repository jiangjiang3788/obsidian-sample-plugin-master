"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const _e=require("obsidian");var hf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mf={};var gf;function nw(){if(gf)return mf;gf=1;var e;return(function(t){(function(n){var r=typeof globalThis=="object"?globalThis:typeof hf=="object"?hf:typeof self=="object"?self:typeof this=="object"?this:c(),o=i(t);typeof r.Reflect<"u"&&(o=i(r.Reflect,o)),n(o,r),typeof r.Reflect>"u"&&(r.Reflect=t);function i(u,d){return function(p,f){Object.defineProperty(u,p,{configurable:!0,writable:!0,value:f}),d&&d(p,f)}}function s(){try{return Function("return this;")()}catch{}}function a(){try{return(0,eval)("(function() { return this; })()")}catch{}}function c(){return s()||a()}})(function(n,r){var o=Object.prototype.hasOwnProperty,i=typeof Symbol=="function",s=i&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",a=i&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",c=typeof Object.create=="function",u={__proto__:[]}instanceof Array,d=!c&&!u,p={create:c?function(){return me(Object.create(null))}:u?function(){return me({__proto__:null})}:function(){return me({})},has:d?function(L,F){return o.call(L,F)}:function(L,F){return F in L},get:d?function(L,F){return o.call(L,F)?L[F]:void 0}:function(L,F){return L[F]}},f=Object.getPrototypeOf(Function),h=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Ae(),m=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Ne(),g=typeof WeakMap=="function"?WeakMap:Ee(),v=i?Symbol.for("@reflect-metadata:registry"):void 0,b=st(),S=fe(b);function y(L,F,H,j){if(K(H)){if(!we(L))throw new TypeError;if(!Re(F))throw new TypeError;return _(L,F)}else{if(!we(L))throw new TypeError;if(!V(F))throw new TypeError;if(!V(j)&&!K(j)&&!q(j))throw new TypeError;return q(j)&&(j=void 0),H=Se(H),$(L,F,H,j)}}n("decorate",y);function w(L,F){function H(j,he){if(!V(j))throw new TypeError;if(!K(he)&&!xe(he))throw new TypeError;z(L,F,j,he)}return H}n("metadata",w);function k(L,F,H,j){if(!V(H))throw new TypeError;return K(j)||(j=Se(j)),z(L,F,H,j)}n("defineMetadata",k);function C(L,F,H){if(!V(F))throw new TypeError;return K(H)||(H=Se(H)),R(L,F,H)}n("hasMetadata",C);function T(L,F,H){if(!V(F))throw new TypeError;return K(H)||(H=Se(H)),M(L,F,H)}n("hasOwnMetadata",T);function I(L,F,H){if(!V(F))throw new TypeError;return K(H)||(H=Se(H)),A(L,F,H)}n("getMetadata",I);function E(L,F,H){if(!V(F))throw new TypeError;return K(H)||(H=Se(H)),D(L,F,H)}n("getOwnMetadata",E);function O(L,F){if(!V(L))throw new TypeError;return K(F)||(F=Se(F)),W(L,F)}n("getMetadataKeys",O);function P(L,F){if(!V(L))throw new TypeError;return K(F)||(F=Se(F)),B(L,F)}n("getOwnMetadataKeys",P);function x(L,F,H){if(!V(F))throw new TypeError;if(K(H)||(H=Se(H)),!V(F))throw new TypeError;K(H)||(H=Se(H));var j=ge(F,H,!1);return K(j)?!1:j.OrdinaryDeleteMetadata(L,F,H)}n("deleteMetadata",x);function _(L,F){for(var H=L.length-1;H>=0;--H){var j=L[H],he=j(F);if(!K(he)&&!q(he)){if(!Re(he))throw new TypeError;F=he}}return F}function $(L,F,H,j){for(var he=L.length-1;he>=0;--he){var Ke=L[he],lt=Ke(F,H,j);if(!K(lt)&&!q(lt)){if(!V(lt))throw new TypeError;j=lt}}return j}function R(L,F,H){var j=M(L,F,H);if(j)return!0;var he=ye(F);return q(he)?!1:R(L,he,H)}function M(L,F,H){var j=ge(F,H,!1);return K(j)?!1:ve(j.OrdinaryHasOwnMetadata(L,F,H))}function A(L,F,H){var j=M(L,F,H);if(j)return D(L,F,H);var he=ye(F);if(!q(he))return A(L,he,H)}function D(L,F,H){var j=ge(F,H,!1);if(!K(j))return j.OrdinaryGetOwnMetadata(L,F,H)}function z(L,F,H,j){var he=ge(H,j,!0);he.OrdinaryDefineOwnMetadata(L,F,H,j)}function W(L,F){var H=B(L,F),j=ye(L);if(j===null)return H;var he=W(j,F);if(he.length<=0)return H;if(H.length<=0)return he;for(var Ke=new m,lt=[],Qe=0,be=H;Qe<be.length;Qe++){var ke=be[Qe],re=Ke.has(ke);re||(Ke.add(ke),lt.push(ke))}for(var ue=0,We=he;ue<We.length;ue++){var ke=We[ue],re=Ke.has(ke);re||(Ke.add(ke),lt.push(ke))}return lt}function B(L,F){var H=ge(L,F,!1);return H?H.OrdinaryOwnMetadataKeys(L,F):[]}function Y(L){if(L===null)return 1;switch(typeof L){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return L===null?1:6;default:return 6}}function K(L){return L===void 0}function q(L){return L===null}function N(L){return typeof L=="symbol"}function V(L){return typeof L=="object"?L!==null:typeof L=="function"}function ne(L,F){switch(Y(L)){case 0:return L;case 1:return L;case 2:return L;case 3:return L;case 4:return L;case 5:return L}var H="string",j=Le(L,s);if(j!==void 0){var he=j.call(L,H);if(V(he))throw new TypeError;return he}return Ce(L)}function Ce(L,F){var H,j,he;{var Ke=L.toString;if(Pe(Ke)){var j=Ke.call(L);if(!V(j))return j}var H=L.valueOf;if(Pe(H)){var j=H.call(L);if(!V(j))return j}}throw new TypeError}function ve(L){return!!L}function J(L){return""+L}function Se(L){var F=ne(L);return N(F)?F:J(F)}function we(L){return Array.isArray?Array.isArray(L):L instanceof Object?L instanceof Array:Object.prototype.toString.call(L)==="[object Array]"}function Pe(L){return typeof L=="function"}function Re(L){return typeof L=="function"}function xe(L){switch(Y(L)){case 3:return!0;case 4:return!0;default:return!1}}function Be(L,F){return L===F||L!==L&&F!==F}function Le(L,F){var H=L[F];if(H!=null){if(!Pe(H))throw new TypeError;return H}}function le(L){var F=Le(L,a);if(!Pe(F))throw new TypeError;var H=F.call(L);if(!V(H))throw new TypeError;return H}function Xe(L){return L.value}function $e(L){var F=L.next();return F.done?!1:F}function Je(L){var F=L.return;F&&F.call(L)}function ye(L){var F=Object.getPrototypeOf(L);if(typeof L!="function"||L===f||F!==f)return F;var H=L.prototype,j=H&&Object.getPrototypeOf(H);if(j==null||j===Object.prototype)return F;var he=j.constructor;return typeof he!="function"||he===L?F:he}function mt(){var L;!K(v)&&typeof r.Reflect<"u"&&!(v in r.Reflect)&&typeof r.Reflect.defineMetadata=="function"&&(L=ce(r.Reflect));var F,H,j,he=new g,Ke={registerProvider:lt,getProvider:be,setProvider:re};return Ke;function lt(ue){if(!Object.isExtensible(Ke))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case L===ue:break;case K(F):F=ue;break;case F===ue:break;case K(H):H=ue;break;case H===ue:break;default:j===void 0&&(j=new m),j.add(ue);break}}function Qe(ue,We){if(!K(F)){if(F.isProviderFor(ue,We))return F;if(!K(H)){if(H.isProviderFor(ue,We))return F;if(!K(j))for(var nt=le(j);;){var et=$e(nt);if(!et)return;var Fe=Xe(et);if(Fe.isProviderFor(ue,We))return Je(nt),Fe}}}if(!K(L)&&L.isProviderFor(ue,We))return L}function be(ue,We){var nt=he.get(ue),et;return K(nt)||(et=nt.get(We)),K(et)&&(et=Qe(ue,We),K(et)||(K(nt)&&(nt=new h,he.set(ue,nt)),nt.set(We,et))),et}function ke(ue){if(K(ue))throw new TypeError;return F===ue||H===ue||!K(j)&&j.has(ue)}function re(ue,We,nt){if(!ke(nt))throw new Error("Metadata provider not registered.");var et=be(ue,We);if(et!==nt){if(!K(et))return!1;var Fe=he.get(ue);K(Fe)&&(Fe=new h,he.set(ue,Fe)),Fe.set(We,nt)}return!0}}function st(){var L;return!K(v)&&V(r.Reflect)&&Object.isExtensible(r.Reflect)&&(L=r.Reflect[v]),K(L)&&(L=mt()),!K(v)&&V(r.Reflect)&&Object.isExtensible(r.Reflect)&&Object.defineProperty(r.Reflect,v,{enumerable:!1,configurable:!1,writable:!1,value:L}),L}function fe(L){var F=new g,H={isProviderFor:function(ke,re){var ue=F.get(ke);return K(ue)?!1:ue.has(re)},OrdinaryDefineOwnMetadata:lt,OrdinaryHasOwnMetadata:he,OrdinaryGetOwnMetadata:Ke,OrdinaryOwnMetadataKeys:Qe,OrdinaryDeleteMetadata:be};return b.registerProvider(H),H;function j(ke,re,ue){var We=F.get(ke),nt=!1;if(K(We)){if(!ue)return;We=new h,F.set(ke,We),nt=!0}var et=We.get(re);if(K(et)){if(!ue)return;if(et=new h,We.set(re,et),!L.setProvider(ke,re,H))throw We.delete(re),nt&&F.delete(ke),new Error("Wrong provider for target.")}return et}function he(ke,re,ue){var We=j(re,ue,!1);return K(We)?!1:ve(We.has(ke))}function Ke(ke,re,ue){var We=j(re,ue,!1);if(!K(We))return We.get(ke)}function lt(ke,re,ue,We){var nt=j(ue,We,!0);nt.set(ke,re)}function Qe(ke,re){var ue=[],We=j(ke,re,!1);if(K(We))return ue;for(var nt=We.keys(),et=le(nt),Fe=0;;){var wt=$e(et);if(!wt)return ue.length=Fe,ue;var Me=Xe(wt);try{ue[Fe]=Me}catch(De){try{Je(et)}finally{throw De}}Fe++}}function be(ke,re,ue){var We=j(re,ue,!1);if(K(We)||!We.delete(ke))return!1;if(We.size===0){var nt=F.get(re);K(nt)||(nt.delete(ue),nt.size===0&&F.delete(nt))}return!0}}function ce(L){var F=L.defineMetadata,H=L.hasOwnMetadata,j=L.getOwnMetadata,he=L.getOwnMetadataKeys,Ke=L.deleteMetadata,lt=new g,Qe={isProviderFor:function(be,ke){var re=lt.get(be);return!K(re)&&re.has(ke)?!0:he(be,ke).length?(K(re)&&(re=new m,lt.set(be,re)),re.add(ke),!0):!1},OrdinaryDefineOwnMetadata:F,OrdinaryHasOwnMetadata:H,OrdinaryGetOwnMetadata:j,OrdinaryOwnMetadataKeys:he,OrdinaryDeleteMetadata:Ke};return Qe}function ge(L,F,H){var j=b.getProvider(L,F);if(!K(j))return j;if(H){if(b.setProvider(L,F,S))return S;throw new Error("Illegal state.")}}function Ae(){var L={},F=[],H=(function(){function Qe(be,ke,re){this._index=0,this._keys=be,this._values=ke,this._selector=re}return Qe.prototype["@@iterator"]=function(){return this},Qe.prototype[a]=function(){return this},Qe.prototype.next=function(){var be=this._index;if(be>=0&&be<this._keys.length){var ke=this._selector(this._keys[be],this._values[be]);return be+1>=this._keys.length?(this._index=-1,this._keys=F,this._values=F):this._index++,{value:ke,done:!1}}return{value:void 0,done:!0}},Qe.prototype.throw=function(be){throw this._index>=0&&(this._index=-1,this._keys=F,this._values=F),be},Qe.prototype.return=function(be){return this._index>=0&&(this._index=-1,this._keys=F,this._values=F),{value:be,done:!0}},Qe})(),j=(function(){function Qe(){this._keys=[],this._values=[],this._cacheKey=L,this._cacheIndex=-2}return Object.defineProperty(Qe.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Qe.prototype.has=function(be){return this._find(be,!1)>=0},Qe.prototype.get=function(be){var ke=this._find(be,!1);return ke>=0?this._values[ke]:void 0},Qe.prototype.set=function(be,ke){var re=this._find(be,!0);return this._values[re]=ke,this},Qe.prototype.delete=function(be){var ke=this._find(be,!1);if(ke>=0){for(var re=this._keys.length,ue=ke+1;ue<re;ue++)this._keys[ue-1]=this._keys[ue],this._values[ue-1]=this._values[ue];return this._keys.length--,this._values.length--,Be(be,this._cacheKey)&&(this._cacheKey=L,this._cacheIndex=-2),!0}return!1},Qe.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=L,this._cacheIndex=-2},Qe.prototype.keys=function(){return new H(this._keys,this._values,he)},Qe.prototype.values=function(){return new H(this._keys,this._values,Ke)},Qe.prototype.entries=function(){return new H(this._keys,this._values,lt)},Qe.prototype["@@iterator"]=function(){return this.entries()},Qe.prototype[a]=function(){return this.entries()},Qe.prototype._find=function(be,ke){if(!Be(this._cacheKey,be)){this._cacheIndex=-1;for(var re=0;re<this._keys.length;re++)if(Be(this._keys[re],be)){this._cacheIndex=re;break}}return this._cacheIndex<0&&ke&&(this._cacheIndex=this._keys.length,this._keys.push(be),this._values.push(void 0)),this._cacheIndex},Qe})();return j;function he(Qe,be){return Qe}function Ke(Qe,be){return be}function lt(Qe,be){return[Qe,be]}}function Ne(){var L=(function(){function F(){this._map=new h}return Object.defineProperty(F.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),F.prototype.has=function(H){return this._map.has(H)},F.prototype.add=function(H){return this._map.set(H,H),this},F.prototype.delete=function(H){return this._map.delete(H)},F.prototype.clear=function(){this._map.clear()},F.prototype.keys=function(){return this._map.keys()},F.prototype.values=function(){return this._map.keys()},F.prototype.entries=function(){return this._map.entries()},F.prototype["@@iterator"]=function(){return this.keys()},F.prototype[a]=function(){return this.keys()},F})();return L}function Ee(){var L=16,F=p.create(),H=j();return(function(){function be(){this._key=j()}return be.prototype.has=function(ke){var re=he(ke,!1);return re!==void 0?p.has(re,this._key):!1},be.prototype.get=function(ke){var re=he(ke,!1);return re!==void 0?p.get(re,this._key):void 0},be.prototype.set=function(ke,re){var ue=he(ke,!0);return ue[this._key]=re,this},be.prototype.delete=function(ke){var re=he(ke,!1);return re!==void 0?delete re[this._key]:!1},be.prototype.clear=function(){this._key=j()},be})();function j(){var be;do be="@@WeakMap@@"+Qe();while(p.has(F,be));return F[be]=!0,be}function he(be,ke){if(!o.call(be,H)){if(!ke)return;Object.defineProperty(be,H,{value:p.create()})}return be[H]}function Ke(be,ke){for(var re=0;re<ke;++re)be[re]=Math.random()*255|0;return be}function lt(be){if(typeof Uint8Array=="function"){var ke=new Uint8Array(be);return typeof crypto<"u"?crypto.getRandomValues(ke):typeof msCrypto<"u"?msCrypto.getRandomValues(ke):Ke(ke,be),ke}return Ke(new Array(be),be)}function Qe(){var be=lt(L);be[6]=be[6]&79|64,be[8]=be[8]&191|128;for(var ke="",re=0;re<L;++re){var ue=be[re];(re===4||re===6||re===8)&&(ke+="-"),ue<16&&(ke+="0"),ke+=ue.toString(16).toLowerCase()}return ke}}function me(L){return L.__=void 0,delete L.__,L}})})(e||(e={})),mf}nw();function rw(){if(typeof Reflect>"u")throw console.error("[ThinkPlugin] Reflect å¯¹è±¡æœªå®šä¹‰!"),new Error("Reflect object is not available");if(typeof Reflect.getOwnMetadata!="function")throw console.error("[ThinkPlugin] Reflect.getOwnMetadata æ–¹æ³•ä¸å¯ç”¨!"),console.log("[ThinkPlugin] å¯ç”¨çš„ Reflect æ–¹æ³•:",Object.getOwnPropertyNames(Reflect)),new Error("Reflect.getOwnMetadata is not a function - reflect-metadata polyfill not properly loaded")}var wn;(function(e){e[e.Transient=0]="Transient",e[e.Singleton=1]="Singleton",e[e.ResolutionScoped=2]="ResolutionScoped",e[e.ContainerScoped=3]="ContainerScoped"})(wn||(wn={}));var Eu=function(e,t){return Eu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)r.hasOwnProperty(o)&&(n[o]=r[o])},Eu(e,t)};function Dd(e,t){Eu(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function ow(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(d){try{u(r.next(d))}catch(p){s(p)}}function c(d){try{u(r.throw(d))}catch(p){s(p)}}function u(d){d.done?i(d.value):o(d.value).then(a,c)}u((r=r.apply(e,[])).next())})}function iw(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function ma(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function cl(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function Co(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(cl(arguments[t]));return e}var Pu="injectionTokens";function sw(e){var t=Reflect.getMetadata("design:paramtypes",e)||[],n=Reflect.getOwnMetadata(Pu,e)||{};return Object.keys(n).forEach(function(r){t[+r]=n[r]}),t}function aw(e,t){return function(n,r,o){var i=Reflect.getOwnMetadata(Pu,n)||{};i[o]=e,Reflect.defineMetadata(Pu,i,n)}}function qg(e){return!!e.useClass}function Mu(e){return!!e.useFactory}var Xg=(function(){function e(t){this.wrap=t,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}return e.prototype.createProxy=function(t){var n=this,r={},o=!1,i,s=function(){return o||(i=t(n.wrap()),o=!0),i};return new Proxy(r,this.createHandler(s))},e.prototype.createHandler=function(t){var n={},r=function(o){n[o]=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];i[0]=t();var a=Reflect[o];return a.apply(void 0,Co(i))}};return this.reflectMethods.forEach(r),n},e})();function jo(e){return typeof e=="string"||typeof e=="symbol"}function lw(e){return typeof e=="object"&&"token"in e&&"multiple"in e}function vf(e){return typeof e=="object"&&"token"in e&&"transform"in e}function cw(e){return typeof e=="function"||e instanceof Xg}function qa(e){return!!e.useToken}function Xa(e){return e.useValue!=null}function uw(e){return qg(e)||Xa(e)||qa(e)||Mu(e)}var zd=(function(){function e(){this._registryMap=new Map}return e.prototype.entries=function(){return this._registryMap.entries()},e.prototype.getAll=function(t){return this.ensure(t),this._registryMap.get(t)},e.prototype.get=function(t){this.ensure(t);var n=this._registryMap.get(t);return n[n.length-1]||null},e.prototype.set=function(t,n){this.ensure(t),this._registryMap.get(t).push(n)},e.prototype.setAll=function(t,n){this._registryMap.set(t,n)},e.prototype.has=function(t){return this.ensure(t),this._registryMap.get(t).length>0},e.prototype.clear=function(){this._registryMap.clear()},e.prototype.ensure=function(t){this._registryMap.has(t)||this._registryMap.set(t,[])},e})(),dw=(function(e){Dd(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(zd),ga=(function(){function e(){this.scopedResolutions=new Map}return e})();function pw(e,t){if(e===null)return"at position #"+t;var n=e.split(",")[t].trim();return'"'+n+'" at position #'+t}function fw(e,t,n){return n===void 0&&(n="    "),Co([e],t.message.split(`
`).map(function(r){return n+r})).join(`
`)}function hw(e,t,n){var r=cl(e.toString().match(/constructor\(([\w, ]+)\)/)||[],2),o=r[1],i=o===void 0?null:o,s=pw(i,t);return fw("Cannot inject the dependency "+s+' of "'+e.name+'" constructor. Reason:',n)}function mw(e){if(typeof e.dispose!="function")return!1;var t=e.dispose;return!(t.length>0)}var gw=(function(e){Dd(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(zd),vw=(function(e){Dd(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(zd),yw=(function(){function e(){this.preResolution=new gw,this.postResolution=new vw}return e})(),Jg=new Map,bw=(function(){function e(t){this.parent=t,this._registry=new dw,this.interceptors=new yw,this.disposed=!1,this.disposables=new Set}return e.prototype.register=function(t,n,r){r===void 0&&(r={lifecycle:wn.Transient}),this.ensureNotDisposed();var o;if(uw(n)?o=n:o={useClass:n},qa(o))for(var i=[t],s=o;s!=null;){var a=s.useToken;if(i.includes(a))throw new Error("Token registration cycle detected! "+Co(i,[a]).join(" -> "));i.push(a);var c=this._registry.get(a);c&&qa(c.provider)?s=c.provider:s=null}if((r.lifecycle===wn.Singleton||r.lifecycle==wn.ContainerScoped||r.lifecycle==wn.ResolutionScoped)&&(Xa(o)||Mu(o)))throw new Error('Cannot use lifecycle "'+wn[r.lifecycle]+'" with ValueProviders or FactoryProviders');return this._registry.set(t,{provider:o,options:r}),this},e.prototype.registerType=function(t,n){return this.ensureNotDisposed(),jo(n)?this.register(t,{useToken:n}):this.register(t,{useClass:n})},e.prototype.registerInstance=function(t,n){return this.ensureNotDisposed(),this.register(t,{useValue:n})},e.prototype.registerSingleton=function(t,n){if(this.ensureNotDisposed(),jo(t)){if(jo(n))return this.register(t,{useToken:n},{lifecycle:wn.Singleton});if(n)return this.register(t,{useClass:n},{lifecycle:wn.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}var r=t;return n&&!jo(n)&&(r=n),this.register(t,{useClass:r},{lifecycle:wn.Singleton})},e.prototype.resolve=function(t,n,r){n===void 0&&(n=new ga),r===void 0&&(r=!1),this.ensureNotDisposed();var o=this.getRegistration(t);if(!o&&jo(t)){if(r)return;throw new Error('Attempted to resolve unregistered dependency token: "'+t.toString()+'"')}if(this.executePreResolutionInterceptor(t,"Single"),o){var i=this.resolveRegistration(o,n);return this.executePostResolutionInterceptor(t,i,"Single"),i}if(cw(t)){var i=this.construct(t,n);return this.executePostResolutionInterceptor(t,i,"Single"),i}throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")},e.prototype.executePreResolutionInterceptor=function(t,n){var r,o;if(this.interceptors.preResolution.has(t)){var i=[];try{for(var s=ma(this.interceptors.preResolution.getAll(t)),a=s.next();!a.done;a=s.next()){var c=a.value;c.options.frequency!="Once"&&i.push(c),c.callback(t,n)}}catch(u){r={error:u}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}this.interceptors.preResolution.setAll(t,i)}},e.prototype.executePostResolutionInterceptor=function(t,n,r){var o,i;if(this.interceptors.postResolution.has(t)){var s=[];try{for(var a=ma(this.interceptors.postResolution.getAll(t)),c=a.next();!c.done;c=a.next()){var u=c.value;u.options.frequency!="Once"&&s.push(u),u.callback(t,n,r)}}catch(d){o={error:d}}finally{try{c&&!c.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}this.interceptors.postResolution.setAll(t,s)}},e.prototype.resolveRegistration=function(t,n){if(this.ensureNotDisposed(),t.options.lifecycle===wn.ResolutionScoped&&n.scopedResolutions.has(t))return n.scopedResolutions.get(t);var r=t.options.lifecycle===wn.Singleton,o=t.options.lifecycle===wn.ContainerScoped,i=r||o,s;return Xa(t.provider)?s=t.provider.useValue:qa(t.provider)?s=i?t.instance||(t.instance=this.resolve(t.provider.useToken,n)):this.resolve(t.provider.useToken,n):qg(t.provider)?s=i?t.instance||(t.instance=this.construct(t.provider.useClass,n)):this.construct(t.provider.useClass,n):Mu(t.provider)?s=t.provider.useFactory(this):s=this.construct(t.provider,n),t.options.lifecycle===wn.ResolutionScoped&&n.scopedResolutions.set(t,s),s},e.prototype.resolveAll=function(t,n,r){var o=this;n===void 0&&(n=new ga),r===void 0&&(r=!1),this.ensureNotDisposed();var i=this.getAllRegistrations(t);if(!i&&jo(t)){if(r)return[];throw new Error('Attempted to resolve unregistered dependency token: "'+t.toString()+'"')}if(this.executePreResolutionInterceptor(t,"All"),i){var s=i.map(function(c){return o.resolveRegistration(c,n)});return this.executePostResolutionInterceptor(t,s,"All"),s}var a=[this.construct(t,n)];return this.executePostResolutionInterceptor(t,a,"All"),a},e.prototype.isRegistered=function(t,n){return n===void 0&&(n=!1),this.ensureNotDisposed(),this._registry.has(t)||n&&(this.parent||!1)&&this.parent.isRegistered(t,!0)},e.prototype.reset=function(){this.ensureNotDisposed(),this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()},e.prototype.clearInstances=function(){var t,n;this.ensureNotDisposed();try{for(var r=ma(this._registry.entries()),o=r.next();!o.done;o=r.next()){var i=cl(o.value,2),s=i[0],a=i[1];this._registry.setAll(s,a.filter(function(c){return!Xa(c.provider)}).map(function(c){return c.instance=void 0,c}))}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.createChildContainer=function(){var t,n;this.ensureNotDisposed();var r=new e(this);try{for(var o=ma(this._registry.entries()),i=o.next();!i.done;i=o.next()){var s=cl(i.value,2),a=s[0],c=s[1];c.some(function(u){var d=u.options;return d.lifecycle===wn.ContainerScoped})&&r._registry.setAll(a,c.map(function(u){return u.options.lifecycle===wn.ContainerScoped?{provider:u.provider,options:u.options}:u}))}}catch(u){t={error:u}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r},e.prototype.beforeResolution=function(t,n,r){r===void 0&&(r={frequency:"Always"}),this.interceptors.preResolution.set(t,{callback:n,options:r})},e.prototype.afterResolution=function(t,n,r){r===void 0&&(r={frequency:"Always"}),this.interceptors.postResolution.set(t,{callback:n,options:r})},e.prototype.dispose=function(){return ow(this,void 0,void 0,function(){var t;return iw(this,function(n){switch(n.label){case 0:return this.disposed=!0,t=[],this.disposables.forEach(function(r){var o=r.dispose();o&&t.push(o)}),[4,Promise.all(t)];case 1:return n.sent(),[2]}})})},e.prototype.getRegistration=function(t){return this.isRegistered(t)?this._registry.get(t):this.parent?this.parent.getRegistration(t):null},e.prototype.getAllRegistrations=function(t){return this.isRegistered(t)?this._registry.getAll(t):this.parent?this.parent.getAllRegistrations(t):null},e.prototype.construct=function(t,n){var r=this;if(t instanceof Xg)return t.createProxy(function(i){return r.resolve(i,n)});var o=(function(){var i=Jg.get(t);if(!i||i.length===0){if(t.length===0)return new t;throw new Error('TypeInfo not known for "'+t.name+'"')}var s=i.map(r.resolveParams(n,t));return new(t.bind.apply(t,Co([void 0],s)))})();return mw(o)&&this.disposables.add(o),o},e.prototype.resolveParams=function(t,n){var r=this;return function(o,i){var s,a,c;try{return lw(o)?vf(o)?o.multiple?(s=r.resolve(o.transform)).transform.apply(s,Co([r.resolveAll(o.token,new ga,o.isOptional)],o.transformArgs)):(a=r.resolve(o.transform)).transform.apply(a,Co([r.resolve(o.token,t,o.isOptional)],o.transformArgs)):o.multiple?r.resolveAll(o.token,new ga,o.isOptional):r.resolve(o.token,t,o.isOptional):vf(o)?(c=r.resolve(o.transform,t)).transform.apply(c,Co([r.resolve(o.token,t)],o.transformArgs)):r.resolve(o,t)}catch(u){throw new Error(hw(n,i,u))}}},e.prototype.ensureNotDisposed=function(){if(this.disposed)throw new Error("This container has been disposed, you cannot interact with a disposed container")},e})(),Sn=new bw;function Ot(e,t){var n={token:e,multiple:!1,isOptional:t};return aw(n)}function ww(e){return function(t){Jg.set(t,sw(t))}}function or(){return function(e){ww()(e),Sn.registerSingleton(e)}}const Sw="think",Yt={done:"âœ…",cancelled:"âŒ",due:"ðŸ“…",scheduled:"â³",start:"ðŸ›«",created:"âž•"},yf="æ— æ—¥æœŸ",xw={SETTINGS_TABS:"think-settings-active-tab"},Fc={NEW_DATASOURCE:"æ–°æ•°æ®æº",NEW_VIEW:"æ–°è§†å›¾",NEW_LAYOUT:"æ–°å¸ƒå±€"},Cw={æ‰“å¡:"#d2cceb",ä»»åŠ¡:"#caebf3",è®¡åˆ’:"#d8ecb2",æ€»ç»“:"#E5D5B9",äº‹ä»¶:"#94e2d6",æ„Ÿå—:"#93daf0",æ€è€ƒ:"#f09393"};function Qg(e){const t=(e||"").split("/")[0]||"";return Cw[t]||"#e0e0e0"}const ul={enabled:!1,provider:"openai_compat",apiEndpoint:"https://api.ricardochat.cn/v1",apiKey:"sk-9BZGGwd78iHSraAdHtnLDXFoY3bJhxqRwivYazOPoA0dTepV",model:"[æ¸ é“2]gemini-2.5-pro",temperature:.7,maxTokens:4096,requestTimeoutMs:3e4,enabledBlockIds:[],defaultThemeId:void 0,allowMultipleResults:!0,maxResults:5,confirmMode:"single",preloadConfigOnStartup:!1,configCacheTTLSeconds:300,customPrompt:""},bf=`ã€ç¤ºä¾‹è§„åˆ™ã€‘
1. å½“æˆ‘è¯´"å¿ƒæƒ…"ã€"å¼€å¿ƒ"ã€"éš¾è¿‡"ç­‰æƒ…ç»ªè¯æ—¶ï¼Œä½¿ç”¨"æ‰“å¡"Blockï¼Œå­—æ®µ"å¿ƒæƒ…"å¡«å†™æƒ…ç»ªï¼Œ"è¯„åˆ†"å¡«å†™1-5åˆ†
2. å½“æˆ‘è¯´"å†™æ–‡ç« "ã€"å†™ä½œ"æ—¶ï¼Œä½¿ç”¨"ä»»åŠ¡"Blockï¼Œä¸»é¢˜é€‰æ‹©"ç”µè„‘/å†™ä½œ"
3. å½“æˆ‘è¯´"å­¦ä¹ äº†xxx"æ—¶ï¼Œä½¿ç”¨"å­¦ä¹ è®°å½•"Block
4. é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æžœä¸ç¡®å®šï¼Œä½¿ç”¨"é—ªå¿µ"Block`,ev={groups:[],viewInstances:[],layouts:[],inputSettings:{blocks:[],themes:[],overrides:[]},floatingTimerEnabled:!0,activeThemePaths:[],aiSettings:ul},kw=["BlockView","TableView","ExcelView","TimelineView","StatisticsView","HeatmapView","EventTimelineView"],_w=["id","type","title","content","categoryKey","tags","theme","recurrence","icon","priority","date","header","startTime","endTime","duration","period","rating","pintu","folder","periodCount"];function Ld(e){const t=new Set(_w);return e.forEach(n=>{Object.keys(n.extra||{}).forEach(o=>t.add("extra."+o));const r=n.file;r&&typeof r=="object"&&Object.keys(r).forEach(o=>t.add("file."+o))}),Array.from(t).sort()}function Gt(e,t){return t.startsWith("extra.")?e.extra?.[t.slice(6)]:t.startsWith("file.")?e.file?.[t.slice(5)]:e[t]}const wf={title:{key:"title",label:"æ ‡é¢˜",type:"string",description:"ä»»åŠ¡æˆ–å—çš„ä¸»è¦å†…å®¹"},categoryKey:{key:"categoryKey",label:"ç±»åˆ«",type:"string",description:'ç»Ÿä¸€çš„åˆ†ç±»é”® (ä¾‹å¦‚ "ä»»åŠ¡/done")'},date:{key:"date",label:"æ—¥æœŸ",type:"date",description:"é¡¹ç›®çš„ä¸»è¦å…³è”æ—¥æœŸ"},tags:{key:"tags",label:"æ ‡ç­¾",type:"tags",description:"æ‰€æœ‰å…³è”çš„æ ‡ç­¾",formatter:e=>Array.isArray(e)?e.join(", "):""},priority:{key:"priority",label:"ä¼˜å…ˆçº§",type:"string"},icon:{key:"icon",label:"å›¾æ ‡",type:"icon"},period:{key:"period",label:"å­—æ®µç²’åº¦",type:"string",description:"è¯¥æ¡ç›®å½’å±žçš„æ—¶é—´ç²’åº¦ï¼šå¹´/å­£/æœˆ/å‘¨/å¤©ï¼ˆæœªè®¾ç½®é»˜è®¤å¤©ï¼‰"},time:{key:"time",label:"æ—¶é—´",type:"string",description:"è®°å½•çš„æ—¶é—´ç‚¹ï¼Œå¦‚ HH:mm"},duration:{key:"duration",label:"æ—¶é•¿",type:"number",description:"ä»»åŠ¡æˆ–äº‹ä»¶çš„æŒç»­åˆ†é’Ÿæ•°"},rating:{key:"rating",label:"è¯„åˆ†",type:"number",description:"å¯¹å—å†…å®¹çš„è¯„åˆ†"},pintu:{key:"pintu",label:"è¯„å›¾",type:"string",description:"ä¸Žè¯„åˆ†å…³è”çš„å›¾ç‰‡è·¯å¾„"},folder:{key:"folder",label:"æ–‡ä»¶å¤¹",type:"string",description:"æ–‡ä»¶æ‰€åœ¨çš„çˆ¶æ–‡ä»¶å¤¹"},periodCount:{key:"periodCount",label:"ç²’åº¦åºå·",type:"number",description:"ä¸Žæ—¥æœŸç»“åˆè®¡ç®—å‡ºçš„åºå·ï¼Œå¦‚ç¬¬å‡ å‘¨/ç¬¬å‡ æœˆ"},"file.path":{key:"file.path",label:"æ–‡ä»¶è·¯å¾„",type:"string"},"file.basename":{key:"file.basename",label:"æ–‡ä»¶å",type:"string"},header:{key:"header",label:"æ‰€åœ¨ç« èŠ‚",type:"string"},startISO:{key:"startISO",label:"å¼€å§‹æ—¥æœŸ",type:"date"},endISO:{key:"endISO",label:"ç»“æŸæ—¥æœŸ",type:"date"},"extra.åœ°ç‚¹":{key:"extra.åœ°ç‚¹",label:"åœ°ç‚¹",type:"string",description:"äº‹ä»¶æˆ–ä»»åŠ¡å‘ç”Ÿçš„åœ°ç‚¹"},"extra.é¡¹ç›®":{key:"extra.é¡¹ç›®",label:"æ‰€å±žé¡¹ç›®",type:"string",description:"å…³è”çš„GTDé¡¹ç›®"}};function Tw(e){return wf[e]?wf[e].label:e.startsWith("extra.")?e.slice(6):e}var Xs,ut,tv,ko,Sf,nv,rv,ov,Nd,Ou,Ru,iv,Ps={},sv=[],Iw=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Js=Array.isArray;function Tr(e,t){for(var n in t)e[n]=t[n];return e}function Fd(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Kt(e,t,n){var r,o,i,s={};for(i in t)i=="key"?r=t[i]:i=="ref"?o=t[i]:s[i]=t[i];if(arguments.length>2&&(s.children=arguments.length>3?Xs.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)s[i]===void 0&&(s[i]=e.defaultProps[i]);return ys(e,s,r,o,null)}function ys(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++tv,__i:-1,__u:0};return o==null&&ut.vnode!=null&&ut.vnode(i),i}function av(){return{current:null}}function yt(e){return e.children}function fr(e,t){this.props=e,this.context=t}function Si(e,t){if(t==null)return e.__?Si(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Si(e):null}function lv(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return lv(e)}}function Au(e){(!e.__d&&(e.__d=!0)&&ko.push(e)&&!dl.__r++||Sf!=ut.debounceRendering)&&((Sf=ut.debounceRendering)||nv)(dl)}function dl(){for(var e,t,n,r,o,i,s,a=1;ko.length;)ko.length>a&&ko.sort(rv),e=ko.shift(),a=ko.length,e.__d&&(n=void 0,r=void 0,o=(r=(t=e).__v).__e,i=[],s=[],t.__P&&((n=Tr({},r)).__v=r.__v+1,ut.vnode&&ut.vnode(n),Bd(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[o]:null,i,o??Si(r),!!(32&r.__u),s),n.__v=r.__v,n.__.__k[n.__i]=n,dv(i,n,s),r.__e=r.__=null,n.__e!=o&&lv(n)));dl.__r=0}function cv(e,t,n,r,o,i,s,a,c,u,d){var p,f,h,m,g,v,b,S=r&&r.__k||sv,y=t.length;for(c=$w(n,t,S,c,y),p=0;p<y;p++)(h=n.__k[p])!=null&&(f=h.__i==-1?Ps:S[h.__i]||Ps,h.__i=p,v=Bd(e,h,f,o,i,s,a,c,u,d),m=h.__e,h.ref&&f.ref!=h.ref&&(f.ref&&Wd(f.ref,null,h),d.push(h.ref,h.__c||m,h)),g==null&&m!=null&&(g=m),(b=!!(4&h.__u))||f.__k===h.__k?c=uv(h,c,e,b):typeof h.type=="function"&&v!==void 0?c=v:m&&(c=m.nextSibling),h.__u&=-7);return n.__e=g,c}function $w(e,t,n,r,o){var i,s,a,c,u,d=n.length,p=d,f=0;for(e.__k=new Array(o),i=0;i<o;i++)(s=t[i])!=null&&typeof s!="boolean"&&typeof s!="function"?(c=i+f,(s=e.__k[i]=typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?ys(null,s,null,null,null):Js(s)?ys(yt,{children:s},null,null,null):s.constructor==null&&s.__b>0?ys(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=e,s.__b=e.__b+1,a=null,(u=s.__i=Ew(s,n,c,p))!=-1&&(p--,(a=n[u])&&(a.__u|=2)),a==null||a.__v==null?(u==-1&&(o>d?f--:o<d&&f++),typeof s.type!="function"&&(s.__u|=4)):u!=c&&(u==c-1?f--:u==c+1?f++:(u>c?f--:f++,s.__u|=4))):e.__k[i]=null;if(p)for(i=0;i<d;i++)(a=n[i])!=null&&(2&a.__u)==0&&(a.__e==r&&(r=Si(a)),fv(a,a));return r}function uv(e,t,n,r){var o,i;if(typeof e.type=="function"){for(o=e.__k,i=0;o&&i<o.length;i++)o[i]&&(o[i].__=e,t=uv(o[i],t,n,r));return t}e.__e!=t&&(r&&(t&&e.type&&!t.parentNode&&(t=Si(e)),n.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function Vr(e,t){return t=t||[],e==null||typeof e=="boolean"||(Js(e)?e.some(function(n){Vr(n,t)}):t.push(e)),t}function Ew(e,t,n,r){var o,i,s,a=e.key,c=e.type,u=t[n],d=u!=null&&(2&u.__u)==0;if(u===null&&e.key==null||d&&a==u.key&&c==u.type)return n;if(r>(d?1:0)){for(o=n-1,i=n+1;o>=0||i<t.length;)if((u=t[s=o>=0?o--:i++])!=null&&(2&u.__u)==0&&a==u.key&&c==u.type)return s}return-1}function xf(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Iw.test(t)?n:n+"px"}function va(e,t,n,r,o){var i,s;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||xf(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||xf(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")i=t!=(t=t.replace(ov,"$1")),s=t.toLowerCase(),t=s in e||t=="onFocusOut"||t=="onFocusIn"?s.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=Nd,e.addEventListener(t,i?Ru:Ou,i)):e.removeEventListener(t,i?Ru:Ou,i);else{if(o=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function Cf(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=Nd++;else if(t.t<n.u)return;return n(ut.event?ut.event(t):t)}}}function Bd(e,t,n,r,o,i,s,a,c,u){var d,p,f,h,m,g,v,b,S,y,w,k,C,T,I,E,O,P=t.type;if(t.constructor!=null)return null;128&n.__u&&(c=!!(32&n.__u),i=[a=t.__e=n.__e]),(d=ut.__b)&&d(t);e:if(typeof P=="function")try{if(b=t.props,S="prototype"in P&&P.prototype.render,y=(d=P.contextType)&&r[d.__c],w=d?y?y.props.value:d.__:r,n.__c?v=(p=t.__c=n.__c).__=p.__E:(S?t.__c=p=new P(b,w):(t.__c=p=new fr(b,w),p.constructor=P,p.render=Mw),y&&y.sub(p),p.props=b,p.state||(p.state={}),p.context=w,p.__n=r,f=p.__d=!0,p.__h=[],p._sb=[]),S&&p.__s==null&&(p.__s=p.state),S&&P.getDerivedStateFromProps!=null&&(p.__s==p.state&&(p.__s=Tr({},p.__s)),Tr(p.__s,P.getDerivedStateFromProps(b,p.__s))),h=p.props,m=p.state,p.__v=t,f)S&&P.getDerivedStateFromProps==null&&p.componentWillMount!=null&&p.componentWillMount(),S&&p.componentDidMount!=null&&p.__h.push(p.componentDidMount);else{if(S&&P.getDerivedStateFromProps==null&&b!==h&&p.componentWillReceiveProps!=null&&p.componentWillReceiveProps(b,w),!p.__e&&p.shouldComponentUpdate!=null&&p.shouldComponentUpdate(b,p.__s,w)===!1||t.__v==n.__v){for(t.__v!=n.__v&&(p.props=b,p.state=p.__s,p.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(x){x&&(x.__=t)}),k=0;k<p._sb.length;k++)p.__h.push(p._sb[k]);p._sb=[],p.__h.length&&s.push(p);break e}p.componentWillUpdate!=null&&p.componentWillUpdate(b,p.__s,w),S&&p.componentDidUpdate!=null&&p.__h.push(function(){p.componentDidUpdate(h,m,g)})}if(p.context=w,p.props=b,p.__P=e,p.__e=!1,C=ut.__r,T=0,S){for(p.state=p.__s,p.__d=!1,C&&C(t),d=p.render(p.props,p.state,p.context),I=0;I<p._sb.length;I++)p.__h.push(p._sb[I]);p._sb=[]}else do p.__d=!1,C&&C(t),d=p.render(p.props,p.state,p.context),p.state=p.__s;while(p.__d&&++T<25);p.state=p.__s,p.getChildContext!=null&&(r=Tr(Tr({},r),p.getChildContext())),S&&!f&&p.getSnapshotBeforeUpdate!=null&&(g=p.getSnapshotBeforeUpdate(h,m)),E=d,d!=null&&d.type===yt&&d.key==null&&(E=pv(d.props.children)),a=cv(e,Js(E)?E:[E],t,n,r,o,i,s,a,c,u),p.base=t.__e,t.__u&=-161,p.__h.length&&s.push(p),v&&(p.__E=p.__=null)}catch(x){if(t.__v=null,c||i!=null)if(x.then){for(t.__u|=c?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;i[i.indexOf(a)]=null,t.__e=a}else{for(O=i.length;O--;)Fd(i[O]);Du(t)}else t.__e=n.__e,t.__k=n.__k,x.then||Du(t);ut.__e(x,t,n)}else i==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):a=t.__e=Pw(n.__e,t,n,r,o,i,s,c,u);return(d=ut.diffed)&&d(t),128&t.__u?void 0:a}function Du(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(Du)}function dv(e,t,n){for(var r=0;r<n.length;r++)Wd(n[r],n[++r],n[++r]);ut.__c&&ut.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(i){i.call(o)})}catch(i){ut.__e(i,o.__v)}})}function pv(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:Js(e)?e.map(pv):Tr({},e)}function Pw(e,t,n,r,o,i,s,a,c){var u,d,p,f,h,m,g,v=n.props,b=t.props,S=t.type;if(S=="svg"?o="http://www.w3.org/2000/svg":S=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),i!=null){for(u=0;u<i.length;u++)if((h=i[u])&&"setAttribute"in h==!!S&&(S?h.localName==S:h.nodeType==3)){e=h,i[u]=null;break}}if(e==null){if(S==null)return document.createTextNode(b);e=document.createElementNS(o,S,b.is&&b),a&&(ut.__m&&ut.__m(t,i),a=!1),i=null}if(S==null)v===b||a&&e.data==b||(e.data=b);else{if(i=i&&Xs.call(e.childNodes),v=n.props||Ps,!a&&i!=null)for(v={},u=0;u<e.attributes.length;u++)v[(h=e.attributes[u]).name]=h.value;for(u in v)if(h=v[u],u!="children"){if(u=="dangerouslySetInnerHTML")p=h;else if(!(u in b)){if(u=="value"&&"defaultValue"in b||u=="checked"&&"defaultChecked"in b)continue;va(e,u,null,h,o)}}for(u in b)h=b[u],u=="children"?f=h:u=="dangerouslySetInnerHTML"?d=h:u=="value"?m=h:u=="checked"?g=h:a&&typeof h!="function"||v[u]===h||va(e,u,h,v[u],o);if(d)a||p&&(d.__html==p.__html||d.__html==e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(p&&(e.innerHTML=""),cv(t.type=="template"?e.content:e,Js(f)?f:[f],t,n,r,S=="foreignObject"?"http://www.w3.org/1999/xhtml":o,i,s,i?i[0]:n.__k&&Si(n,0),a,c),i!=null)for(u=i.length;u--;)Fd(i[u]);a||(u="value",S=="progress"&&m==null?e.removeAttribute("value"):m!=null&&(m!==e[u]||S=="progress"&&!m||S=="option"&&m!=v[u])&&va(e,u,m,v[u],o),u="checked",g!=null&&g!=e[u]&&va(e,u,g,v[u],o))}return e}function Wd(e,t,n){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(o){ut.__e(o,n)}}function fv(e,t,n){var r,o;if(ut.unmount&&ut.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||Wd(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){ut.__e(i,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&fv(r[o],t,n||typeof e.type!="function");n||Fd(e.__e),e.__c=e.__=e.__e=void 0}function Mw(e,t,n){return this.constructor(e,n)}function er(e,t,n){var r,o,i,s;t==document&&(t=document.documentElement),ut.__&&ut.__(e,t),o=(r=typeof n=="function")?null:n&&n.__k||t.__k,i=[],s=[],Bd(t,e=(!r&&n||t).__k=Kt(yt,null,[e]),o||Ps,Ps,t.namespaceURI,!r&&n?[n]:o?null:t.firstChild?Xs.call(t.childNodes):null,i,!r&&n?n:o?o.__e:t.firstChild,r,s),dv(i,e,s)}function hv(e,t){er(e,t,hv)}function Ow(e,t,n){var r,o,i,s,a=Tr({},e.props);for(i in e.type&&e.type.defaultProps&&(s=e.type.defaultProps),t)i=="key"?r=t[i]:i=="ref"?o=t[i]:a[i]=t[i]===void 0&&s!=null?s[i]:t[i];return arguments.length>2&&(a.children=arguments.length>3?Xs.call(arguments,2):n),ys(e.type,a,r||e.key,o||e.ref,null)}function Ut(e){function t(n){var r,o;return this.getChildContext||(r=new Set,(o={})[t.__c]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(i){this.props.value!=i.value&&r.forEach(function(s){s.__e=!0,Au(s)})},this.sub=function(i){r.add(i);var s=i.componentWillUnmount;i.componentWillUnmount=function(){r&&r.delete(i),s&&s.call(i)}}),n.children}return t.__c="__cC"+iv++,t.__=e,t.Provider=t.__l=(t.Consumer=function(n,r){return n.children(r)}).contextType=t,t}Xs=sv.slice,ut={__e:function(e,t,n,r){for(var o,i,s;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),s=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),s=o.__d),s)return o.__E=o}catch(a){e=a}throw e}},tv=0,fr.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Tr({},this.state),typeof e=="function"&&(e=e(Tr({},n),this.props)),e&&Tr(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Au(this))},fr.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Au(this))},fr.prototype.render=yt,ko=[],nv=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,rv=function(e,t){return e.__v.__b-t.__v.__b},dl.__r=0,ov=/(PointerCapture)$|Capture$/i,Nd=0,Ou=Cf(!1),Ru=Cf(!0),iv=0;var Hr,Rt,Bc,kf,xi=0,mv=[],Ft=ut,_f=Ft.__b,Tf=Ft.__r,If=Ft.diffed,$f=Ft.__c,Ef=Ft.unmount,Pf=Ft.__;function No(e,t){Ft.__h&&Ft.__h(Rt,e,xi||t),xi=0;var n=Rt.__H||(Rt.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function U(e){return xi=1,Qs(gv,e)}function Qs(e,t,n){var r=No(Hr++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):gv(void 0,t),function(a){var c=r.__N?r.__N[0]:r.__[0],u=r.t(c,a);c!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=Rt,!Rt.__f)){var o=function(a,c,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(f){return!!f.__c});if(d.every(function(f){return!f.__N}))return!i||i.call(this,a,c,u);var p=r.__c.props!==a;return d.forEach(function(f){if(f.__N){var h=f.__[0];f.__=f.__N,f.__N=void 0,h!==f.__[0]&&(p=!0)}}),i&&i.call(this,a,c,u)||p};Rt.__f=!0;var i=Rt.shouldComponentUpdate,s=Rt.componentWillUpdate;Rt.componentWillUpdate=function(a,c,u){if(this.__e){var d=i;i=void 0,o(a,c,u),i=d}s&&s.call(this,a,c,u)},Rt.shouldComponentUpdate=o}return r.__N||r.__}function ae(e,t){var n=No(Hr++,3);!Ft.__s&&Ud(n.__H,t)&&(n.__=e,n.u=t,Rt.__H.__h.push(n))}function Yr(e,t){var n=No(Hr++,4);!Ft.__s&&Ud(n.__H,t)&&(n.__=e,n.u=t,Rt.__h.push(n))}function te(e){return xi=5,ie(function(){return{current:e}},[])}function vr(e,t,n){xi=6,Yr(function(){if(typeof e=="function"){var r=e(t());return function(){e(null),r&&typeof r=="function"&&r()}}if(e)return e.current=t(),function(){return e.current=null}},n==null?n:n.concat(e))}function ie(e,t){var n=No(Hr++,7);return Ud(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function Te(e,t){return xi=8,ie(function(){return e},t)}function bt(e){var t=Rt.context[e.__c],n=No(Hr++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(Rt)),t.props.value):e.__}function Vd(e,t){Ft.useDebugValue&&Ft.useDebugValue(t?t(e):e)}function Rw(e){var t=No(Hr++,10),n=U();return t.__=e,Rt.componentDidCatch||(Rt.componentDidCatch=function(r,o){t.__&&t.__(r,o),n[1](r)}),[n[0],function(){n[1](void 0)}]}function Hd(){var e=No(Hr++,11);if(!e.__){for(var t=Rt.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function Aw(){for(var e;e=mv.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Ja),e.__H.__h.forEach(zu),e.__H.__h=[]}catch(t){e.__H.__h=[],Ft.__e(t,e.__v)}}Ft.__b=function(e){Rt=null,_f&&_f(e)},Ft.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Pf&&Pf(e,t)},Ft.__r=function(e){Tf&&Tf(e),Hr=0;var t=(Rt=e.__c).__H;t&&(Bc===Rt?(t.__h=[],Rt.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(Ja),t.__h.forEach(zu),t.__h=[],Hr=0)),Bc=Rt},Ft.diffed=function(e){If&&If(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(mv.push(t)!==1&&kf===Ft.requestAnimationFrame||((kf=Ft.requestAnimationFrame)||Dw)(Aw)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),Bc=Rt=null},Ft.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Ja),n.__h=n.__h.filter(function(r){return!r.__||zu(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],Ft.__e(r,n.__v)}}),$f&&$f(e,t)},Ft.unmount=function(e){Ef&&Ef(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Ja(r)}catch(o){t=o}}),n.__H=void 0,t&&Ft.__e(t,n.__v))};var Mf=typeof requestAnimationFrame=="function";function Dw(e){var t,n=function(){clearTimeout(r),Mf&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,35);Mf&&(t=requestAnimationFrame(n))}function Ja(e){var t=Rt,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),Rt=t}function zu(e){var t=Rt;e.__c=e.__(),Rt=t}function Ud(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function gv(e,t){return typeof t=="function"?t(e):t}let Ir,Wr,Of,Qr;function zw(e){Ir&&console.warn("ThinkPlugin: AppStore is being registered a second time."),Ir=e}function Lw(e){Wr&&console.warn("ThinkPlugin: DataStore is being registered a second time."),Wr=e}function Nw(e){Of&&console.warn("ThinkPlugin: TimerService is being registered a second time."),Of=e}function Fw(e){Qr&&console.warn("ThinkPlugin: InputService is being registered a second time."),Qr=e}const Lr="App",vv="ThinkSettings",yv="SettingsProvider";function $r(e){return`${e}_${Date.now().toString(36)}${Math.random().toString(36).slice(2,7)}`}function jd(e,t,n){const r=[...e],o=r.find(d=>d.id===t);if(!o)return r;const i=r.filter(d=>d.parentId===o.parentId),s=i.findIndex(d=>d.id===t);if(s===-1)return r;const a=n==="up"?s-1:s+1;if(a<0||a>=i.length)return r;const c=r.findIndex(d=>d.id===t),u=r.findIndex(d=>d.id===i[a].id);if(c>-1&&u>-1){const[d]=r.splice(c,1);r.splice(u,0,d)}return r}function Bw(e,t,n="name"){const r=[...e],o=r.findIndex(c=>c.id===t);if(o===-1)return r;const i=r[o],s=JSON.parse(JSON.stringify(i));s.id=$r(i.id.split("_")[0]);const a=i[n]||"";return s[n]=`${a} (å‰¯æœ¬)`,s.parentId=i.parentId,r.splice(o+1,0,s),r}function Ww(e,t,n){const r=[...e],[o]=r.splice(t,1);return r.splice(n,0,o),r}function Vw(e,t,n){const r=e.findIndex(i=>i.id===t);if(r===-1)return[...e];const o=[...e];return o[r]={...o[r],...n},o}function Hw(e,t){const n=new Set(t);return e.filter(r=>!n.has(r.id))}function Uw(e){return new Map(e.map(t=>[t.id,t]))}const pr={updateById:Vw,removeByIds:Hw,arrayToMap:Uw};class dr{static async updateArray(t,n,r){await t(o=>{const i=n.split(".");let s=o;for(let c=0;c<i.length-1;c++)s[i[c]]||(s[i[c]]={}),s=s[i[c]];const a=i[i.length-1];s[a]||(s[a]=[]),s[a]=r(s[a])})}static createCrudOperations(t,n,r="item"){return{add:async o=>{const i={...o,id:$r(r)};return await dr.updateArray(t,n,s=>[...s,i]),i},update:async(o,i)=>{await dr.updateArray(t,n,s=>pr.updateById(s,o,i))},delete:async o=>{await dr.updateArray(t,n,i=>pr.removeByIds(i,[o]))},batchDelete:async o=>{await dr.updateArray(t,n,i=>pr.removeByIds(i,o))},batchUpdate:async o=>{await dr.updateArray(t,n,i=>{let s=[...i];return o.forEach(({id:a,data:c})=>{s=pr.updateById(s,a,c)}),s})}}}static createQueryOperations(t,n){const r=()=>{const o=n.split(".");let i=t();for(const s of o){if(!i[s])return[];i=i[s]}return Array.isArray(i)?i:[]};return{getAll:()=>r(),getById:o=>r().find(i=>i.id===o),findBy:o=>r().filter(o),exists:o=>r().some(i=>i.id===o),count:()=>r().length}}static createStoreKit(t,n,r,o="item"){const i=this.createCrudOperations(t,r,o),s=this.createQueryOperations(n,r);return{...i,...s}}}class Wc extends dr{static async moveToParent(t,n,r,o){await dr.updateArray(t,n,i=>pr.updateById(i,r,{parentId:o}))}static createHierarchicalQueries(t,n){const r=dr.createQueryOperations(t,n);return{...r,getChildren:o=>r.getAll().filter(i=>i.parentId===o),getTopLevel:()=>r.getAll().filter(o=>!o.parentId),hasChildren:o=>r.getAll().some(i=>i.parentId===o)}}}class jw{_updateSettings;_getSettings;_themeOperations;_overrideOperations;constructor(t,n){this._updateSettings=t,this._getSettings=n,this._themeOperations=dr.createStoreKit(t,n,"inputSettings.themes","thm"),this._overrideOperations=dr.createStoreKit(t,n,"inputSettings.overrides","ovr")}addTheme=async t=>t?this._themeOperations.getAll().some(r=>r.path===t)?(console.warn(`ä¸»é¢˜è·¯å¾„ "${t}" å·²å­˜åœ¨`),null):await this._themeOperations.add({path:t,icon:""}):(console.warn("ä¸»é¢˜è·¯å¾„ä¸èƒ½ä¸ºç©º"),null);updateTheme=async(t,n)=>{if(n.path&&this._themeOperations.getAll().some(o=>o.path===n.path&&o.id!==t)){console.warn(`ä¸»é¢˜è·¯å¾„ "${n.path}" å·²å­˜åœ¨`);return}await this._themeOperations.update(t,n)};deleteTheme=async t=>{await this._themeOperations.delete(t);const r=this._overrideOperations.findBy(o=>o.themeId===t).map(o=>o.id);r.length>0&&await this._overrideOperations.batchDelete(r)};batchUpdateThemes=async(t,n)=>{const r=t.map(o=>({id:o,data:n}));await this._themeOperations.batchUpdate(r)};batchDeleteThemes=async t=>{await this._themeOperations.batchDelete(t);const n=new Set(t),o=this._overrideOperations.findBy(i=>n.has(i.themeId)).map(i=>i.id);o.length>0&&await this._overrideOperations.batchDelete(o)};batchUpdateThemeStatus=async(t,n)=>{await this._updateSettings(r=>{const o=t.map(i=>r.inputSettings.themes.find(s=>s.id===i)?.path).filter(Boolean);r.activeThemePaths||(r.activeThemePaths=[]),n==="active"?o.forEach(i=>{r.activeThemePaths.includes(i)||r.activeThemePaths.push(i)}):r.activeThemePaths=r.activeThemePaths.filter(i=>!o.includes(i))})};batchUpdateThemeIcon=async(t,n)=>{await this._updateSettings(r=>{t.forEach(o=>{const i=r.inputSettings.themes.find(s=>s.id===o);i&&(i.icon=n)})})};batchSetOverrideStatus=async(t,n)=>{await this._updateSettings(r=>{if(n==="inherit"){const o=new Set(t.map(i=>`${i.themeId}:${i.blockId}`));r.inputSettings.overrides=r.inputSettings.overrides.filter(i=>!o.has(`${i.themeId}:${i.blockId}`))}else t.forEach(o=>{const i=r.inputSettings.overrides.findIndex(s=>s.blockId===o.blockId&&s.themeId===o.themeId);if(i>-1){const s=r.inputSettings.overrides[i];n==="disabled"?s.disabled=!0:delete s.disabled}else{const s={themeId:o.themeId,blockId:o.blockId};n==="disabled"&&(s.disabled=!0),r.inputSettings.overrides.push({...s,id:$r("ovr")})}})})};upsertOverride=async t=>{const n=this._overrideOperations.findBy(r=>r.blockId===t.blockId&&r.themeId===t.themeId)[0];if(n){const r={...t};return await this._overrideOperations.update(n.id,r),{...n,...r}}else return await this._overrideOperations.add(t)};deleteOverride=async(t,n)=>{const r=this._overrideOperations.findBy(o=>o.blockId===t&&o.themeId===n);for(const o of r)await this._overrideOperations.delete(o.id)};batchUpsertOverrides=async t=>{for(const n of t)await this.upsertOverride(n)};batchDeleteOverrides=async t=>{for(const{blockId:n,themeId:r}of t)await this.deleteOverride(n,r)};getThemes=()=>this._themeOperations.getAll();getTheme=t=>this._themeOperations.getById(t);getOverrides=()=>this._overrideOperations.getAll();getOverride=(t,n)=>this._overrideOperations.findBy(r=>r.blockId===t&&r.themeId===n)[0];getOverridesByTheme=t=>this._overrideOperations.findBy(n=>n.themeId===t);getOverridesByBlock=t=>this._overrideOperations.findBy(n=>n.blockId===t);themeExists=t=>this._themeOperations.exists(t);isPathUsed=(t,n)=>{const r=this._themeOperations.findBy(o=>o.path===t);return n?r.some(o=>o.id!==n):r.length>0};getThemeCount=()=>this._themeOperations.count()}var Yw=Object.getOwnPropertyDescriptor,Gw=(e,t,n,r)=>{for(var o=r>1?void 0:r?Yw(t,n):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(o=s(o)||o);return o},Kw=(e,t)=>(n,r)=>t(n,r,e);const Vc="think-plugin-timer-state.json";let pl=class{constructor(e){this.app=e}async loadStateFromFile(){try{if(!await this.app.vault.adapter.exists(Vc))return[];const t=await this.app.vault.adapter.read(Vc);if(!t)return[];const n=JSON.parse(t);return Array.isArray(n)?n:[]}catch(e){return console.error("Think Plugin: Failed to load timer state from file.",e),[]}}async saveStateToFile(e){try{const t=JSON.stringify(e,null,2);await this.app.vault.adapter.write(Vc,t)}catch(t){console.error("Think Plugin: Failed to save timer state to file.",t)}}};pl=Gw([or(),Kw(0,Ot(Lr))],pl);var Zw=Object.getOwnPropertyDescriptor,qw=(e,t,n,r)=>{for(var o=r>1?void 0:r?Zw(t,n):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(o=s(o)||o);return o},Xw=(e,t)=>(n,r)=>t(n,r,e);let Ms=class{constructor(e){this.timerStateService=e}_timers=[];_listeners=new Set;subscribe(e){return this._listeners.add(e),()=>this._listeners.delete(e)}_notify(){this._listeners.forEach(e=>e())}setInitialTimers=e=>{this._timers=[...e],this._notify()};getTimers=()=>[...this._timers];getTimer=e=>this._timers.find(t=>t.id===e);getActiveTimer=()=>this._timers.find(e=>e.status==="running");addTimer=async e=>{const t={...e,id:$r("timer")};return this._timers=[...this._timers,t],this._notify(),await this._persistAndHandleError(),t};updateTimer=async e=>{const t=this._timers.findIndex(r=>r.id===e.id);if(t===-1)return console.warn(`æ‰¾ä¸åˆ°IDä¸º ${e.id} çš„è®¡æ—¶å™¨`),!1;const n=[...this._timers];return n[t]={...e},this._timers=n,this._notify(),await this._persistAndHandleError(),!0};removeTimer=async e=>{const t=this._timers.length;return this._timers=this._timers.filter(n=>n.id!==e),this._timers.length===t?(console.warn(`æ‰¾ä¸åˆ°IDä¸º ${e} çš„è®¡æ—¶å™¨`),!1):(this._notify(),await this._persistAndHandleError(),!0)};startTimer=async e=>{const t=this._timers.find(n=>n.id===e);return t?t.status!=="paused"?(console.warn(`è®¡æ—¶å™¨ ${e} å½“å‰çŠ¶æ€ä¸º ${t.status}ï¼Œæ— æ³•å¯åŠ¨`),!1):await this.updateTimer({...t,status:"running",startTime:Date.now()}):(console.warn(`æ‰¾ä¸åˆ°IDä¸º ${e} çš„è®¡æ—¶å™¨`),!1)};pauseTimer=async e=>{const t=this._timers.find(r=>r.id===e);if(!t)return console.warn(`æ‰¾ä¸åˆ°IDä¸º ${e} çš„è®¡æ—¶å™¨`),!1;if(t.status!=="running")return console.warn(`è®¡æ—¶å™¨ ${e} å½“å‰çŠ¶æ€ä¸º ${t.status}ï¼Œæ— æ³•æš‚åœ`),!1;const n=t.elapsedSeconds+Math.floor((Date.now()-t.startTime)/1e3);return await this.updateTimer({...t,status:"paused",elapsedSeconds:n})};resetTimer=async e=>{const t=this._timers.find(n=>n.id===e);return t?await this.updateTimer({...t,elapsedSeconds:0,status:"paused",startTime:Date.now()}):(console.warn(`æ‰¾ä¸åˆ°IDä¸º ${e} çš„è®¡æ—¶å™¨`),!1)};batchRemoveTimers=async e=>{const t=this._timers.length;this._timers=this._timers.filter(r=>!e.includes(r.id));const n=t-this._timers.length;return n>0&&(this._notify(),await this._persistAndHandleError()),n};getTimersByTask=e=>this._timers.filter(t=>t.taskId===e);getRunningTimers=()=>this._timers.filter(e=>e.status==="running");getPausedTimers=()=>this._timers.filter(e=>e.status==="paused");stopAllRunningTimers=async()=>{const e=this.getRunningTimers();let t=0;for(const n of e)await this.pauseTimer(n.id)&&t++;return t};clearAllTimers=async()=>{this._timers=[],this._notify(),await this._persistAndHandleError()};timerExists=e=>this._timers.some(t=>t.id===e);getTimerCount=()=>this._timers.length;getTimerCountByStatus=e=>this._timers.filter(t=>t.status===e).length;getTaskTimerCount=e=>this._timers.filter(t=>t.taskId===e).length;getTotalElapsedTime=()=>{const e=Date.now();return this._timers.reduce((t,n)=>n.status==="running"?t+n.elapsedSeconds+Math.floor((e-n.startTime)/1e3):t+n.elapsedSeconds,0)};async _persistAndHandleError(){try{await this.timerStateService.saveStateToFile(this._timers)}catch(e){console.error("TimerStore: æŒä¹…åŒ–å¤±è´¥",e)}}};Ms=qw([or(),Xw(0,Ot(pl))],Ms);class Jw{_updateSettings;_getSettings;_layoutOperations;_hierarchicalQueries;constructor(t,n){this._updateSettings=t,this._getSettings=n,this._layoutOperations=Wc.createStoreKit(t,n,"layouts","layout"),this._hierarchicalQueries=Wc.createHierarchicalQueries(n,"layouts")}addLayout=async(t,n=null)=>await this._layoutOperations.add({name:t,viewInstanceIds:[],displayMode:"list",initialView:"æœˆ",initialDateFollowsNow:!0,parentId:n});updateLayout=async(t,n)=>{await this._layoutOperations.update(t,n)};deleteLayout=async t=>{await this._layoutOperations.delete(t)};moveLayout=async(t,n)=>{await this._updateSettings(r=>{r.layouts=jd(r.layouts,t,n)})};duplicateLayout=async t=>{const n=this._layoutOperations.getById(t);return n?await this._layoutOperations.add({...n,name:`${n.name} (å‰¯æœ¬)`,parentId:n.parentId}):(console.warn(`æ‰¾ä¸åˆ°IDä¸º ${t} çš„å¸ƒå±€`),null)};batchUpdateLayouts=async(t,n)=>{const r=t.map(o=>({id:o,data:n}));await this._layoutOperations.batchUpdate(r)};batchDeleteLayouts=async t=>{await this._layoutOperations.batchDelete(t)};moveToParent=async(t,n)=>{await Wc.moveToParent(this._updateSettings,"layouts",t,n)};addViewInstanceToLayout=async(t,n)=>{await this._updateSettings(r=>{const o=r.layouts.find(i=>i.id===t);o&&!o.viewInstanceIds.includes(n)&&o.viewInstanceIds.push(n)})};removeViewInstanceFromLayout=async(t,n)=>{await this._updateSettings(r=>{const o=r.layouts.find(i=>i.id===t);o&&(o.viewInstanceIds=o.viewInstanceIds.filter(i=>i!==n))})};reorderViewInstances=async(t,n)=>{await this._updateSettings(r=>{const o=r.layouts.find(i=>i.id===t);o&&(o.viewInstanceIds=n)})};getLayouts=()=>this._layoutOperations.getAll();getLayout=t=>this._layoutOperations.getById(t);getLayoutsByParent=t=>this._hierarchicalQueries.getChildren(t);getTopLevelLayouts=()=>this._hierarchicalQueries.getTopLevel();hasChildren=t=>this._hierarchicalQueries.hasChildren(t);getLayoutViewInstances=t=>this.getLayout(t)?.viewInstanceIds||[];layoutExists=t=>this._layoutOperations.exists(t);findLayoutsByName=t=>this._layoutOperations.findBy(n=>n.name.includes(t));getLayoutCount=()=>this._layoutOperations.count();getLayoutsByDisplayMode=t=>this._layoutOperations.findBy(n=>n.displayMode===t)}var Qw=0;function l(e,t,n,r,o,i){t||(t={});var s,a,c=t;if("ref"in c)for(a in c={},t)a=="ref"?s=t[a]:c[a]=t[a];var u={type:e,props:c,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Qw,__i:-1,__u:0,__source:o,__self:i};if(typeof e=="function"&&(s=e.defaultProps))for(a in s)c[a]===void 0&&(c[a]=s[a]);return ut.vnode&&ut.vnode(u),u}const Os={black:"#000",white:"#fff"},Yo={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Go={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Ko={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Zo={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},qo={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},qi={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},eS={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Ur(e,...t){const n=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${e}; visit ${n} for the full message.`}const Er="$$material";function fl(){return fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fl.apply(null,arguments)}function bv(e,t){for(var n in t)e[n]=t[n];return e}function Lu(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var r in t)if(r!=="__source"&&e[r]!==t[r])return!0;return!1}function Yd(e,t){var n=t(),r=U({t:{__:n,u:t}}),o=r[0].t,i=r[1];return Yr(function(){o.__=n,o.u=t,Hc(o)&&i({t:o})},[e,n,t]),ae(function(){return Hc(o)&&i({t:o}),e(function(){Hc(o)&&i({t:o})})},[e]),n}function Hc(e){var t,n,r=e.u,o=e.__;try{var i=r();return!((t=o)===(n=i)&&(t!==0||1/t==1/n)||t!=t&&n!=n)}catch{return!0}}function Gd(e){e()}function Kd(e){return e}function Zd(){return[!1,Gd]}var qd=Yr;function hl(e,t){this.props=e,this.context=t}function Hl(e,t){function n(o){var i=this.props.ref,s=i==o.ref;return!s&&i&&(i.call?i(null):i.current=null),t?!t(this.props,o)||!s:Lu(this.props,o)}function r(o){return this.shouldComponentUpdate=n,Kt(e,o)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r.type=e,r}(hl.prototype=new fr).isPureReactComponent=!0,hl.prototype.shouldComponentUpdate=function(e,t){return Lu(this.props,e)||Lu(this.state,t)};var Rf=ut.__b;ut.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Rf&&Rf(e)};var tS=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Oe(e){function t(n){var r=bv({},n);return delete r.ref,e(r,n.ref||null)}return t.$$typeof=tS,t.render=e,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var Af=function(e,t){return e==null?null:Vr(Vr(e).map(t))},Vn={map:Af,forEach:Af,count:function(e){return e?Vr(e).length:0},only:function(e){var t=Vr(e);if(t.length!==1)throw"Children.only";return t[0]},toArray:Vr},nS=ut.__e;ut.__e=function(e,t,n,r){if(e.then){for(var o,i=t;i=i.__;)if((o=i.__c)&&o.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),o.__c(e,t)}nS(e,t,n,r)};var Df=ut.unmount;function wv(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),e.__c.__H=null),(e=bv({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(r){return wv(r,t,n)})),e}function Sv(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(r){return Sv(r,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function bs(){this.__u=0,this.o=null,this.__b=null}function xv(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Cv(e){var t,n,r;function o(i){if(t||(t=e()).then(function(s){n=s.default||s},function(s){r=s}),r)throw r;if(!n)throw t;return Kt(n,i)}return o.displayName="Lazy",o.__f=!0,o}function oi(){this.i=null,this.l=null}ut.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),Df&&Df(e)},(bs.prototype=new fr).__c=function(e,t){var n=t.__c,r=this;r.o==null&&(r.o=[]),r.o.push(n);var o=xv(r.__v),i=!1,s=function(){i||(i=!0,n.__R=null,o?o(a):a())};n.__R=s;var a=function(){if(!--r.__u){if(r.state.__a){var c=r.state.__a;r.__v.__k[0]=Sv(c,c.__c.__P,c.__c.__O)}var u;for(r.setState({__a:r.__b=null});u=r.o.pop();)u.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(s,s)},bs.prototype.componentWillUnmount=function(){this.o=[]},bs.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=wv(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__a&&Kt(yt,null,e.fallback);return o&&(o.__u&=-33),[Kt(yt,null,t.__a?null:e.children),o]};var zf=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};function rS(e){return this.getChildContext=function(){return e.context},e.children}function oS(e){var t=this,n=e.h;if(t.componentWillUnmount=function(){er(null,t.v),t.v=null,t.h=null},t.h&&t.h!==n&&t.componentWillUnmount(),!t.v){for(var r=t.__v;r!==null&&!r.__m&&r.__!==null;)r=r.__;t.h=n,t.v={nodeType:1,parentNode:n,childNodes:[],__k:{__m:r.__m},contains:function(){return!0},insertBefore:function(o,i){this.childNodes.push(o),t.h.insertBefore(o,i)},removeChild:function(o){this.childNodes.splice(this.childNodes.indexOf(o)>>>1,1),t.h.removeChild(o)}}}er(Kt(rS,{context:t.context},e.__v),t.v)}function Ul(e,t){var n=Kt(oS,{__v:e,h:t});return n.containerInfo=t,n}(oi.prototype=new fr).__a=function(e){var t=this,n=xv(t.__v),r=t.l.get(e);return r[0]++,function(o){var i=function(){t.props.revealOrder?(r.push(o),zf(t,e,r)):o()};n?n(i):i()}},oi.prototype.render=function(e){this.i=null,this.l=new Map;var t=Vr(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},oi.prototype.componentDidUpdate=oi.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,n){zf(e,n,t)})};var kv=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,iS=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,sS=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,aS=/[A-Z0-9]/g,lS=typeof document<"u",cS=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function Fo(e,t,n){return t.__k==null&&(t.textContent=""),er(e,t),typeof n=="function"&&n(),e?e.__c:null}function _v(e,t,n){return hv(e,t),typeof n=="function"&&n(),e?e.__c:null}fr.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(fr.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var Lf=ut.event;function uS(){}function dS(){return this.cancelBubble}function pS(){return this.defaultPrevented}ut.event=function(e){return Lf&&(e=Lf(e)),e.persist=uS,e.isPropagationStopped=dS,e.isDefaultPrevented=pS,e.nativeEvent=e};var Xd,fS={enumerable:!1,configurable:!0,get:function(){return this.class}},Nf=ut.vnode;ut.vnode=function(e){typeof e.type=="string"&&(function(t){var n=t.props,r=t.type,o={},i=r.indexOf("-")===-1;for(var s in n){var a=n[s];if(!(s==="value"&&"defaultValue"in n&&a==null||lS&&s==="children"&&r==="noscript"||s==="class"||s==="className")){var c=s.toLowerCase();s==="defaultValue"&&"value"in n&&n.value==null?s="value":s==="download"&&a===!0?a="":c==="translate"&&a==="no"?a=!1:c[0]==="o"&&c[1]==="n"?c==="ondoubleclick"?s="ondblclick":c!=="onchange"||r!=="input"&&r!=="textarea"||cS(n.type)?c==="onfocus"?s="onfocusin":c==="onblur"?s="onfocusout":sS.test(s)&&(s=c):c=s="oninput":i&&iS.test(s)?s=s.replace(aS,"-$&").toLowerCase():a===null&&(a=void 0),c==="oninput"&&o[s=c]&&(s="oninputCapture"),o[s]=a}}r=="select"&&o.multiple&&Array.isArray(o.value)&&(o.value=Vr(n.children).forEach(function(u){u.props.selected=o.value.indexOf(u.props.value)!=-1})),r=="select"&&o.defaultValue!=null&&(o.value=Vr(n.children).forEach(function(u){u.props.selected=o.multiple?o.defaultValue.indexOf(u.props.value)!=-1:o.defaultValue==u.props.value})),n.class&&!n.className?(o.class=n.class,Object.defineProperty(o,"className",fS)):(n.className&&!n.class||n.class&&n.className)&&(o.class=o.className=n.className),t.props=o})(e),e.$$typeof=kv,Nf&&Nf(e)};var Ff=ut.__r;ut.__r=function(e){Ff&&Ff(e),Xd=e.__c};var Bf=ut.diffed;ut.diffed=function(e){Bf&&Bf(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value),Xd=null};var Tv={ReactCurrentDispatcher:{current:{readContext:function(e){return Xd.__n[e.__c].props.value},useCallback:Te,useContext:bt,useDebugValue:Vd,useDeferredValue:Kd,useEffect:ae,useId:Hd,useImperativeHandle:vr,useInsertionEffect:qd,useLayoutEffect:Yr,useMemo:ie,useReducer:Qs,useRef:te,useState:U,useSyncExternalStore:Yd,useTransition:Zd}}},Iv="18.3.1";function $v(e){return Kt.bind(null,e)}function At(e){return!!e&&e.$$typeof===kv}function Ev(e){return At(e)&&e.type===yt}function Pv(e){return!!e&&!!e.displayName&&(typeof e.displayName=="string"||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function $t(e){return At(e)?Ow.apply(null,arguments):e}function Rr(e){return!!e.__k&&(er(null,e),!0)}function Mv(e){return e&&(e.base||e.nodeType===1&&e)||null}var ii=function(e,t){return e(t)},Ov=function(e,t){return e(t)},Rv=yt,Av=At,Mt={useState:U,useId:Hd,useReducer:Qs,useEffect:ae,useLayoutEffect:Yr,useInsertionEffect:qd,useTransition:Zd,useDeferredValue:Kd,useSyncExternalStore:Yd,startTransition:Gd,useRef:te,useImperativeHandle:vr,useMemo:ie,useCallback:Te,useContext:bt,useDebugValue:Vd,version:"18.3.1",Children:Vn,render:Fo,hydrate:_v,unmountComponentAtNode:Rr,createPortal:Ul,createElement:Kt,createContext:Ut,createFactory:$v,cloneElement:$t,createRef:av,Fragment:yt,isValidElement:At,isElement:Av,isFragment:Ev,isMemo:Pv,findDOMNode:Mv,Component:fr,PureComponent:hl,memo:Hl,forwardRef:Oe,flushSync:Ov,unstable_batchedUpdates:ii,StrictMode:Rv,Suspense:bs,SuspenseList:oi,lazy:Cv,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Tv};const Nu=Object.freeze(Object.defineProperty({__proto__:null,Children:Vn,Component:fr,Fragment:yt,PureComponent:hl,StrictMode:Rv,Suspense:bs,SuspenseList:oi,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Tv,cloneElement:$t,createContext:Ut,createElement:Kt,createFactory:$v,createPortal:Ul,createRef:av,default:Mt,findDOMNode:Mv,flushSync:Ov,forwardRef:Oe,hydrate:_v,isElement:Av,isFragment:Ev,isMemo:Pv,isValidElement:At,lazy:Cv,memo:Hl,render:Fo,startTransition:Gd,unmountComponentAtNode:Rr,unstable_batchedUpdates:ii,useCallback:Te,useContext:bt,useDebugValue:Vd,useDeferredValue:Kd,useEffect:ae,useErrorBoundary:Rw,useId:Hd,useImperativeHandle:vr,useInsertionEffect:qd,useLayoutEffect:Yr,useMemo:ie,useReducer:Qs,useRef:te,useState:U,useSyncExternalStore:Yd,useTransition:Zd,version:Iv},Symbol.toStringTag,{value:"Module"}));function hS(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function mS(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var gS=(function(){function e(n){var r=this;this._insertTag=function(o){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(o,i),r.tags.push(o)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(mS(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var i=hS(o);try{i.insertRule(r,i.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var o;return(o=r.parentNode)==null?void 0:o.removeChild(r)}),this.tags=[],this.ctr=0},e})(),bn="-ms-",ml="-moz-",xt="-webkit-",Dv="comm",Jd="rule",Qd="decl",vS="@import",zv="@keyframes",yS="@layer",bS=Math.abs,jl=String.fromCharCode,wS=Object.assign;function SS(e,t){return mn(e,0)^45?(((t<<2^mn(e,0))<<2^mn(e,1))<<2^mn(e,2))<<2^mn(e,3):0}function Lv(e){return e.trim()}function xS(e,t){return(e=t.exec(e))?e[0]:e}function Ct(e,t,n){return e.replace(t,n)}function Fu(e,t){return e.indexOf(t)}function mn(e,t){return e.charCodeAt(t)|0}function Rs(e,t,n){return e.slice(t,n)}function Sr(e){return e.length}function ep(e){return e.length}function ya(e,t){return t.push(e),e}function CS(e,t){return e.map(t).join("")}var Yl=1,Ci=1,Nv=0,Rn=0,Qt=0,Di="";function Gl(e,t,n,r,o,i,s){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:Yl,column:Ci,length:s,return:""}}function Xi(e,t){return wS(Gl("",null,null,"",null,null,0),e,{length:-e.length},t)}function kS(){return Qt}function _S(){return Qt=Rn>0?mn(Di,--Rn):0,Ci--,Qt===10&&(Ci=1,Yl--),Qt}function Bn(){return Qt=Rn<Nv?mn(Di,Rn++):0,Ci++,Qt===10&&(Ci=1,Yl++),Qt}function Pr(){return mn(Di,Rn)}function Qa(){return Rn}function ea(e,t){return Rs(Di,e,t)}function As(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Fv(e){return Yl=Ci=1,Nv=Sr(Di=e),Rn=0,[]}function Bv(e){return Di="",e}function el(e){return Lv(ea(Rn-1,Bu(e===91?e+2:e===40?e+1:e)))}function TS(e){for(;(Qt=Pr())&&Qt<33;)Bn();return As(e)>2||As(Qt)>3?"":" "}function IS(e,t){for(;--t&&Bn()&&!(Qt<48||Qt>102||Qt>57&&Qt<65||Qt>70&&Qt<97););return ea(e,Qa()+(t<6&&Pr()==32&&Bn()==32))}function Bu(e){for(;Bn();)switch(Qt){case e:return Rn;case 34:case 39:e!==34&&e!==39&&Bu(Qt);break;case 40:e===41&&Bu(e);break;case 92:Bn();break}return Rn}function $S(e,t){for(;Bn()&&e+Qt!==57;)if(e+Qt===84&&Pr()===47)break;return"/*"+ea(t,Rn-1)+"*"+jl(e===47?e:Bn())}function ES(e){for(;!As(Pr());)Bn();return ea(e,Rn)}function PS(e){return Bv(tl("",null,null,null,[""],e=Fv(e),0,[0],e))}function tl(e,t,n,r,o,i,s,a,c){for(var u=0,d=0,p=s,f=0,h=0,m=0,g=1,v=1,b=1,S=0,y="",w=o,k=i,C=r,T=y;v;)switch(m=S,S=Bn()){case 40:if(m!=108&&mn(T,p-1)==58){Fu(T+=Ct(el(S),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:T+=el(S);break;case 9:case 10:case 13:case 32:T+=TS(m);break;case 92:T+=IS(Qa()-1,7);continue;case 47:switch(Pr()){case 42:case 47:ya(MS($S(Bn(),Qa()),t,n),c);break;default:T+="/"}break;case 123*g:a[u++]=Sr(T)*b;case 125*g:case 59:case 0:switch(S){case 0:case 125:v=0;case 59+d:b==-1&&(T=Ct(T,/\f/g,"")),h>0&&Sr(T)-p&&ya(h>32?Vf(T+";",r,n,p-1):Vf(Ct(T," ","")+";",r,n,p-2),c);break;case 59:T+=";";default:if(ya(C=Wf(T,t,n,u,d,o,a,y,w=[],k=[],p),i),S===123)if(d===0)tl(T,t,C,C,w,i,p,a,k);else switch(f===99&&mn(T,3)===110?100:f){case 100:case 108:case 109:case 115:tl(e,C,C,r&&ya(Wf(e,C,C,0,0,o,a,y,o,w=[],p),k),o,k,p,a,r?w:k);break;default:tl(T,C,C,C,[""],k,0,a,k)}}u=d=h=0,g=b=1,y=T="",p=s;break;case 58:p=1+Sr(T),h=m;default:if(g<1){if(S==123)--g;else if(S==125&&g++==0&&_S()==125)continue}switch(T+=jl(S),S*g){case 38:b=d>0?1:(T+="\f",-1);break;case 44:a[u++]=(Sr(T)-1)*b,b=1;break;case 64:Pr()===45&&(T+=el(Bn())),f=Pr(),d=p=Sr(y=T+=ES(Qa())),S++;break;case 45:m===45&&Sr(T)==2&&(g=0)}}return i}function Wf(e,t,n,r,o,i,s,a,c,u,d){for(var p=o-1,f=o===0?i:[""],h=ep(f),m=0,g=0,v=0;m<r;++m)for(var b=0,S=Rs(e,p+1,p=bS(g=s[m])),y=e;b<h;++b)(y=Lv(g>0?f[b]+" "+S:Ct(S,/&\f/g,f[b])))&&(c[v++]=y);return Gl(e,t,n,o===0?Jd:a,c,u,d)}function MS(e,t,n){return Gl(e,t,n,Dv,jl(kS()),Rs(e,2,-2),0)}function Vf(e,t,n,r){return Gl(e,t,n,Qd,Rs(e,0,r),Rs(e,r+1,-1),r)}function mi(e,t){for(var n="",r=ep(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function OS(e,t,n,r){switch(e.type){case yS:if(e.children.length)break;case vS:case Qd:return e.return=e.return||e.value;case Dv:return"";case zv:return e.return=e.value+"{"+mi(e.children,r)+"}";case Jd:e.value=e.props.join(",")}return Sr(n=mi(e.children,r))?e.return=e.value+"{"+n+"}":""}function RS(e){var t=ep(e);return function(n,r,o,i){for(var s="",a=0;a<t;a++)s+=e[a](n,r,o,i)||"";return s}}function AS(e){return function(t){t.root||(t=t.return)&&e(t)}}function Wv(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var DS=function(t,n,r){for(var o=0,i=0;o=i,i=Pr(),o===38&&i===12&&(n[r]=1),!As(i);)Bn();return ea(t,Rn)},zS=function(t,n){var r=-1,o=44;do switch(As(o)){case 0:o===38&&Pr()===12&&(n[r]=1),t[r]+=DS(Rn-1,n,r);break;case 2:t[r]+=el(o);break;case 4:if(o===44){t[++r]=Pr()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=jl(o)}while(o=Bn());return t},LS=function(t,n){return Bv(zS(Fv(t),n))},Hf=new WeakMap,NS=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,o=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!Hf.get(r))&&!o){Hf.set(t,!0);for(var i=[],s=LS(n,i),a=r.props,c=0,u=0;c<s.length;c++)for(var d=0;d<a.length;d++,u++)t.props[u]=i[c]?s[c].replace(/&\f/g,a[d]):a[d]+" "+s[c]}}},FS=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function Vv(e,t){switch(SS(e,t)){case 5103:return xt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return xt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return xt+e+ml+e+bn+e+e;case 6828:case 4268:return xt+e+bn+e+e;case 6165:return xt+e+bn+"flex-"+e+e;case 5187:return xt+e+Ct(e,/(\w+).+(:[^]+)/,xt+"box-$1$2"+bn+"flex-$1$2")+e;case 5443:return xt+e+bn+"flex-item-"+Ct(e,/flex-|-self/,"")+e;case 4675:return xt+e+bn+"flex-line-pack"+Ct(e,/align-content|flex-|-self/,"")+e;case 5548:return xt+e+bn+Ct(e,"shrink","negative")+e;case 5292:return xt+e+bn+Ct(e,"basis","preferred-size")+e;case 6060:return xt+"box-"+Ct(e,"-grow","")+xt+e+bn+Ct(e,"grow","positive")+e;case 4554:return xt+Ct(e,/([^-])(transform)/g,"$1"+xt+"$2")+e;case 6187:return Ct(Ct(Ct(e,/(zoom-|grab)/,xt+"$1"),/(image-set)/,xt+"$1"),e,"")+e;case 5495:case 3959:return Ct(e,/(image-set\([^]*)/,xt+"$1$`$1");case 4968:return Ct(Ct(e,/(.+:)(flex-)?(.*)/,xt+"box-pack:$3"+bn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+xt+e+e;case 4095:case 3583:case 4068:case 2532:return Ct(e,/(.+)-inline(.+)/,xt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Sr(e)-1-t>6)switch(mn(e,t+1)){case 109:if(mn(e,t+4)!==45)break;case 102:return Ct(e,/(.+:)(.+)-([^]+)/,"$1"+xt+"$2-$3$1"+ml+(mn(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Fu(e,"stretch")?Vv(Ct(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(mn(e,t+1)!==115)break;case 6444:switch(mn(e,Sr(e)-3-(~Fu(e,"!important")&&10))){case 107:return Ct(e,":",":"+xt)+e;case 101:return Ct(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+xt+(mn(e,14)===45?"inline-":"")+"box$3$1"+xt+"$2$3$1"+bn+"$2box$3")+e}break;case 5936:switch(mn(e,t+11)){case 114:return xt+e+bn+Ct(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return xt+e+bn+Ct(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return xt+e+bn+Ct(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return xt+e+bn+e+e}return e}var BS=function(t,n,r,o){if(t.length>-1&&!t.return)switch(t.type){case Qd:t.return=Vv(t.value,t.length);break;case zv:return mi([Xi(t,{value:Ct(t.value,"@","@"+xt)})],o);case Jd:if(t.length)return CS(t.props,function(i){switch(xS(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return mi([Xi(t,{props:[Ct(i,/:(read-\w+)/,":"+ml+"$1")]})],o);case"::placeholder":return mi([Xi(t,{props:[Ct(i,/:(plac\w+)/,":"+xt+"input-$1")]}),Xi(t,{props:[Ct(i,/:(plac\w+)/,":"+ml+"$1")]}),Xi(t,{props:[Ct(i,/:(plac\w+)/,bn+"input-$1")]})],o)}return""})}},WS=[BS],VS=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var v=g.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var o=t.stylisPlugins||WS,i={},s,a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var v=g.getAttribute("data-emotion").split(" "),b=1;b<v.length;b++)i[v[b]]=!0;a.push(g)});var c,u=[NS,FS];{var d,p=[OS,AS(function(g){d.insert(g)})],f=RS(u.concat(o,p)),h=function(v){return mi(PS(v),f)};c=function(v,b,S,y){d=S,h(v?v+"{"+b.styles+"}":b.styles),y&&(m.inserted[b.name]=!0)}}var m={key:n,sheet:new gS({key:n,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:c};return m.sheet.hydrate(a),m},HS=!0;function Hv(e,t,n){var r="";return n.split(" ").forEach(function(o){e[o]!==void 0?t.push(e[o]+";"):o&&(r+=o+" ")}),r}var tp=function(t,n,r){var o=t.key+"-"+n.name;(r===!1||HS===!1)&&t.registered[o]===void 0&&(t.registered[o]=n.styles)},np=function(t,n,r){tp(t,n,r);var o=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var i=n;do t.insert(n===i?"."+o:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function US(e){for(var t=0,n,r=0,o=e.length;o>=4;++r,o-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(o){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var jS={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},YS=/[A-Z]|^ms/g,GS=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Uv=function(t){return t.charCodeAt(1)===45},Uf=function(t){return t!=null&&typeof t!="boolean"},Uc=Wv(function(e){return Uv(e)?e:e.replace(YS,"-$&").toLowerCase()}),jf=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(GS,function(r,o,i){return xr={name:o,styles:i,next:xr},o})}return jS[t]!==1&&!Uv(t)&&typeof n=="number"&&n!==0?n+"px":n};function Ds(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var o=n;if(o.anim===1)return xr={name:o.name,styles:o.styles,next:xr},o.name;var i=n;if(i.styles!==void 0){var s=i.next;if(s!==void 0)for(;s!==void 0;)xr={name:s.name,styles:s.styles,next:xr},s=s.next;var a=i.styles+";";return a}return KS(e,t,n)}case"function":{if(e!==void 0){var c=xr,u=n(e);return xr=c,Ds(e,t,u)}break}}var d=n;if(t==null)return d;var p=t[d];return p!==void 0?p:d}function KS(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=Ds(e,t,n[o])+";";else for(var i in n){var s=n[i];if(typeof s!="object"){var a=s;t!=null&&t[a]!==void 0?r+=i+"{"+t[a]+"}":Uf(a)&&(r+=Uc(i)+":"+jf(i,a)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var c=0;c<s.length;c++)Uf(s[c])&&(r+=Uc(i)+":"+jf(i,s[c])+";");else{var u=Ds(e,t,s);switch(i){case"animation":case"animationName":{r+=Uc(i)+":"+u+";";break}default:r+=i+"{"+u+"}"}}}return r}var Yf=/label:\s*([^\s;{]+)\s*(;|$)/g,xr;function ta(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,o="";xr=void 0;var i=e[0];if(i==null||i.raw===void 0)r=!1,o+=Ds(n,t,i);else{var s=i;o+=s[0]}for(var a=1;a<e.length;a++)if(o+=Ds(n,t,e[a]),r){var c=i;o+=c[a]}Yf.lastIndex=0;for(var u="",d;(d=Yf.exec(o))!==null;)u+="-"+d[1];var p=US(o)+u;return{name:p,styles:o,next:xr}}var ZS=function(t){return t()},jv=Nu.useInsertionEffect?Nu.useInsertionEffect:!1,Yv=jv||ZS,Gf=jv||Yr,Gv=Ut(typeof HTMLElement<"u"?VS({key:"css"}):null);Gv.Provider;var rp=function(t){return Oe(function(n,r){var o=bt(Gv);return t(n,o,r)})},na=Ut({}),op={}.hasOwnProperty,Wu="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",qS=function(t,n){var r={};for(var o in n)op.call(n,o)&&(r[o]=n[o]);return r[Wu]=t,r},XS=function(t){var n=t.cache,r=t.serialized,o=t.isStringTag;return tp(n,r,o),Yv(function(){return np(n,r,o)}),null},JS=rp(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var o=e[Wu],i=[r],s="";typeof e.className=="string"?s=Hv(t.registered,i,e.className):e.className!=null&&(s=e.className+" ");var a=ta(i,void 0,bt(na));s+=t.key+"-"+a.name;var c={};for(var u in e)op.call(e,u)&&u!=="css"&&u!==Wu&&(c[u]=e[u]);return c.className=s,n&&(c.ref=n),Kt(yt,null,Kt(XS,{cache:t,serialized:a,isStringTag:typeof o=="string"}),Kt(o,c))}),QS=JS,Kf=function(t,n){var r=arguments;if(n==null||!op.call(n,"css"))return Kt.apply(void 0,r);var o=r.length,i=new Array(o);i[0]=QS,i[1]=qS(t,n);for(var s=2;s<o;s++)i[s]=r[s];return Kt.apply(null,i)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(Kf||(Kf={}));var ex=rp(function(e,t){var n=e.styles,r=ta([n],void 0,bt(na)),o=te();return Gf(function(){var i=t.key+"-global",s=new t.sheet.constructor({key:i,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,c=document.querySelector('style[data-emotion="'+i+" "+r.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),c!==null&&(a=!0,c.setAttribute("data-emotion",i),s.hydrate([c])),o.current=[s,a],function(){s.flush()}},[t]),Gf(function(){var i=o.current,s=i[0],a=i[1];if(a){i[1]=!1;return}if(r.next!==void 0&&np(t,r.next,!0),s.tags.length){var c=s.tags[s.tags.length-1].nextElementSibling;s.before=c,s.flush()}t.insert("",r,s,!1)},[t,r.name]),null});function zi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ta(t)}function uo(){var e=zi.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var tx=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,nx=Wv(function(e){return tx.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),rx=nx,ox=function(t){return t!=="theme"},Zf=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?rx:ox},qf=function(t,n,r){var o;if(n){var i=n.shouldForwardProp;o=t.__emotion_forwardProp&&i?function(s){return t.__emotion_forwardProp(s)&&i(s)}:i}return typeof o!="function"&&r&&(o=t.__emotion_forwardProp),o},ix=function(t){var n=t.cache,r=t.serialized,o=t.isStringTag;return tp(n,r,o),Yv(function(){return np(n,r,o)}),null},sx=function e(t,n){var r=t.__emotion_real===t,o=r&&t.__emotion_base||t,i,s;n!==void 0&&(i=n.label,s=n.target);var a=qf(t,n,r),c=a||Zf(o),u=!c("as");return function(){var d=arguments,p=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(i!==void 0&&p.push("label:"+i+";"),d[0]==null||d[0].raw===void 0)p.push.apply(p,d);else{var f=d[0];p.push(f[0]);for(var h=d.length,m=1;m<h;m++)p.push(d[m],f[m])}var g=rp(function(v,b,S){var y=u&&v.as||o,w="",k=[],C=v;if(v.theme==null){C={};for(var T in v)C[T]=v[T];C.theme=bt(na)}typeof v.className=="string"?w=Hv(b.registered,k,v.className):v.className!=null&&(w=v.className+" ");var I=ta(p.concat(k),b.registered,C);w+=b.key+"-"+I.name,s!==void 0&&(w+=" "+s);var E=u&&a===void 0?Zf(y):c,O={};for(var P in v)u&&P==="as"||E(P)&&(O[P]=v[P]);return O.className=w,S&&(O.ref=S),Kt(yt,null,Kt(ix,{cache:b,serialized:I,isStringTag:typeof y=="string"}),Kt(y,O))});return g.displayName=i!==void 0?i:"Styled("+(typeof o=="string"?o:o.displayName||o.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=o,g.__emotion_styles=p,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+s}}),g.withComponent=function(v,b){var S=e(v,fl({},n,b,{shouldForwardProp:qf(g,b,!0)}));return S.apply(void 0,p)},g}},ax=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Vu=sx.bind(null);ax.forEach(function(e){Vu[e]=Vu(e)});function lx(e){return e==null||Object.keys(e).length===0}function Kv(e){const{styles:t,defaultTheme:n={}}=e;return l(ex,{styles:typeof t=="function"?o=>t(lx(o)?n:o):t})}function Zv(e,t){return Vu(e,t)}function cx(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const Xf=[];function no(e){return Xf[0]=e,ta(Xf)}var jc={exports:{}},Et={};var Jf;function ux(){if(Jf)return Et;Jf=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.view_transition"),h=Symbol.for("react.client.reference");function m(g){if(typeof g=="object"&&g!==null){var v=g.$$typeof;switch(v){case e:switch(g=g.type,g){case n:case o:case r:case c:case u:case f:return g;default:switch(g=g&&g.$$typeof,g){case s:case a:case p:case d:return g;case i:return g;default:return v}}case t:return v}}}return Et.ContextConsumer=i,Et.ContextProvider=s,Et.Element=e,Et.ForwardRef=a,Et.Fragment=n,Et.Lazy=p,Et.Memo=d,Et.Portal=t,Et.Profiler=o,Et.StrictMode=r,Et.Suspense=c,Et.SuspenseList=u,Et.isContextConsumer=function(g){return m(g)===i},Et.isContextProvider=function(g){return m(g)===s},Et.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===e},Et.isForwardRef=function(g){return m(g)===a},Et.isFragment=function(g){return m(g)===n},Et.isLazy=function(g){return m(g)===p},Et.isMemo=function(g){return m(g)===d},Et.isPortal=function(g){return m(g)===t},Et.isProfiler=function(g){return m(g)===o},Et.isStrictMode=function(g){return m(g)===r},Et.isSuspense=function(g){return m(g)===c},Et.isSuspenseList=function(g){return m(g)===u},Et.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===n||g===o||g===r||g===c||g===u||typeof g=="object"&&g!==null&&(g.$$typeof===p||g.$$typeof===d||g.$$typeof===s||g.$$typeof===i||g.$$typeof===a||g.$$typeof===h||g.getModuleId!==void 0)},Et.typeOf=m,Et}var Qf;function dx(){return Qf||(Qf=1,jc.exports=ux()),jc.exports}var qv=dx();function kr(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Xv(e){if(At(e)||qv.isValidElementType(e)||!kr(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=Xv(e[n])}),t}function un(e,t,n={clone:!0}){const r=n.clone?{...e}:e;return kr(e)&&kr(t)&&Object.keys(t).forEach(o=>{At(t[o])||qv.isValidElementType(t[o])?r[o]=t[o]:kr(t[o])&&Object.prototype.hasOwnProperty.call(e,o)&&kr(e[o])?r[o]=un(e[o],t[o],n):n.clone?r[o]=kr(t[o])?Xv(t[o]):t[o]:r[o]=t[o]}),r}const px=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function fx(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...o}=e,i=px(t),s=Object.keys(i);function a(f){return`@media (min-width:${typeof t[f]=="number"?t[f]:f}${n})`}function c(f){return`@media (max-width:${(typeof t[f]=="number"?t[f]:f)-r/100}${n})`}function u(f,h){const m=s.indexOf(h);return`@media (min-width:${typeof t[f]=="number"?t[f]:f}${n}) and (max-width:${(m!==-1&&typeof t[s[m]]=="number"?t[s[m]]:h)-r/100}${n})`}function d(f){return s.indexOf(f)+1<s.length?u(f,s[s.indexOf(f)+1]):a(f)}function p(f){const h=s.indexOf(f);return h===0?a(s[1]):h===s.length-1?c(s[h]):u(f,s[s.indexOf(f)+1]).replace("@media","@media not all and")}return{keys:s,values:i,up:a,down:c,between:u,only:d,not:p,unit:n,...o}}function eh(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(r=>r.startsWith("@container")).sort((r,o)=>{const i=/min-width:\s*([0-9.]+)/;return+(r.match(i)?.[1]||0)-+(o.match(i)?.[1]||0)});return n.length?n.reduce((r,o)=>{const i=t[o];return delete r[o],r[o]=i,r},{...t}):t}function hx(e,t){return t==="@"||t.startsWith("@")&&(e.some(n=>t.startsWith(`@${n}`))||!!t.match(/^@\d/))}function mx(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,o]=n,i=Number.isNaN(+r)?r||0:+r;return e.containerQueries(o).up(i)}function gx(e){const t=(i,s)=>i.replace("@media",s?`@container ${s}`:"@container");function n(i,s){i.up=(...a)=>t(e.breakpoints.up(...a),s),i.down=(...a)=>t(e.breakpoints.down(...a),s),i.between=(...a)=>t(e.breakpoints.between(...a),s),i.only=(...a)=>t(e.breakpoints.only(...a),s),i.not=(...a)=>{const c=t(e.breakpoints.not(...a),s);return c.includes("not all and")?c.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):c}}const r={},o=i=>(n(r,i),r);return n(o),{...e,containerQueries:o}}const vx={borderRadius:4};function ws(e,t){return t?un(e,t,{clone:!1}):e}const Kl={xs:0,sm:600,md:900,lg:1200,xl:1536},th={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Kl[e]}px)`},yx={containerQueries:e=>({up:t=>{let n=typeof t=="number"?t:Kl[t]||t;return typeof n=="number"&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function hr(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const i=r.breakpoints||th;return t.reduce((s,a,c)=>(s[i.up(i.keys[c])]=n(t[c]),s),{})}if(typeof t=="object"){const i=r.breakpoints||th;return Object.keys(t).reduce((s,a)=>{if(hx(i.keys,a)){const c=mx(r.containerQueries?r:yx,a);c&&(s[c]=n(t[a],a))}else if(Object.keys(i.values||Kl).includes(a)){const c=i.up(a);s[c]=n(t[a],a)}else{const c=a;s[c]=t[c]}return s},{})}return n(t)}function Jv(e={}){return e.keys?.reduce((n,r)=>{const o=e.up(r);return n[o]={},n},{})||{}}function Hu(e,t){return e.reduce((n,r)=>{const o=n[r];return(!o||Object.keys(o).length===0)&&delete n[r],n},t)}function bx(e,...t){const n=Jv(e),r=[n,...t].reduce((o,i)=>un(o,i),{});return Hu(Object.keys(n),r)}function wx(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((o,i)=>{i<e.length&&(n[o]=!0)}):r.forEach(o=>{e[o]!=null&&(n[o]=!0)}),n}function Yc({values:e,breakpoints:t,base:n}){const r=n||wx(e,t),o=Object.keys(r);if(o.length===0)return e;let i;return o.reduce((s,a,c)=>(Array.isArray(e)?(s[a]=e[c]!=null?e[c]:e[i],i=c):typeof e=="object"?(s[a]=e[a]!=null?e[a]:e[i],i=a):s[a]=e,s),{})}function Z(e){if(typeof e!="string")throw new Error(Ur(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Zl(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((o,i)=>o&&o[i]?o[i]:null,e);if(r!=null)return r}return t.split(".").reduce((r,o)=>r&&r[o]!=null?r[o]:null,e)}function gl(e,t,n,r=n){let o;return typeof e=="function"?o=e(n):Array.isArray(e)?o=e[n]||r:o=Zl(e,n)||r,t&&(o=t(o,r,e)),o}function qt(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:o}=e,i=s=>{if(s[t]==null)return null;const a=s[t],c=s.theme,u=Zl(c,r)||{};return hr(s,a,p=>{let f=gl(u,o,p);return p===f&&typeof p=="string"&&(f=gl(u,o,`${t}${p==="default"?"":Z(p)}`,p)),n===!1?f:{[n]:f}})};return i.propTypes={},i.filterProps=[t],i}function Sx(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const xx={m:"margin",p:"padding"},Cx={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},nh={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},kx=Sx(e=>{if(e.length>2)if(nh[e])e=nh[e];else return[e];const[t,n]=e.split(""),r=xx[t],o=Cx[n]||"";return Array.isArray(o)?o.map(i=>r+i):[r+o]}),ip=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],sp=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...ip,...sp];function ra(e,t,n,r){const o=Zl(e,t,!0)??n;return typeof o=="number"||typeof o=="string"?i=>typeof i=="string"?i:typeof o=="string"?o.startsWith("var(")&&i===0?0:o.startsWith("var(")&&i===1?o:`calc(${i} * ${o})`:o*i:Array.isArray(o)?i=>{if(typeof i=="string")return i;const s=Math.abs(i),a=o[s];return i>=0?a:typeof a=="number"?-a:typeof a=="string"&&a.startsWith("var(")?`calc(-1 * ${a})`:`-${a}`}:typeof o=="function"?o:()=>{}}function ql(e){return ra(e,"spacing",8)}function Mo(e,t){return typeof t=="string"||t==null?t:e(t)}function _x(e,t){return n=>e.reduce((r,o)=>(r[o]=Mo(t,n),r),{})}function Tx(e,t,n,r){if(!t.includes(n))return null;const o=kx(n),i=_x(o,r),s=e[n];return hr(e,s,i)}function Qv(e,t){const n=ql(e.theme);return Object.keys(e).map(r=>Tx(e,t,r,n)).reduce(ws,{})}function Wt(e){return Qv(e,ip)}Wt.propTypes={};Wt.filterProps=ip;function Vt(e){return Qv(e,sp)}Vt.propTypes={};Vt.filterProps=sp;function ey(e=8,t=ql({spacing:e})){if(e.mui)return e;const n=(...r)=>(r.length===0?[1]:r).map(i=>{const s=t(i);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function Xl(...e){const t=e.reduce((r,o)=>(o.filterProps.forEach(i=>{r[i]=o}),r),{}),n=r=>Object.keys(r).reduce((o,i)=>t[i]?ws(o,t[i](r)):o,{});return n.propTypes={},n.filterProps=e.reduce((r,o)=>r.concat(o.filterProps),[]),n}function Zn(e){return typeof e!="number"?e:`${e}px solid`}function ir(e,t){return qt({prop:e,themeKey:"borders",transform:t})}const Ix=ir("border",Zn),$x=ir("borderTop",Zn),Ex=ir("borderRight",Zn),Px=ir("borderBottom",Zn),Mx=ir("borderLeft",Zn),Ox=ir("borderColor"),Rx=ir("borderTopColor"),Ax=ir("borderRightColor"),Dx=ir("borderBottomColor"),zx=ir("borderLeftColor"),Lx=ir("outline",Zn),Nx=ir("outlineColor"),Jl=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=ra(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:Mo(t,r)});return hr(e,e.borderRadius,n)}return null};Jl.propTypes={};Jl.filterProps=["borderRadius"];Xl(Ix,$x,Ex,Px,Mx,Ox,Rx,Ax,Dx,zx,Jl,Lx,Nx);const Ql=e=>{if(e.gap!==void 0&&e.gap!==null){const t=ra(e.theme,"spacing",8),n=r=>({gap:Mo(t,r)});return hr(e,e.gap,n)}return null};Ql.propTypes={};Ql.filterProps=["gap"];const ec=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=ra(e.theme,"spacing",8),n=r=>({columnGap:Mo(t,r)});return hr(e,e.columnGap,n)}return null};ec.propTypes={};ec.filterProps=["columnGap"];const tc=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=ra(e.theme,"spacing",8),n=r=>({rowGap:Mo(t,r)});return hr(e,e.rowGap,n)}return null};tc.propTypes={};tc.filterProps=["rowGap"];const Fx=qt({prop:"gridColumn"}),Bx=qt({prop:"gridRow"}),Wx=qt({prop:"gridAutoFlow"}),Vx=qt({prop:"gridAutoColumns"}),Hx=qt({prop:"gridAutoRows"}),Ux=qt({prop:"gridTemplateColumns"}),jx=qt({prop:"gridTemplateRows"}),Yx=qt({prop:"gridTemplateAreas"}),Gx=qt({prop:"gridArea"});Xl(Ql,ec,tc,Fx,Bx,Wx,Vx,Hx,Ux,jx,Yx,Gx);function gi(e,t){return t==="grey"?t:e}const Kx=qt({prop:"color",themeKey:"palette",transform:gi}),Zx=qt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:gi}),qx=qt({prop:"backgroundColor",themeKey:"palette",transform:gi});Xl(Kx,Zx,qx);function Fn(e){return e<=1&&e!==0?`${e*100}%`:e}const Xx=qt({prop:"width",transform:Fn}),ap=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{const r=e.theme?.breakpoints?.values?.[n]||Kl[n];return r?e.theme?.breakpoints?.unit!=="px"?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Fn(n)}};return hr(e,e.maxWidth,t)}return null};ap.filterProps=["maxWidth"];const Jx=qt({prop:"minWidth",transform:Fn}),Qx=qt({prop:"height",transform:Fn}),e1=qt({prop:"maxHeight",transform:Fn}),t1=qt({prop:"minHeight",transform:Fn});qt({prop:"size",cssProperty:"width",transform:Fn});qt({prop:"size",cssProperty:"height",transform:Fn});const n1=qt({prop:"boxSizing"});Xl(Xx,ap,Jx,Qx,e1,t1,n1);const oa={border:{themeKey:"borders",transform:Zn},borderTop:{themeKey:"borders",transform:Zn},borderRight:{themeKey:"borders",transform:Zn},borderBottom:{themeKey:"borders",transform:Zn},borderLeft:{themeKey:"borders",transform:Zn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Zn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Jl},color:{themeKey:"palette",transform:gi},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:gi},backgroundColor:{themeKey:"palette",transform:gi},p:{style:Vt},pt:{style:Vt},pr:{style:Vt},pb:{style:Vt},pl:{style:Vt},px:{style:Vt},py:{style:Vt},padding:{style:Vt},paddingTop:{style:Vt},paddingRight:{style:Vt},paddingBottom:{style:Vt},paddingLeft:{style:Vt},paddingX:{style:Vt},paddingY:{style:Vt},paddingInline:{style:Vt},paddingInlineStart:{style:Vt},paddingInlineEnd:{style:Vt},paddingBlock:{style:Vt},paddingBlockStart:{style:Vt},paddingBlockEnd:{style:Vt},m:{style:Wt},mt:{style:Wt},mr:{style:Wt},mb:{style:Wt},ml:{style:Wt},mx:{style:Wt},my:{style:Wt},margin:{style:Wt},marginTop:{style:Wt},marginRight:{style:Wt},marginBottom:{style:Wt},marginLeft:{style:Wt},marginX:{style:Wt},marginY:{style:Wt},marginInline:{style:Wt},marginInlineStart:{style:Wt},marginInlineEnd:{style:Wt},marginBlock:{style:Wt},marginBlockStart:{style:Wt},marginBlockEnd:{style:Wt},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Ql},rowGap:{style:tc},columnGap:{style:ec},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Fn},maxWidth:{style:ap},minWidth:{transform:Fn},height:{transform:Fn},maxHeight:{transform:Fn},minHeight:{transform:Fn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function r1(...e){const t=e.reduce((r,o)=>r.concat(Object.keys(o)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function o1(e,t){return typeof e=="function"?e(t):e}function i1(){function e(n,r,o,i){const s={[n]:r,theme:o},a=i[n];if(!a)return{[n]:r};const{cssProperty:c=n,themeKey:u,transform:d,style:p}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const f=Zl(o,u)||{};return p?p(s):hr(s,r,m=>{let g=gl(f,d,m);return m===g&&typeof m=="string"&&(g=gl(f,d,`${n}${m==="default"?"":Z(m)}`,m)),c===!1?g:{[c]:g}})}function t(n){const{sx:r,theme:o={},nested:i}=n||{};if(!r)return null;const s=o.unstable_sxConfig??oa;function a(c){let u=c;if(typeof c=="function")u=c(o);else if(typeof c!="object")return c;if(!u)return null;const d=Jv(o.breakpoints),p=Object.keys(d);let f=d;return Object.keys(u).forEach(h=>{const m=o1(u[h],o);if(m!=null)if(typeof m=="object")if(s[h])f=ws(f,e(h,m,o,s));else{const g=hr({theme:o},m,v=>({[h]:v}));r1(g,m)?f[h]=t({sx:m,theme:o,nested:!0}):f=ws(f,g)}else f=ws(f,e(h,m,o,s))}),!i&&o.modularCssLayers?{"@layer sx":eh(o,Hu(p,f))}:eh(o,Hu(p,f))}return Array.isArray(r)?r.map(a):a(r)}return t}const ao=i1();ao.filterProps=["sx"];function s1(e,t){const n=this;if(n.vars){if(!n.colorSchemes?.[e]||typeof n.getColorSchemeSelector!="function")return{};let r=n.getColorSchemeSelector(e);return r==="&"?t:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:t})}return n.palette.mode===e?t:{}}function ia(e={},...t){const{breakpoints:n={},palette:r={},spacing:o,shape:i={},...s}=e,a=fx(n),c=ey(o);let u=un({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:c,shape:{...vx,...i}},s);return u=gx(u),u.applyStyles=s1,u=t.reduce((d,p)=>un(d,p),u),u.unstable_sxConfig={...oa,...s?.unstable_sxConfig},u.unstable_sx=function(p){return ao({sx:p,theme:this})},u}function a1(e){return Object.keys(e).length===0}function lp(e=null){const t=bt(na);return!t||a1(t)?e:t}const l1=ia();function sa(e=l1){return lp(e)}function Gc(e){const t=no(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles=`@layer global{${t.styles}}`),t):e}function ty({styles:e,themeId:t,defaultTheme:n={}}){const r=sa(n),o=t&&r[t]||r;let i=typeof e=="function"?e(o):e;return o.modularCssLayers&&(Array.isArray(i)?i=i.map(s=>Gc(typeof s=="function"?s(o):s)):i=Gc(i)),l(Kv,{styles:i})}const c1=e=>{const t={systemProps:{},otherProps:{}},n=e?.theme?.unstable_sxConfig??oa;return Object.keys(e).forEach(r=>{n[r]?t.systemProps[r]=e[r]:t.otherProps[r]=e[r]}),t};function nc(e){const{sx:t,...n}=e,{systemProps:r,otherProps:o}=c1(n);let i;return Array.isArray(t)?i=[r,...t]:typeof t=="function"?i=(...s)=>{const a=t(...s);return kr(a)?{...r,...a}:r}:i={...r,...t},{...o,sx:i}}const rh=e=>e,u1=()=>{let e=rh;return{configure(t){e=t},generate(t){return e(t)},reset(){e=rh}}},ny=u1();function ry(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=ry(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function pe(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=ry(e))&&(r&&(r+=" "),r+=t);return r}function d1(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:o}=e,i=Zv("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(ao);return Oe(function(c,u){const d=sa(n),{className:p,component:f="div",...h}=nc(c);return l(i,{as:f,ref:u,className:pe(p,o?o(r):r),theme:t&&d[t]||d,...h})})}const p1={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function He(e,t,n="Mui"){const r=p1[t];return r?`${n}-${r}`:`${ny.generate(e)}-${t}`}function Ye(e,t,n="Mui"){const r={};return t.forEach(o=>{r[o]=He(e,o,n)}),r}function oy(e){const{variants:t,...n}=e,r={variants:t,style:no(n),isProcessed:!0};return r.style===n||t&&t.forEach(o=>{typeof o.style!="function"&&(o.style=no(o.style))}),r}const f1=ia();function Kc(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function _o(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}function h1(e){return e?(t,n)=>n[e]:null}function m1(e,t,n){e.theme=v1(e.theme)?n:e.theme[t]||e.theme}function nl(e,t,n){const r=typeof t=="function"?t(e):t;if(Array.isArray(r))return r.flatMap(o=>nl(e,o,n));if(Array.isArray(r?.variants)){let o;if(r.isProcessed)o=n?_o(r.style,n):r.style;else{const{variants:i,...s}=r;o=n?_o(no(s),n):s}return iy(e,r.variants,[o],n)}return r?.isProcessed?n?_o(no(r.style),n):r.style:n?_o(no(r),n):r}function iy(e,t,n=[],r=void 0){let o;e:for(let i=0;i<t.length;i+=1){const s=t[i];if(typeof s.props=="function"){if(o??={...e,...e.ownerState,ownerState:e.ownerState},!s.props(o))continue}else for(const a in s.props)if(e[a]!==s.props[a]&&e.ownerState?.[a]!==s.props[a])continue e;typeof s.style=="function"?(o??={...e,...e.ownerState,ownerState:e.ownerState},n.push(r?_o(no(s.style(o)),r):s.style(o))):n.push(r?_o(no(s.style),r):s.style)}return n}function sy(e={}){const{themeId:t,defaultTheme:n=f1,rootShouldForwardProp:r=Kc,slotShouldForwardProp:o=Kc}=e;function i(a){m1(a,t,n)}return(a,c={})=>{cx(a,C=>C.filter(T=>T!==ao));const{name:u,slot:d,skipVariantsResolver:p,skipSx:f,overridesResolver:h=h1(b1(d)),...m}=c,g=u&&u.startsWith("Mui")||d?"components":"custom",v=p!==void 0?p:d&&d!=="Root"&&d!=="root"||!1,b=f||!1;let S=Kc;d==="Root"||d==="root"?S=r:d?S=o:y1(a)&&(S=void 0);const y=Zv(a,{shouldForwardProp:S,label:g1(),...m}),w=C=>{if(C.__emotion_real===C)return C;if(typeof C=="function")return function(I){return nl(I,C,I.theme.modularCssLayers?g:void 0)};if(kr(C)){const T=oy(C);return function(E){return T.variants?nl(E,T,E.theme.modularCssLayers?g:void 0):E.theme.modularCssLayers?_o(T.style,g):T.style}}return C},k=(...C)=>{const T=[],I=C.map(w),E=[];if(T.push(i),u&&h&&E.push(function(_){const R=_.theme.components?.[u]?.styleOverrides;if(!R)return null;const M={};for(const A in R)M[A]=nl(_,R[A],_.theme.modularCssLayers?"theme":void 0);return h(_,M)}),u&&!v&&E.push(function(_){const R=_.theme?.components?.[u]?.variants;return R?iy(_,R,[],_.theme.modularCssLayers?"theme":void 0):null}),b||E.push(ao),Array.isArray(I[0])){const x=I.shift(),_=new Array(T.length).fill(""),$=new Array(E.length).fill("");let R;R=[..._,...x,...$],R.raw=[..._,...x.raw,...$],T.unshift(R)}const O=[...T,...I,...E],P=y(...O);return a.muiName&&(P.muiName=a.muiName),P};return y.withConfig&&(k.withConfig=y.withConfig),k}}function g1(e,t){return void 0}function v1(e){for(const t in e)return!1;return!0}function y1(e){return typeof e=="string"&&e.charCodeAt(0)>96}function b1(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}const ay=sy();function zs(e,t,n=!1){const r={...t};for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const i=o;if(i==="components"||i==="slots")r[i]={...e[i],...r[i]};else if(i==="componentsProps"||i==="slotProps"){const s=e[i],a=t[i];if(!a)r[i]=s||{};else if(!s)r[i]=a;else{r[i]={...a};for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const u=c;r[i][u]=zs(s[u],a[u],n)}}}else i==="className"&&n&&t.className?r.className=pe(e?.className,t?.className):i==="style"&&n&&t.style?r.style={...e?.style,...t?.style}:r[i]===void 0&&(r[i]=e[i])}return r}function w1(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:zs(t.components[n].defaultProps,r)}function ly({props:e,name:t,defaultTheme:n,themeId:r}){let o=sa(n);return r&&(o=o[r]||o),w1({theme:o,name:t,props:e})}const In=typeof window<"u"?Yr:ae;function ni(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function cp(e,t=0,n=1){return ni(e,t,n)}function S1(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,o)=>o<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function lo(e){if(e.type)return e;if(e.charAt(0)==="#")return lo(S1(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Ur(9,e));let r=e.substring(t+1,e.length-1),o;if(n==="color"){if(r=r.split(" "),o=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(o))throw new Error(Ur(10,o))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:o}}const x1=e=>{const t=lo(e);return t.values.slice(0,3).map((n,r)=>t.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},cs=(e,t)=>{try{return x1(e)}catch{return e}};function rc(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((o,i)=>i<3?parseInt(o,10):o):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function cy(e){e=lo(e);const{values:t}=e,n=t[0],r=t[1]/100,o=t[2]/100,i=r*Math.min(o,1-o),s=(u,d=(u+n/30)%12)=>o-i*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const c=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return e.type==="hsla"&&(a+="a",c.push(t[3])),rc({type:a,values:c})}function Uu(e){e=lo(e);let t=e.type==="hsl"||e.type==="hsla"?lo(cy(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function C1(e,t){const n=Uu(e),r=Uu(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function vl(e,t){return e=lo(e),t=cp(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,rc(e)}function go(e,t,n){try{return vl(e,t)}catch{return e}}function oc(e,t){if(e=lo(e),t=cp(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return rc(e)}function _t(e,t,n){try{return oc(e,t)}catch{return e}}function ic(e,t){if(e=lo(e),t=cp(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return rc(e)}function Tt(e,t,n){try{return ic(e,t)}catch{return e}}function k1(e,t=.15){return Uu(e)>.5?oc(e,t):ic(e,t)}function ba(e,t,n){try{return k1(e,t)}catch{return e}}const uy=Ut(null);function up(){return bt(uy)}const _1=typeof Symbol=="function"&&Symbol.for,T1=_1?Symbol.for("mui.nested"):"__THEME_NESTED__";function I1(e,t){return typeof t=="function"?t(e):{...e,...t}}function $1(e){const{children:t,theme:n}=e,r=up(),o=ie(()=>{const i=r===null?{...n}:I1(r,n);return i!=null&&(i[T1]=r!==null),i},[n,r]);return l(uy.Provider,{value:o,children:t})}const dy=Ut();function E1({value:e,...t}){return l(dy.Provider,{value:e??!0,...t})}const Bo=()=>bt(dy)??!1,py=Ut(void 0);function P1({value:e,children:t}){return l(py.Provider,{value:e,children:t})}function M1(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const o=t.components[n];return o.defaultProps?zs(o.defaultProps,r,t.components.mergeClassNameAndStyle):!o.styleOverrides&&!o.variants?zs(o,r,t.components.mergeClassNameAndStyle):r}function O1({props:e,name:t}){const n=bt(py);return M1({props:e,name:t,theme:{components:n}})}let oh=0;function R1(e){const[t,n]=U(e),r=e||t;return ae(()=>{t==null&&(oh+=1,n(`mui-${oh}`))},[t]),r}const A1={...Nu},ih=A1.useId;function Gr(e){if(ih!==void 0){const t=ih();return e??t}return R1(e)}function D1(e){const t=lp(),n=Gr()||"",{modularCssLayers:r}=e;let o="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||t!==null?o="":typeof r=="string"?o=r.replace(/mui(?!\.)/g,o):o=`@layer ${o};`,In(()=>{const i=document.querySelector("head");if(!i)return;const s=i.firstChild;if(o){if(s&&s.hasAttribute?.("data-mui-layer-order")&&s.getAttribute("data-mui-layer-order")===n)return;const a=document.createElement("style");a.setAttribute("data-mui-layer-order",n),a.textContent=o,i.prepend(a)}else i.querySelector(`style[data-mui-layer-order="${n}"]`)?.remove()},[o,n]),o?l(ty,{styles:o}):null}const sh={};function ah(e,t,n,r=!1){return ie(()=>{const o=e&&t[e]||t;if(typeof n=="function"){const i=n(o),s=e?{...t,[e]:i}:i;return r?()=>s:s}return e?{...t,[e]:n}:{...t,...n}},[e,t,n,r])}function fy(e){const{children:t,theme:n,themeId:r}=e,o=lp(sh),i=up()||sh,s=ah(r,o,n),a=ah(r,i,n,!0),c=(r?s[r]:s).direction==="rtl",u=D1(s);return l($1,{theme:a,children:l(na.Provider,{value:s,children:l(E1,{value:c,children:l(P1,{value:r?s[r].components:s.components,children:[u,t]})})})})}const lh={theme:void 0};function z1(e){let t,n;return function(o){let i=t;return(i===void 0||o.theme!==n)&&(lh.theme=o.theme,i=oy(e(lh)),t=i,n=o.theme),i}}const dp="mode",pp="color-scheme",L1="data-color-scheme";function N1(e){const{defaultMode:t="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:r="dark",modeStorageKey:o=dp,colorSchemeStorageKey:i=pp,attribute:s=L1,colorSchemeNode:a="document.documentElement",nonce:c}=e||{};let u="",d=s;if(s==="class"&&(d=".%s"),s==="data"&&(d="[data-%s]"),d.startsWith(".")){const f=d.substring(1);u+=`${a}.classList.remove('${f}'.replace('%s', light), '${f}'.replace('%s', dark));
      ${a}.classList.add('${f}'.replace('%s', colorScheme));`}const p=d.match(/\[([^[\]]+)\]/);if(p){const[f,h]=p[1].split("=");h||(u+=`${a}.removeAttribute('${f}'.replace('%s', light));
      ${a}.removeAttribute('${f}'.replace('%s', dark));`),u+=`
      ${a}.setAttribute('${f}'.replace('%s', colorScheme), ${h?`${h}.replace('%s', colorScheme)`:'""'});`}else u+=`${a}.setAttribute('${d}', colorScheme);`;return l("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${o}') || '${t}';
  const dark = localStorage.getItem('${i}-dark') || '${r}';
  const light = localStorage.getItem('${i}-light') || '${n}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${u}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function F1(){}const B1=({key:e,storageWindow:t})=>(!t&&typeof window<"u"&&(t=window),{get(n){if(typeof window>"u")return;if(!t)return n;let r;try{r=t.localStorage.getItem(e)}catch{}return r||n},set:n=>{if(t)try{t.localStorage.setItem(e,n)}catch{}},subscribe:n=>{if(!t)return F1;const r=o=>{const i=o.newValue;o.key===e&&n(i)};return t.addEventListener("storage",r),()=>{t.removeEventListener("storage",r)}}});function Zc(){}function ch(e){if(typeof window<"u"&&typeof window.matchMedia=="function"&&e==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function hy(e,t){if(e.mode==="light"||e.mode==="system"&&e.systemMode==="light")return t("light");if(e.mode==="dark"||e.mode==="system"&&e.systemMode==="dark")return t("dark")}function W1(e){return hy(e,t=>{if(t==="light")return e.lightColorScheme;if(t==="dark")return e.darkColorScheme})}function V1(e){const{defaultMode:t="light",defaultLightColorScheme:n,defaultDarkColorScheme:r,supportedColorSchemes:o=[],modeStorageKey:i=dp,colorSchemeStorageKey:s=pp,storageWindow:a=typeof window>"u"?void 0:window,storageManager:c=B1,noSsr:u=!1}=e,d=o.join(","),p=o.length>1,f=ie(()=>c?.({key:i,storageWindow:a}),[c,i,a]),h=ie(()=>c?.({key:`${s}-light`,storageWindow:a}),[c,s,a]),m=ie(()=>c?.({key:`${s}-dark`,storageWindow:a}),[c,s,a]),[g,v]=U(()=>{const I=f?.get(t)||t,E=h?.get(n)||n,O=m?.get(r)||r;return{mode:I,systemMode:ch(I),lightColorScheme:E,darkColorScheme:O}}),[b,S]=U(u||!p);ae(()=>{S(!0)},[]);const y=W1(g),w=Te(I=>{v(E=>{if(I===E.mode)return E;const O=I??t;return f?.set(O),{...E,mode:O,systemMode:ch(O)}})},[f,t]),k=Te(I=>{I?typeof I=="string"?I&&!d.includes(I)?console.error(`\`${I}\` does not exist in \`theme.colorSchemes\`.`):v(E=>{const O={...E};return hy(E,P=>{P==="light"&&(h?.set(I),O.lightColorScheme=I),P==="dark"&&(m?.set(I),O.darkColorScheme=I)}),O}):v(E=>{const O={...E},P=I.light===null?n:I.light,x=I.dark===null?r:I.dark;return P&&(d.includes(P)?(O.lightColorScheme=P,h?.set(P)):console.error(`\`${P}\` does not exist in \`theme.colorSchemes\`.`)),x&&(d.includes(x)?(O.darkColorScheme=x,m?.set(x)):console.error(`\`${x}\` does not exist in \`theme.colorSchemes\`.`)),O}):v(E=>(h?.set(n),m?.set(r),{...E,lightColorScheme:n,darkColorScheme:r}))},[d,h,m,n,r]),C=Te(I=>{g.mode==="system"&&v(E=>{const O=I?.matches?"dark":"light";return E.systemMode===O?E:{...E,systemMode:O}})},[g.mode]),T=te(C);return T.current=C,ae(()=>{if(typeof window.matchMedia!="function"||!p)return;const I=(...O)=>T.current(...O),E=window.matchMedia("(prefers-color-scheme: dark)");return E.addListener(I),I(E),()=>{E.removeListener(I)}},[p]),ae(()=>{if(p){const I=f?.subscribe(P=>{(!P||["light","dark","system"].includes(P))&&w(P||t)})||Zc,E=h?.subscribe(P=>{(!P||d.match(P))&&k({light:P})})||Zc,O=m?.subscribe(P=>{(!P||d.match(P))&&k({dark:P})})||Zc;return()=>{I(),E(),O()}}},[k,w,d,t,a,p,f,h,m]),{...g,mode:b?g.mode:void 0,systemMode:b?g.systemMode:void 0,colorScheme:b?y:void 0,setMode:w,setColorScheme:k}}const H1="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function U1(e){const{themeId:t,theme:n={},modeStorageKey:r=dp,colorSchemeStorageKey:o=pp,disableTransitionOnChange:i=!1,defaultColorScheme:s,resolveTheme:a}=e,c={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},u=Ut(void 0),d=()=>bt(u)||c,p={},f={};function h(b){const{children:S,theme:y,modeStorageKey:w=r,colorSchemeStorageKey:k=o,disableTransitionOnChange:C=i,storageManager:T,storageWindow:I=typeof window>"u"?void 0:window,documentNode:E=typeof document>"u"?void 0:document,colorSchemeNode:O=typeof document>"u"?void 0:document.documentElement,disableNestedContext:P=!1,disableStyleSheetGeneration:x=!1,defaultMode:_="system",forceThemeRerender:$=!1,noSsr:R}=b,M=te(!1),A=up(),D=bt(u),z=!!D&&!P,W=ie(()=>y||(typeof n=="function"?n():n),[y]),B=W[t],Y=B||W,{colorSchemes:K=p,components:q=f,cssVarPrefix:N}=Y,V=Object.keys(K).filter(ce=>!!K[ce]).join(","),ne=ie(()=>V.split(","),[V]),Ce=typeof s=="string"?s:s.light,ve=typeof s=="string"?s:s.dark,J=K[Ce]&&K[ve]?_:K[Y.defaultColorScheme]?.palette?.mode||Y.palette?.mode,{mode:Se,setMode:we,systemMode:Pe,lightColorScheme:Re,darkColorScheme:xe,colorScheme:Be,setColorScheme:Le}=V1({supportedColorSchemes:ne,defaultLightColorScheme:Ce,defaultDarkColorScheme:ve,modeStorageKey:w,colorSchemeStorageKey:k,defaultMode:J,storageManager:T,storageWindow:I,noSsr:R});let le=Se,Xe=Be;z&&(le=D.mode,Xe=D.colorScheme);let $e=Xe||Y.defaultColorScheme;Y.vars&&!$&&($e=Y.defaultColorScheme);const Je=ie(()=>{const ce=Y.generateThemeVars?.()||Y.vars,ge={...Y,components:q,colorSchemes:K,cssVarPrefix:N,vars:ce};if(typeof ge.generateSpacing=="function"&&(ge.spacing=ge.generateSpacing()),$e){const Ae=K[$e];Ae&&typeof Ae=="object"&&Object.keys(Ae).forEach(Ne=>{Ae[Ne]&&typeof Ae[Ne]=="object"?ge[Ne]={...ge[Ne],...Ae[Ne]}:ge[Ne]=Ae[Ne]})}return a?a(ge):ge},[Y,$e,q,K,N]),ye=Y.colorSchemeSelector;In(()=>{if(Xe&&O&&ye&&ye!=="media"){const ce=ye;let ge=ye;if(ce==="class"&&(ge=".%s"),ce==="data"&&(ge="[data-%s]"),ce?.startsWith("data-")&&!ce.includes("%s")&&(ge=`[${ce}="%s"]`),ge.startsWith("."))O.classList.remove(...ne.map(Ae=>ge.substring(1).replace("%s",Ae))),O.classList.add(ge.substring(1).replace("%s",Xe));else{const Ae=ge.replace("%s",Xe).match(/\[([^\]]+)\]/);if(Ae){const[Ne,Ee]=Ae[1].split("=");Ee||ne.forEach(me=>{O.removeAttribute(Ne.replace(Xe,me))}),O.setAttribute(Ne,Ee?Ee.replace(/"|'/g,""):"")}else O.setAttribute(ge,Xe)}}},[Xe,ye,O,ne]),ae(()=>{let ce;if(C&&M.current&&E){const ge=E.createElement("style");ge.appendChild(E.createTextNode(H1)),E.head.appendChild(ge),window.getComputedStyle(E.body),ce=setTimeout(()=>{E.head.removeChild(ge)},1)}return()=>{clearTimeout(ce)}},[Xe,C,E]),ae(()=>(M.current=!0,()=>{M.current=!1}),[]);const mt=ie(()=>({allColorSchemes:ne,colorScheme:Xe,darkColorScheme:xe,lightColorScheme:Re,mode:le,setColorScheme:Le,setMode:we,systemMode:Pe}),[ne,Xe,xe,Re,le,Le,we,Pe,Je.colorSchemeSelector]);let st=!0;(x||Y.cssVariables===!1||z&&A?.cssVarPrefix===N)&&(st=!1);const fe=l(yt,{children:[l(fy,{themeId:B?t:void 0,theme:Je,children:S}),st&&l(Kv,{styles:Je.generateStyleSheets?.()||[]})]});return z?fe:l(u.Provider,{value:mt,children:fe})}const m=typeof s=="string"?s:s.light,g=typeof s=="string"?s:s.dark;return{CssVarsProvider:h,useColorScheme:d,getInitColorSchemeScript:b=>N1({colorSchemeStorageKey:o,defaultLightColorScheme:m,defaultDarkColorScheme:g,modeStorageKey:r,...b})}}function j1(e=""){function t(...r){if(!r.length)return"";const o=r[0];return typeof o=="string"&&!o.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${o}${t(...r.slice(1))})`:`, ${o}`}return(r,...o)=>`var(--${e?`${e}-`:""}${r}${t(...o)})`}const uh=(e,t,n,r=[])=>{let o=e;t.forEach((i,s)=>{s===t.length-1?Array.isArray(o)?o[Number(i)]=n:o&&typeof o=="object"&&(o[i]=n):o&&typeof o=="object"&&(o[i]||(o[i]=r.includes(i)?[]:{}),o=o[i])})},Y1=(e,t,n)=>{function r(o,i=[],s=[]){Object.entries(o).forEach(([a,c])=>{(!n||n&&!n([...i,a]))&&c!=null&&(typeof c=="object"&&Object.keys(c).length>0?r(c,[...i,a],Array.isArray(c)?[...s,a]:s):t([...i,a],c,s))})}r(e)},G1=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>e.includes(r))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function qc(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},o={},i={},s={};return Y1(e,(a,c,u)=>{if((typeof c=="string"||typeof c=="number")&&(!r||!r(a,c))){const d=`--${n?`${n}-`:""}${a.join("-")}`,p=G1(a,c);Object.assign(o,{[d]:p}),uh(i,a,`var(${d})`,u),uh(s,a,`var(${d}, ${p})`,u)}},a=>a[0]==="vars"),{css:o,vars:i,varsWithDefaults:s}}function K1(e,t={}){const{getSelector:n=b,disableCssColorScheme:r,colorSchemeSelector:o,enableContrastVars:i}=t,{colorSchemes:s={},components:a,defaultColorScheme:c="light",...u}=e,{vars:d,css:p,varsWithDefaults:f}=qc(u,t);let h=f;const m={},{[c]:g,...v}=s;if(Object.entries(v||{}).forEach(([w,k])=>{const{vars:C,css:T,varsWithDefaults:I}=qc(k,t);h=un(h,I),m[w]={css:T,vars:C}}),g){const{css:w,vars:k,varsWithDefaults:C}=qc(g,t);h=un(h,C),m[c]={css:w,vars:k}}function b(w,k){let C=o;if(o==="class"&&(C=".%s"),o==="data"&&(C="[data-%s]"),o?.startsWith("data-")&&!o.includes("%s")&&(C=`[${o}="%s"]`),w){if(C==="media")return e.defaultColorScheme===w?":root":{[`@media (prefers-color-scheme: ${s[w]?.palette?.mode||w})`]:{":root":k}};if(C)return e.defaultColorScheme===w?`:root, ${C.replace("%s",String(w))}`:C.replace("%s",String(w))}return":root"}return{vars:h,generateThemeVars:()=>{let w={...d};return Object.entries(m).forEach(([,{vars:k}])=>{w=un(w,k)}),w},generateStyleSheets:()=>{const w=[],k=e.defaultColorScheme||"light";function C(E,O){Object.keys(O).length&&w.push(typeof E=="string"?{[E]:{...O}}:E)}C(n(void 0,{...p}),p);const{[k]:T,...I}=m;if(T){const{css:E}=T,O=s[k]?.palette?.mode,P=!r&&O?{colorScheme:O,...E}:{...E};C(n(k,{...P}),P)}return Object.entries(I).forEach(([E,{css:O}])=>{const P=s[E]?.palette?.mode,x=!r&&P?{colorScheme:P,...O}:{...O};C(n(E,{...x}),x)}),i&&w.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),w}}}function Z1(e){return function(n){return e==="media"?`@media (prefers-color-scheme: ${n})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${n}"] &`:e==="class"?`.${n} &`:e==="data"?`[data-${n}] &`:`${e.replace("%s",n)} &`:"&"}}function Ue(e,t,n=void 0){const r={};for(const o in e){const i=e[o];let s="",a=!0;for(let c=0;c<i.length;c+=1){const u=i[c];u&&(s+=(a===!0?"":" ")+t(u),a=!1,n&&n[u]&&(s+=" "+n[u]))}r[o]=s}return r}function rl(e,t){return At(e)&&t.indexOf(e.type.muiName??e.type?._payload?.value?.muiName)!==-1}const q1=(e,t)=>e.filter(n=>t.includes(n)),Li=(e,t,n)=>{const r=e.keys[0];Array.isArray(t)?t.forEach((o,i)=>{n((s,a)=>{i<=e.keys.length-1&&(i===0?Object.assign(s,a):s[e.up(e.keys[i])]=a)},o)}):t&&typeof t=="object"?(Object.keys(t).length>e.keys.length?e.keys:q1(e.keys,Object.keys(t))).forEach(i=>{if(e.keys.includes(i)){const s=t[i];s!==void 0&&n((a,c)=>{r===i?Object.assign(a,c):a[e.up(i)]=c},s)}}):(typeof t=="number"||typeof t=="string")&&n((o,i)=>{Object.assign(o,i)},t)};function yl(e){return`--Grid-${e}Spacing`}function sc(e){return`--Grid-parent-${e}Spacing`}const dh="--Grid-columns",vi="--Grid-parent-columns",X1=({theme:e,ownerState:t})=>{const n={};return Li(e.breakpoints,t.size,(r,o)=>{let i={};o==="grow"&&(i={flexBasis:0,flexGrow:1,maxWidth:"100%"}),o==="auto"&&(i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof o=="number"&&(i={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${o} / var(${vi}) - (var(${vi}) - ${o}) * (var(${sc("column")}) / var(${vi})))`}),r(n,i)}),n},J1=({theme:e,ownerState:t})=>{const n={};return Li(e.breakpoints,t.offset,(r,o)=>{let i={};o==="auto"&&(i={marginLeft:"auto"}),typeof o=="number"&&(i={marginLeft:o===0?"0px":`calc(100% * ${o} / var(${vi}) + var(${sc("column")}) * ${o} / var(${vi}))`}),r(n,i)}),n},Q1=({theme:e,ownerState:t})=>{if(!t.container)return{};const n={[dh]:12};return Li(e.breakpoints,t.columns,(r,o)=>{const i=o??12;r(n,{[dh]:i,"> *":{[vi]:i}})}),n},eC=({theme:e,ownerState:t})=>{if(!t.container)return{};const n={};return Li(e.breakpoints,t.rowSpacing,(r,o)=>{const i=typeof o=="string"?o:e.spacing?.(o);r(n,{[yl("row")]:i,"> *":{[sc("row")]:i}})}),n},tC=({theme:e,ownerState:t})=>{if(!t.container)return{};const n={};return Li(e.breakpoints,t.columnSpacing,(r,o)=>{const i=typeof o=="string"?o:e.spacing?.(o);r(n,{[yl("column")]:i,"> *":{[sc("column")]:i}})}),n},nC=({theme:e,ownerState:t})=>{if(!t.container)return{};const n={};return Li(e.breakpoints,t.direction,(r,o)=>{r(n,{flexDirection:o})}),n},rC=({ownerState:e})=>({minWidth:0,boxSizing:"border-box",...e.container&&{display:"flex",flexWrap:"wrap",...e.wrap&&e.wrap!=="wrap"&&{flexWrap:e.wrap},gap:`var(${yl("row")}) var(${yl("column")})`}}),oC=e=>{const t=[];return Object.entries(e).forEach(([n,r])=>{r!==!1&&r!==void 0&&t.push(`grid-${n}-${String(r)}`)}),t},iC=(e,t="xs")=>{function n(r){return r===void 0?!1:typeof r=="string"&&!Number.isNaN(Number(r))||typeof r=="number"&&r>0}if(n(e))return[`spacing-${t}-${String(e)}`];if(typeof e=="object"&&!Array.isArray(e)){const r=[];return Object.entries(e).forEach(([o,i])=>{n(i)&&r.push(`spacing-${o}-${String(i)}`)}),r}return[]},sC=e=>e===void 0?[]:typeof e=="object"?Object.entries(e).map(([t,n])=>`direction-${t}-${n}`):[`direction-xs-${String(e)}`];function aC(e,t){e.item!==void 0&&delete e.item,e.zeroMinWidth!==void 0&&delete e.zeroMinWidth,t.keys.forEach(n=>{e[n]!==void 0&&delete e[n]})}const lC=ia(),cC=ay("div",{name:"MuiGrid",slot:"Root"});function uC(e){return ly({props:e,name:"MuiGrid",defaultTheme:lC})}function dC(e={}){const{createStyledComponent:t=cC,useThemeProps:n=uC,useTheme:r=sa,componentName:o="MuiGrid"}=e,i=(u,d)=>{const{container:p,direction:f,spacing:h,wrap:m,size:g}=u,v={root:["root",p&&"container",m!=="wrap"&&`wrap-xs-${String(m)}`,...sC(f),...oC(g),...p?iC(h,d.breakpoints.keys[0]):[]]};return Ue(v,b=>He(o,b),{})};function s(u,d,p=()=>!0){const f={};return u===null||(Array.isArray(u)?u.forEach((h,m)=>{h!==null&&p(h)&&d.keys[m]&&(f[d.keys[m]]=h)}):typeof u=="object"?Object.keys(u).forEach(h=>{const m=u[h];m!=null&&p(m)&&(f[h]=m)}):f[d.keys[0]]=u),f}const a=t(Q1,tC,eC,X1,nC,rC,J1),c=Oe(function(d,p){const f=r(),h=n(d),m=nc(h);aC(m,f.breakpoints);const{className:g,children:v,columns:b=12,container:S=!1,component:y="div",direction:w="row",wrap:k="wrap",size:C={},offset:T={},spacing:I=0,rowSpacing:E=I,columnSpacing:O=I,unstable_level:P=0,...x}=m,_=s(C,f.breakpoints,B=>B!==!1),$=s(T,f.breakpoints),R=d.columns??(P?void 0:b),M=d.spacing??(P?void 0:I),A=d.rowSpacing??d.spacing??(P?void 0:E),D=d.columnSpacing??d.spacing??(P?void 0:O),z={...m,level:P,columns:R,container:S,direction:w,wrap:k,spacing:M,rowSpacing:A,columnSpacing:D,size:_,offset:$},W=i(z,f);return l(a,{ref:p,as:y,ownerState:z,className:pe(W.root,g),...x,children:Vn.map(v,B=>At(B)&&rl(B,["Grid"])&&S&&B.props.container?$t(B,{unstable_level:B.props?.unstable_level??P+1}):B)})});return c.muiName="Grid",c}const pC=ia(),fC=ay("div",{name:"MuiStack",slot:"Root"});function hC(e){return ly({props:e,name:"MuiStack",defaultTheme:pC})}function mC(e,t){const n=Vn.toArray(e).filter(Boolean);return n.reduce((r,o,i)=>(r.push(o),i<n.length-1&&r.push($t(t,{key:`separator-${i}`})),r),[])}const gC=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],vC=({ownerState:e,theme:t})=>{let n={display:"flex",flexDirection:"column",...hr({theme:t},Yc({values:e.direction,breakpoints:t.breakpoints.values}),r=>({flexDirection:r}))};if(e.spacing){const r=ql(t),o=Object.keys(t.breakpoints.values).reduce((c,u)=>((typeof e.spacing=="object"&&e.spacing[u]!=null||typeof e.direction=="object"&&e.direction[u]!=null)&&(c[u]=!0),c),{}),i=Yc({values:e.direction,base:o}),s=Yc({values:e.spacing,base:o});typeof i=="object"&&Object.keys(i).forEach((c,u,d)=>{if(!i[c]){const f=u>0?i[d[u-1]]:"column";i[c]=f}}),n=un(n,hr({theme:t},s,(c,u)=>e.useFlexGap?{gap:Mo(r,c)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${gC(u?i[u]:e.direction)}`]:Mo(r,c)}}))}return n=bx(t.breakpoints,n),n};function yC(e={}){const{createStyledComponent:t=fC,useThemeProps:n=hC,componentName:r="MuiStack"}=e,o=()=>Ue({root:["root"]},c=>He(r,c),{}),i=t(vC);return Oe(function(c,u){const d=n(c),p=nc(d),{component:f="div",direction:h="column",spacing:m=0,divider:g,children:v,className:b,useFlexGap:S=!1,...y}=p,w={direction:h,spacing:m,useFlexGap:S},k=o();return l(i,{as:f,ownerState:w,ref:u,className:pe(k.root,b),...y,children:g?mC(v,g):v})})}function my(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Os.white,default:Os.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const gy=my();function vy(){return{text:{primary:Os.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Os.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const ju=vy();function ph(e,t,n,r){const o=r.light||r,i=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=ic(e.main,o):t==="dark"&&(e.dark=oc(e.main,i)))}function fh(e,t,n,r,o){const i=o.light||o,s=o.dark||o*1.5;t[n]||(t.hasOwnProperty(r)?t[n]=t[r]:n==="light"?t.light=`color-mix(in ${e}, ${t.main}, #fff ${(i*100).toFixed(0)}%)`:n==="dark"&&(t.dark=`color-mix(in ${e}, ${t.main}, #000 ${(s*100).toFixed(0)}%)`))}function bC(e="light"){return e==="dark"?{main:Ko[200],light:Ko[50],dark:Ko[400]}:{main:Ko[700],light:Ko[400],dark:Ko[800]}}function wC(e="light"){return e==="dark"?{main:Go[200],light:Go[50],dark:Go[400]}:{main:Go[500],light:Go[300],dark:Go[700]}}function SC(e="light"){return e==="dark"?{main:Yo[500],light:Yo[300],dark:Yo[700]}:{main:Yo[700],light:Yo[400],dark:Yo[800]}}function xC(e="light"){return e==="dark"?{main:Zo[400],light:Zo[300],dark:Zo[700]}:{main:Zo[700],light:Zo[500],dark:Zo[900]}}function CC(e="light"){return e==="dark"?{main:qo[400],light:qo[300],dark:qo[700]}:{main:qo[800],light:qo[500],dark:qo[900]}}function kC(e="light"){return e==="dark"?{main:qi[400],light:qi[300],dark:qi[700]}:{main:"#ed6c02",light:qi[500],dark:qi[900]}}function _C(e){return`oklch(from ${e} var(--__l) 0 h / var(--__a))`}function fp(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,colorSpace:o,...i}=e,s=e.primary||bC(t),a=e.secondary||wC(t),c=e.error||SC(t),u=e.info||xC(t),d=e.success||CC(t),p=e.warning||kC(t);function f(v){return o?_C(v):C1(v,ju.text.primary)>=n?ju.text.primary:gy.text.primary}const h=({color:v,name:b,mainShade:S=500,lightShade:y=300,darkShade:w=700})=>{if(v={...v},!v.main&&v[S]&&(v.main=v[S]),!v.hasOwnProperty("main"))throw new Error(Ur(11,b?` (${b})`:"",S));if(typeof v.main!="string")throw new Error(Ur(12,b?` (${b})`:"",JSON.stringify(v.main)));return o?(fh(o,v,"light",y,r),fh(o,v,"dark",w,r)):(ph(v,"light",y,r),ph(v,"dark",w,r)),v.contrastText||(v.contrastText=f(v.main)),v};let m;return t==="light"?m=my():t==="dark"&&(m=vy()),un({common:{...Os},mode:t,primary:h({color:s,name:"primary"}),secondary:h({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:c,name:"error"}),warning:h({color:p,name:"warning"}),info:h({color:u,name:"info"}),success:h({color:d,name:"success"}),grey:eS,contrastThreshold:n,getContrastText:f,augmentColor:h,tonalOffset:r,...m},i)}function TC(e){const t={};return Object.entries(e).forEach(r=>{const[o,i]=r;typeof i=="object"&&(t[o]=`${i.fontStyle?`${i.fontStyle} `:""}${i.fontVariant?`${i.fontVariant} `:""}${i.fontWeight?`${i.fontWeight} `:""}${i.fontStretch?`${i.fontStretch} `:""}${i.fontSize||""}${i.lineHeight?`/${i.lineHeight} `:""}${i.fontFamily||""}`)}),t}function IC(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function $C(e){return Math.round(e*1e5)/1e5}const hh={textTransform:"uppercase"},mh='"Roboto", "Helvetica", "Arial", sans-serif';function yy(e,t){const{fontFamily:n=mh,fontSize:r=14,fontWeightLight:o=300,fontWeightRegular:i=400,fontWeightMedium:s=500,fontWeightBold:a=700,htmlFontSize:c=16,allVariants:u,pxToRem:d,...p}=typeof t=="function"?t(e):t,f=r/14,h=d||(v=>`${v/c*f}rem`),m=(v,b,S,y,w)=>({fontFamily:n,fontWeight:v,fontSize:h(b),lineHeight:S,...n===mh?{letterSpacing:`${$C(y/b)}em`}:{},...w,...u}),g={h1:m(o,96,1.167,-1.5),h2:m(o,60,1.2,-.5),h3:m(i,48,1.167,0),h4:m(i,34,1.235,.25),h5:m(i,24,1.334,0),h6:m(s,20,1.6,.15),subtitle1:m(i,16,1.75,.15),subtitle2:m(s,14,1.57,.1),body1:m(i,16,1.5,.15),body2:m(i,14,1.43,.15),button:m(s,14,1.75,.4,hh),caption:m(i,12,1.66,.4),overline:m(i,12,2.66,1,hh),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return un({htmlFontSize:c,pxToRem:h,fontFamily:n,fontSize:r,fontWeightLight:o,fontWeightRegular:i,fontWeightMedium:s,fontWeightBold:a,...g},p,{clone:!1})}const EC=.2,PC=.14,MC=.12;function zt(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${EC})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${PC})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${MC})`].join(",")}const OC=["none",zt(0,2,1,-1,0,1,1,0,0,1,3,0),zt(0,3,1,-2,0,2,2,0,0,1,5,0),zt(0,3,3,-2,0,3,4,0,0,1,8,0),zt(0,2,4,-1,0,4,5,0,0,1,10,0),zt(0,3,5,-1,0,5,8,0,0,1,14,0),zt(0,3,5,-1,0,6,10,0,0,1,18,0),zt(0,4,5,-2,0,7,10,1,0,2,16,1),zt(0,5,5,-3,0,8,10,1,0,3,14,2),zt(0,5,6,-3,0,9,12,1,0,3,16,2),zt(0,6,6,-3,0,10,14,1,0,4,18,3),zt(0,6,7,-4,0,11,15,1,0,4,20,3),zt(0,7,8,-4,0,12,17,2,0,5,22,4),zt(0,7,8,-4,0,13,19,2,0,5,24,4),zt(0,7,9,-4,0,14,21,2,0,5,26,4),zt(0,8,9,-5,0,15,22,2,0,6,28,5),zt(0,8,10,-5,0,16,24,2,0,6,30,5),zt(0,8,11,-5,0,17,26,2,0,6,32,5),zt(0,9,11,-5,0,18,28,2,0,7,34,6),zt(0,9,12,-6,0,19,29,2,0,7,36,6),zt(0,10,13,-6,0,20,31,3,0,8,38,7),zt(0,10,13,-6,0,21,33,3,0,8,40,7),zt(0,10,14,-6,0,22,35,3,0,8,42,7),zt(0,11,14,-7,0,23,36,3,0,9,44,8),zt(0,11,15,-7,0,24,38,3,0,9,46,8)],RC={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},by={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function gh(e){return`${Math.round(e)}ms`}function AC(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function DC(e){const t={...RC,...e.easing},n={...by,...e.duration};return{getAutoHeightDuration:AC,create:(o=["all"],i={})=>{const{duration:s=n.standard,easing:a=t.easeInOut,delay:c=0,...u}=i;return(Array.isArray(o)?o:[o]).map(d=>`${d} ${typeof s=="string"?s:gh(s)} ${a} ${typeof c=="string"?c:gh(c)}`).join(",")},...e,easing:t,duration:n}}const zC={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function LC(e){return kr(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function wy(e={}){const t={...e};function n(r){const o=Object.entries(r);for(let i=0;i<o.length;i++){const[s,a]=o[i];!LC(a)||s.startsWith("unstable_")?delete r[s]:kr(a)&&(r[s]={...a},n(r[s]))}}return n(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function vh(e){return typeof e=="number"?`${(e*100).toFixed(0)}%`:`calc((${e}) * 100%)`}const NC=e=>{if(!Number.isNaN(+e))return+e;const t=e.match(/\d*\.?\d+/g);if(!t)return 0;let n=0;for(let r=0;r<t.length;r+=1)n+=+t[r];return n};function FC(e){Object.assign(e,{alpha(t,n){const r=this||e;return r.colorSpace?`oklch(from ${t} l c h / ${typeof n=="string"?`calc(${n})`:n})`:r.vars?`rgba(${t.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof n=="string"?`calc(${n})`:n})`:vl(t,NC(n))},lighten(t,n){const r=this||e;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${t}, #fff ${vh(n)})`:ic(t,n)},darken(t,n){const r=this||e;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${t}, #000 ${vh(n)})`:oc(t,n)}})}function Yu(e={},...t){const{breakpoints:n,mixins:r={},spacing:o,palette:i={},transitions:s={},typography:a={},shape:c,colorSpace:u,...d}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(Ur(20));const p=fp({...i,colorSpace:u}),f=ia(e);let h=un(f,{mixins:IC(f.breakpoints,r),palette:p,shadows:OC.slice(),typography:yy(p,a),transitions:DC(s),zIndex:{...zC}});return h=un(h,d),h=t.reduce((m,g)=>un(m,g),h),h.unstable_sxConfig={...oa,...d?.unstable_sxConfig},h.unstable_sx=function(g){return ao({sx:g,theme:this})},h.toRuntimeSource=wy,FC(h),h}function Gu(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const BC=[...Array(25)].map((e,t)=>{if(t===0)return"none";const n=Gu(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function Sy(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function xy(e){return e==="dark"?BC:[]}function WC(e){const{palette:t={mode:"light"},opacity:n,overlays:r,colorSpace:o,...i}=e,s=fp({...t,colorSpace:o});return{palette:s,opacity:{...Sy(s.mode),...n},overlays:r||xy(s.mode),...i}}function VC(e){return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!e[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const HC=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],UC=e=>(t,n)=>{const r=e.rootSelector||":root",o=e.colorSchemeSelector;let i=o;if(o==="class"&&(i=".%s"),o==="data"&&(i="[data-%s]"),o?.startsWith("data-")&&!o.includes("%s")&&(i=`[${o}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const s={};return HC(e.cssVarPrefix).forEach(a=>{s[a]=n[a],delete n[a]}),i==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:s}}:i?{[i.replace("%s",t)]:s,[`${r}, ${i.replace("%s",t)}`]:n}:{[r]:{...n,...s}}}if(i&&i!=="media")return`${r}, ${i.replace("%s",String(t))}`}else if(t){if(i==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(i)return i.replace("%s",String(t))}return r};function jC(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function X(e,t,n){!e[t]&&n&&(e[t]=n)}function us(e){return typeof e!="string"||!e.startsWith("hsl")?e:cy(e)}function Fr(e,t){`${t}Channel`in e||(e[`${t}Channel`]=cs(us(e[t])))}function YC(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const wr=e=>{try{return e()}catch{}},GC=(e="mui")=>j1(e);function Xc(e,t,n,r,o){if(!n)return;n=n===!0?{}:n;const i=o==="dark"?"dark":"light";if(!r){t[o]=WC({...n,palette:{mode:i,...n?.palette},colorSpace:e});return}const{palette:s,...a}=Yu({...r,palette:{mode:i,...n?.palette},colorSpace:e});return t[o]={...n,palette:s,opacity:{...Sy(i),...n?.opacity},overlays:n?.overlays||xy(i)},a}function KC(e={},...t){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:o=!1,cssVarPrefix:i="mui",nativeColor:s=!1,shouldSkipGeneratingVar:a=VC,colorSchemeSelector:c=n.light&&n.dark?"media":void 0,rootSelector:u=":root",...d}=e,p=Object.keys(n)[0],f=r||(n.light&&p!=="light"?"light":p),h=GC(i),{[f]:m,light:g,dark:v,...b}=n,S={...b};let y=m;if((f==="dark"&&!("dark"in n)||f==="light"&&!("light"in n))&&(y=!0),!y)throw new Error(Ur(21,f));let w;s&&(w="oklch");const k=Xc(w,S,y,d,f);g&&!S.light&&Xc(w,S,g,void 0,"light"),v&&!S.dark&&Xc(w,S,v,void 0,"dark");let C={defaultColorScheme:f,...k,cssVarPrefix:i,colorSchemeSelector:c,rootSelector:u,getCssVar:h,colorSchemes:S,font:{...TC(k.typography),...k.font},spacing:YC(d.spacing)};Object.keys(C.colorSchemes).forEach(P=>{const x=C.colorSchemes[P].palette,_=R=>{const M=R.split("-"),A=M[1],D=M[2];return h(R,x[A][D])};x.mode==="light"&&(X(x.common,"background","#fff"),X(x.common,"onBackground","#000")),x.mode==="dark"&&(X(x.common,"background","#000"),X(x.common,"onBackground","#fff"));function $(R,M,A){if(w){let D;return R===go&&(D=`transparent ${((1-A)*100).toFixed(0)}%`),R===_t&&(D=`#000 ${(A*100).toFixed(0)}%`),R===Tt&&(D=`#fff ${(A*100).toFixed(0)}%`),`color-mix(in ${w}, ${M}, ${D})`}return R(M,A)}if(jC(x,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),x.mode==="light"){X(x.Alert,"errorColor",$(_t,x.error.light,.6)),X(x.Alert,"infoColor",$(_t,x.info.light,.6)),X(x.Alert,"successColor",$(_t,x.success.light,.6)),X(x.Alert,"warningColor",$(_t,x.warning.light,.6)),X(x.Alert,"errorFilledBg",_("palette-error-main")),X(x.Alert,"infoFilledBg",_("palette-info-main")),X(x.Alert,"successFilledBg",_("palette-success-main")),X(x.Alert,"warningFilledBg",_("palette-warning-main")),X(x.Alert,"errorFilledColor",wr(()=>x.getContrastText(x.error.main))),X(x.Alert,"infoFilledColor",wr(()=>x.getContrastText(x.info.main))),X(x.Alert,"successFilledColor",wr(()=>x.getContrastText(x.success.main))),X(x.Alert,"warningFilledColor",wr(()=>x.getContrastText(x.warning.main))),X(x.Alert,"errorStandardBg",$(Tt,x.error.light,.9)),X(x.Alert,"infoStandardBg",$(Tt,x.info.light,.9)),X(x.Alert,"successStandardBg",$(Tt,x.success.light,.9)),X(x.Alert,"warningStandardBg",$(Tt,x.warning.light,.9)),X(x.Alert,"errorIconColor",_("palette-error-main")),X(x.Alert,"infoIconColor",_("palette-info-main")),X(x.Alert,"successIconColor",_("palette-success-main")),X(x.Alert,"warningIconColor",_("palette-warning-main")),X(x.AppBar,"defaultBg",_("palette-grey-100")),X(x.Avatar,"defaultBg",_("palette-grey-400")),X(x.Button,"inheritContainedBg",_("palette-grey-300")),X(x.Button,"inheritContainedHoverBg",_("palette-grey-A100")),X(x.Chip,"defaultBorder",_("palette-grey-400")),X(x.Chip,"defaultAvatarColor",_("palette-grey-700")),X(x.Chip,"defaultIconColor",_("palette-grey-700")),X(x.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),X(x.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),X(x.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),X(x.LinearProgress,"primaryBg",$(Tt,x.primary.main,.62)),X(x.LinearProgress,"secondaryBg",$(Tt,x.secondary.main,.62)),X(x.LinearProgress,"errorBg",$(Tt,x.error.main,.62)),X(x.LinearProgress,"infoBg",$(Tt,x.info.main,.62)),X(x.LinearProgress,"successBg",$(Tt,x.success.main,.62)),X(x.LinearProgress,"warningBg",$(Tt,x.warning.main,.62)),X(x.Skeleton,"bg",w?$(go,x.text.primary,.11):`rgba(${_("palette-text-primaryChannel")} / 0.11)`),X(x.Slider,"primaryTrack",$(Tt,x.primary.main,.62)),X(x.Slider,"secondaryTrack",$(Tt,x.secondary.main,.62)),X(x.Slider,"errorTrack",$(Tt,x.error.main,.62)),X(x.Slider,"infoTrack",$(Tt,x.info.main,.62)),X(x.Slider,"successTrack",$(Tt,x.success.main,.62)),X(x.Slider,"warningTrack",$(Tt,x.warning.main,.62));const R=w?$(_t,x.background.default,.6825):ba(x.background.default,.8);X(x.SnackbarContent,"bg",R),X(x.SnackbarContent,"color",wr(()=>w?ju.text.primary:x.getContrastText(R))),X(x.SpeedDialAction,"fabHoverBg",ba(x.background.paper,.15)),X(x.StepConnector,"border",_("palette-grey-400")),X(x.StepContent,"border",_("palette-grey-400")),X(x.Switch,"defaultColor",_("palette-common-white")),X(x.Switch,"defaultDisabledColor",_("palette-grey-100")),X(x.Switch,"primaryDisabledColor",$(Tt,x.primary.main,.62)),X(x.Switch,"secondaryDisabledColor",$(Tt,x.secondary.main,.62)),X(x.Switch,"errorDisabledColor",$(Tt,x.error.main,.62)),X(x.Switch,"infoDisabledColor",$(Tt,x.info.main,.62)),X(x.Switch,"successDisabledColor",$(Tt,x.success.main,.62)),X(x.Switch,"warningDisabledColor",$(Tt,x.warning.main,.62)),X(x.TableCell,"border",$(Tt,$(go,x.divider,1),.88)),X(x.Tooltip,"bg",$(go,x.grey[700],.92))}if(x.mode==="dark"){X(x.Alert,"errorColor",$(Tt,x.error.light,.6)),X(x.Alert,"infoColor",$(Tt,x.info.light,.6)),X(x.Alert,"successColor",$(Tt,x.success.light,.6)),X(x.Alert,"warningColor",$(Tt,x.warning.light,.6)),X(x.Alert,"errorFilledBg",_("palette-error-dark")),X(x.Alert,"infoFilledBg",_("palette-info-dark")),X(x.Alert,"successFilledBg",_("palette-success-dark")),X(x.Alert,"warningFilledBg",_("palette-warning-dark")),X(x.Alert,"errorFilledColor",wr(()=>x.getContrastText(x.error.dark))),X(x.Alert,"infoFilledColor",wr(()=>x.getContrastText(x.info.dark))),X(x.Alert,"successFilledColor",wr(()=>x.getContrastText(x.success.dark))),X(x.Alert,"warningFilledColor",wr(()=>x.getContrastText(x.warning.dark))),X(x.Alert,"errorStandardBg",$(_t,x.error.light,.9)),X(x.Alert,"infoStandardBg",$(_t,x.info.light,.9)),X(x.Alert,"successStandardBg",$(_t,x.success.light,.9)),X(x.Alert,"warningStandardBg",$(_t,x.warning.light,.9)),X(x.Alert,"errorIconColor",_("palette-error-main")),X(x.Alert,"infoIconColor",_("palette-info-main")),X(x.Alert,"successIconColor",_("palette-success-main")),X(x.Alert,"warningIconColor",_("palette-warning-main")),X(x.AppBar,"defaultBg",_("palette-grey-900")),X(x.AppBar,"darkBg",_("palette-background-paper")),X(x.AppBar,"darkColor",_("palette-text-primary")),X(x.Avatar,"defaultBg",_("palette-grey-600")),X(x.Button,"inheritContainedBg",_("palette-grey-800")),X(x.Button,"inheritContainedHoverBg",_("palette-grey-700")),X(x.Chip,"defaultBorder",_("palette-grey-700")),X(x.Chip,"defaultAvatarColor",_("palette-grey-300")),X(x.Chip,"defaultIconColor",_("palette-grey-300")),X(x.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),X(x.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),X(x.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),X(x.LinearProgress,"primaryBg",$(_t,x.primary.main,.5)),X(x.LinearProgress,"secondaryBg",$(_t,x.secondary.main,.5)),X(x.LinearProgress,"errorBg",$(_t,x.error.main,.5)),X(x.LinearProgress,"infoBg",$(_t,x.info.main,.5)),X(x.LinearProgress,"successBg",$(_t,x.success.main,.5)),X(x.LinearProgress,"warningBg",$(_t,x.warning.main,.5)),X(x.Skeleton,"bg",w?$(go,x.text.primary,.13):`rgba(${_("palette-text-primaryChannel")} / 0.13)`),X(x.Slider,"primaryTrack",$(_t,x.primary.main,.5)),X(x.Slider,"secondaryTrack",$(_t,x.secondary.main,.5)),X(x.Slider,"errorTrack",$(_t,x.error.main,.5)),X(x.Slider,"infoTrack",$(_t,x.info.main,.5)),X(x.Slider,"successTrack",$(_t,x.success.main,.5)),X(x.Slider,"warningTrack",$(_t,x.warning.main,.5));const R=w?$(Tt,x.background.default,.985):ba(x.background.default,.98);X(x.SnackbarContent,"bg",R),X(x.SnackbarContent,"color",wr(()=>w?gy.text.primary:x.getContrastText(R))),X(x.SpeedDialAction,"fabHoverBg",ba(x.background.paper,.15)),X(x.StepConnector,"border",_("palette-grey-600")),X(x.StepContent,"border",_("palette-grey-600")),X(x.Switch,"defaultColor",_("palette-grey-300")),X(x.Switch,"defaultDisabledColor",_("palette-grey-600")),X(x.Switch,"primaryDisabledColor",$(_t,x.primary.main,.55)),X(x.Switch,"secondaryDisabledColor",$(_t,x.secondary.main,.55)),X(x.Switch,"errorDisabledColor",$(_t,x.error.main,.55)),X(x.Switch,"infoDisabledColor",$(_t,x.info.main,.55)),X(x.Switch,"successDisabledColor",$(_t,x.success.main,.55)),X(x.Switch,"warningDisabledColor",$(_t,x.warning.main,.55)),X(x.TableCell,"border",$(_t,$(go,x.divider,1),.68)),X(x.Tooltip,"bg",$(go,x.grey[700],.92))}Fr(x.background,"default"),Fr(x.background,"paper"),Fr(x.common,"background"),Fr(x.common,"onBackground"),Fr(x,"divider"),Object.keys(x).forEach(R=>{const M=x[R];R!=="tonalOffset"&&M&&typeof M=="object"&&(M.main&&X(x[R],"mainChannel",cs(us(M.main))),M.light&&X(x[R],"lightChannel",cs(us(M.light))),M.dark&&X(x[R],"darkChannel",cs(us(M.dark))),M.contrastText&&X(x[R],"contrastTextChannel",cs(us(M.contrastText))),R==="text"&&(Fr(x[R],"primary"),Fr(x[R],"secondary")),R==="action"&&(M.active&&Fr(x[R],"active"),M.selected&&Fr(x[R],"selected")))})}),C=t.reduce((P,x)=>un(P,x),C);const T={prefix:i,disableCssColorScheme:o,shouldSkipGeneratingVar:a,getSelector:UC(C),enableContrastVars:s},{vars:I,generateThemeVars:E,generateStyleSheets:O}=K1(C,T);return C.vars=I,Object.entries(C.colorSchemes[C.defaultColorScheme]).forEach(([P,x])=>{C[P]=x}),C.generateThemeVars=E,C.generateStyleSheets=O,C.generateSpacing=function(){return ey(d.spacing,ql(this))},C.getColorSchemeSelector=Z1(c),C.spacing=C.generateSpacing(),C.shouldSkipGeneratingVar=a,C.unstable_sxConfig={...oa,...d?.unstable_sxConfig},C.unstable_sx=function(x){return ao({sx:x,theme:this})},C.toRuntimeSource=wy,C}function yh(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...n!==!0&&n,palette:fp({...n===!0?{}:n.palette,mode:t})})}function ac(e={},...t){const{palette:n,cssVariables:r=!1,colorSchemes:o=n?void 0:{light:!0},defaultColorScheme:i=n?.mode,...s}=e,a=i||"light",c=o?.[a],u={...o,...n?{[a]:{...typeof c!="boolean"&&c,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in e))return Yu(e,...t);let d=n;"palette"in e||u[a]&&(u[a]!==!0?d=u[a].palette:a==="dark"&&(d={mode:"dark"}));const p=Yu({...e,palette:d},...t);return p.defaultColorScheme=a,p.colorSchemes=u,p.palette.mode==="light"&&(p.colorSchemes.light={...u.light!==!0&&u.light,palette:p.palette},yh(p,"dark",u.dark)),p.palette.mode==="dark"&&(p.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:p.palette},yh(p,"light",u.light)),p}return!n&&!("light"in u)&&a==="light"&&(u.light=!0),KC({...s,colorSchemes:u,defaultColorScheme:a,...typeof r!="boolean"&&r},...t)}const hp=ac();function po(){const e=sa(hp);return e[Er]||e}function lc(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const vn=e=>lc(e)&&e!=="classes",G=sy({themeId:Er,defaultTheme:hp,rootShouldForwardProp:vn});function ZC({theme:e,...t}){const n=Er in e?e[Er]:void 0;return l(fy,{...t,themeId:n?Er:void 0,theme:n||e})}const wa={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:qC}=U1({themeId:Er,theme:()=>ac({cssVariables:!0}),colorSchemeStorageKey:wa.colorSchemeStorageKey,modeStorageKey:wa.modeStorageKey,defaultColorScheme:{light:wa.defaultLightColorScheme,dark:wa.defaultDarkColorScheme},resolveTheme:e=>{const t={...e,typography:yy(e.palette,e.typography)};return t.unstable_sx=function(r){return ao({sx:r,theme:this})},t}}),XC=qC;function JC({theme:e,...t}){const n=ie(()=>{if(typeof e=="function")return e;const r=Er in e?e[Er]:e;return"colorSchemes"in r?null:"vars"in r?e:{...e,vars:null}},[e]);return n?l(ZC,{theme:n,...t}):l(XC,{theme:e,...t})}function Ku(...e){return e.reduce((t,n)=>n==null?t:function(...o){t.apply(this,o),n.apply(this,o)},()=>{})}function QC(e){return l(ty,{...e,defaultTheme:hp,themeId:Er})}function mp(e){return function(n){return l(QC,{styles:typeof e=="function"?r=>e({theme:r,...n}):e})}}function ek(){return nc}const ze=z1;function Ge(e){return O1(e)}function tk(e){return He("MuiSvgIcon",e)}Ye("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const nk=e=>{const{color:t,fontSize:n,classes:r}=e,o={root:["root",t!=="inherit"&&`color${Z(t)}`,`fontSize${Z(n)}`]};return Ue(o,tk,r)},rk=G("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Z(n.color)}`],t[`fontSize${Z(n.fontSize)}`]]}})(ze(({theme:e})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:e.transitions?.create?.("fill",{duration:(e.vars??e).transitions?.duration?.shorter}),variants:[{props:t=>!t.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:e.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:e.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:e.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,t])=>t&&t.main).map(([t])=>({props:{color:t},style:{color:(e.vars??e).palette?.[t]?.main}})),{props:{color:"action"},style:{color:(e.vars??e).palette?.action?.active}},{props:{color:"disabled"},style:{color:(e.vars??e).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),Zu=Oe(function(t,n){const r=Ge({props:t,name:"MuiSvgIcon"}),{children:o,className:i,color:s="inherit",component:a="svg",fontSize:c="medium",htmlColor:u,inheritViewBox:d=!1,titleAccess:p,viewBox:f="0 0 24 24",...h}=r,m=At(o)&&o.type==="svg",g={...r,color:s,component:a,fontSize:c,instanceFontSize:t.fontSize,inheritViewBox:d,viewBox:f,hasSvgAsChild:m},v={};d||(v.viewBox=f);const b=nk(g);return l(rk,{as:a,className:pe(b.root,i),focusable:"false",color:u,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:n,...v,...h,...m&&o.props,ownerState:g,children:[m?o.props.children:o,p?l("title",{children:p}):null]})});Zu.muiName="SvgIcon";function rt(e,t){function n(r,o){return l(Zu,{"data-testid":void 0,ref:o,...r,children:e})}return n.muiName=Zu.muiName,Hl(Oe(n))}function cc(e,t=166){let n;function r(...o){const i=()=>{e.apply(this,o)};clearTimeout(n),n=setTimeout(i,t)}return r.clear=()=>{clearTimeout(n)},r}function Zt(e){return e&&e.ownerDocument||document}function mr(e){return Zt(e).defaultView||window}function qu(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Mr(e){const{controlled:t,default:n,name:r,state:o="value"}=e,{current:i}=te(t!==void 0),[s,a]=U(n),c=i?t:s,u=Te(d=>{i||a(d)},[]);return[c,u]}function en(e){const t=te(e);return In(()=>{t.current=e}),te((...n)=>(0,t.current)(...n)).current}function Lt(...e){const t=te(void 0),n=Te(r=>{const o=e.map(i=>{if(i==null)return null;if(typeof i=="function"){const s=i,a=s(r);return typeof a=="function"?a:()=>{s(null)}}return i.current=r,()=>{i.current=null}});return()=>{o.forEach(i=>i?.())}},e);return ie(()=>e.every(r=>r==null)?null:r=>{t.current&&(t.current(),t.current=void 0),r!=null&&(t.current=n(r))},e)}function ok(e,t){const n=e.charCodeAt(2);return e[0]==="o"&&e[1]==="n"&&n>=65&&n<=90&&typeof t=="function"}function Cy(e,t){if(!e)return t;function n(s,a){const c={};return Object.keys(a).forEach(u=>{ok(u,a[u])&&typeof s[u]=="function"&&(c[u]=(...d)=>{s[u](...d),a[u](...d)})}),c}if(typeof e=="function"||typeof t=="function")return s=>{const a=typeof t=="function"?t(s):t,c=typeof e=="function"?e({...s,...a}):e,u=pe(s?.className,a?.className,c?.className),d=n(c,a);return{...a,...c,...d,...!!u&&{className:u},...a?.style&&c?.style&&{style:{...a.style,...c.style}},...a?.sx&&c?.sx&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(c.sx)?c.sx:[c.sx]]}}};const r=t,o=n(e,r),i=pe(r?.className,e?.className);return{...t,...e,...o,...!!i&&{className:i},...r?.style&&e?.style&&{style:{...r.style,...e.style}},...r?.sx&&e?.sx&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}function ky(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Xu(e,t){return Xu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Xu(e,t)}function _y(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Xu(e,t)}const bh={disabled:!1},bl=Mt.createContext(null);var ik=function(t){return t.scrollTop},ds="unmounted",yo="exited",bo="entering",ri="entered",Ju="exiting",yr=(function(e){_y(t,e);function t(r,o){var i;i=e.call(this,r,o)||this;var s=o,a=s&&!s.isMounting?r.enter:r.appear,c;return i.appearStatus=null,r.in?a?(c=yo,i.appearStatus=bo):c=ri:r.unmountOnExit||r.mountOnEnter?c=ds:c=yo,i.state={status:c},i.nextCallback=null,i}t.getDerivedStateFromProps=function(o,i){var s=o.in;return s&&i.status===ds?{status:yo}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var i=null;if(o!==this.props){var s=this.state.status;this.props.in?s!==bo&&s!==ri&&(i=bo):(s===bo||s===ri)&&(i=Ju)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,i,s,a;return i=s=a=o,o!=null&&typeof o!="number"&&(i=o.exit,s=o.enter,a=o.appear!==void 0?o.appear:s),{exit:i,enter:s,appear:a}},n.updateStatus=function(o,i){if(o===void 0&&(o=!1),i!==null)if(this.cancelNextCallback(),i===bo){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Mt.findDOMNode(this);s&&ik(s)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===yo&&this.setState({status:ds})},n.performEnter=function(o){var i=this,s=this.props.enter,a=this.context?this.context.isMounting:o,c=this.props.nodeRef?[a]:[Mt.findDOMNode(this),a],u=c[0],d=c[1],p=this.getTimeouts(),f=a?p.appear:p.enter;if(!o&&!s||bh.disabled){this.safeSetState({status:ri},function(){i.props.onEntered(u)});return}this.props.onEnter(u,d),this.safeSetState({status:bo},function(){i.props.onEntering(u,d),i.onTransitionEnd(f,function(){i.safeSetState({status:ri},function(){i.props.onEntered(u,d)})})})},n.performExit=function(){var o=this,i=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:Mt.findDOMNode(this);if(!i||bh.disabled){this.safeSetState({status:yo},function(){o.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Ju},function(){o.props.onExiting(a),o.onTransitionEnd(s.exit,function(){o.safeSetState({status:yo},function(){o.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,i){i=this.setNextCallback(i),this.setState(o,i)},n.setNextCallback=function(o){var i=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,i.nextCallback=null,o(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(o,i){this.setNextCallback(i);var s=this.props.nodeRef?this.props.nodeRef.current:Mt.findDOMNode(this),a=o==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=c[0],d=c[1];this.props.addEndListener(u,d)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===ds)return null;var i=this.props,s=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var a=ky(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Mt.createElement(bl.Provider,{value:null},typeof s=="function"?s(o,a):Mt.cloneElement(Mt.Children.only(s),a))},t})(Mt.Component);yr.contextType=bl;yr.propTypes={};function Xo(){}yr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Xo,onEntering:Xo,onEntered:Xo,onExit:Xo,onExiting:Xo,onExited:Xo};yr.UNMOUNTED=ds;yr.EXITED=yo;yr.ENTERING=bo;yr.ENTERED=ri;yr.EXITING=Ju;function sk(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gp(e,t){var n=function(i){return t&&At(i)?t(i):i},r=Object.create(null);return e&&Vn.map(e,function(o){return o}).forEach(function(o){r[o.key]=n(o)}),r}function ak(e,t){e=e||{},t=t||{};function n(d){return d in t?t[d]:e[d]}var r=Object.create(null),o=[];for(var i in e)i in t?o.length&&(r[i]=o,o=[]):o.push(i);var s,a={};for(var c in t){if(r[c])for(s=0;s<r[c].length;s++){var u=r[c][s];a[r[c][s]]=n(u)}a[c]=n(c)}for(s=0;s<o.length;s++)a[o[s]]=n(o[s]);return a}function To(e,t,n){return n[t]!=null?n[t]:e.props[t]}function lk(e,t){return gp(e.children,function(n){return $t(n,{onExited:t.bind(null,n),in:!0,appear:To(n,"appear",e),enter:To(n,"enter",e),exit:To(n,"exit",e)})})}function ck(e,t,n){var r=gp(e.children),o=ak(t,r);return Object.keys(o).forEach(function(i){var s=o[i];if(At(s)){var a=i in t,c=i in r,u=t[i],d=At(u)&&!u.props.in;c&&(!a||d)?o[i]=$t(s,{onExited:n.bind(null,s),in:!0,exit:To(s,"exit",e),enter:To(s,"enter",e)}):!c&&a&&!d?o[i]=$t(s,{in:!1}):c&&a&&At(u)&&(o[i]=$t(s,{onExited:n.bind(null,s),in:u.props.in,exit:To(s,"exit",e),enter:To(s,"enter",e)}))}}),o}var uk=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},dk={component:"div",childFactory:function(t){return t}},vp=(function(e){_y(t,e);function t(r,o){var i;i=e.call(this,r,o)||this;var s=i.handleExited.bind(sk(i));return i.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},i}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(o,i){var s=i.children,a=i.handleExited,c=i.firstRender;return{children:c?lk(o,a):ck(o,s,a),firstRender:!1}},n.handleExited=function(o,i){var s=gp(this.props.children);o.key in s||(o.props.onExited&&o.props.onExited(i),this.mounted&&this.setState(function(a){var c=fl({},a.children);return delete c[o.key],{children:c}}))},n.render=function(){var o=this.props,i=o.component,s=o.childFactory,a=ky(o,["component","childFactory"]),c=this.state.contextValue,u=uk(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,i===null?Mt.createElement(bl.Provider,{value:c},u):Mt.createElement(bl.Provider,{value:c},Mt.createElement(i,a,u))},t})(Mt.Component);vp.propTypes={};vp.defaultProps=dk;const wh={};function Ty(e,t){const n=te(wh);return n.current===wh&&(n.current=e(t)),n}const pk=[];function fk(e){ae(e,pk)}class uc{static create(){return new uc}currentId=null;start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function Io(){const e=Ty(uc.create).current;return fk(e.disposeEffect),e}const Iy=e=>e.scrollTop;function ki(e,t){const{timeout:n,easing:r,style:o={}}=e;return{duration:o.transitionDuration??(typeof n=="number"?n:n[t.mode]||0),easing:o.transitionTimingFunction??(typeof r=="object"?r[t.mode]:r),delay:o.transitionDelay}}function ro(e){return typeof e=="string"}function $y(e,t,n){return e===void 0||ro(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function Ey(e,t,n){return typeof e=="function"?e(t,n):e}function Ss(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function Sh(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function Py(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:o,className:i}=e;if(!t){const h=pe(n?.className,i,o?.className,r?.className),m={...n?.style,...o?.style,...r?.style},g={...n,...o,...r};return h.length>0&&(g.className=h),Object.keys(m).length>0&&(g.style=m),{props:g,internalRef:void 0}}const s=Ss({...o,...r}),a=Sh(r),c=Sh(o),u=t(s),d=pe(u?.className,n?.className,i,o?.className,r?.className),p={...u?.style,...n?.style,...o?.style,...r?.style},f={...u,...n,...c,...a};return d.length>0&&(f.className=d),Object.keys(p).length>0&&(f.style=p),{props:f,internalRef:u.ref}}function je(e,t){const{className:n,elementType:r,ownerState:o,externalForwardedProps:i,internalForwardedProps:s,shouldForwardComponentProp:a=!1,...c}=t,{component:u,slots:d={[e]:void 0},slotProps:p={[e]:void 0},...f}=i,h=d[e]||r,m=Ey(p[e],o),{props:{component:g,...v},internalRef:b}=Py({className:n,...c,externalForwardedProps:e==="root"?f:void 0,externalSlotProps:m}),S=Lt(b,m?.ref,t.ref),y=e==="root"?g||u:g,w=$y(h,{...e==="root"&&!u&&!d[e]&&s,...e!=="root"&&!d[e]&&s,...v,...y&&!a&&{as:y},...y&&a&&{component:y},ref:S},o);return[h,w]}function hk(e){return He("MuiCollapse",e)}Ye("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const mk=e=>{const{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return Ue(r,hk,n)},gk=G("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(ze(({theme:e})=>({height:0,overflow:"hidden",transition:e.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:e.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>t.state==="exited"&&!t.in&&t.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),vk=G("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),yk=G("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Ls=Oe(function(t,n){const r=Ge({props:t,name:"MuiCollapse"}),{addEndListener:o,children:i,className:s,collapsedSize:a="0px",component:c,easing:u,in:d,onEnter:p,onEntered:f,onEntering:h,onExit:m,onExited:g,onExiting:v,orientation:b="vertical",slots:S={},slotProps:y={},style:w,timeout:k=by.standard,TransitionComponent:C=yr,...T}=r,I={...r,orientation:b,collapsedSize:a},E=mk(I),O=po(),P=Io(),x=te(null),_=te(),$=typeof a=="number"?`${a}px`:a,R=b==="horizontal",M=R?"width":"height",A=te(null),D=Lt(n,A),z=xe=>Be=>{if(xe){const Le=A.current;Be===void 0?xe(Le):xe(Le,Be)}},W=()=>x.current?x.current[R?"clientWidth":"clientHeight"]:0,B=z((xe,Be)=>{x.current&&R&&(x.current.style.position="absolute"),xe.style[M]=$,p&&p(xe,Be)}),Y=z((xe,Be)=>{const Le=W();x.current&&R&&(x.current.style.position="");const{duration:le,easing:Xe}=ki({style:w,timeout:k,easing:u},{mode:"enter"});if(k==="auto"){const $e=O.transitions.getAutoHeightDuration(Le);xe.style.transitionDuration=`${$e}ms`,_.current=$e}else xe.style.transitionDuration=typeof le=="string"?le:`${le}ms`;xe.style[M]=`${Le}px`,xe.style.transitionTimingFunction=Xe,h&&h(xe,Be)}),K=z((xe,Be)=>{xe.style[M]="auto",f&&f(xe,Be)}),q=z(xe=>{xe.style[M]=`${W()}px`,m&&m(xe)}),N=z(g),V=z(xe=>{const Be=W(),{duration:Le,easing:le}=ki({style:w,timeout:k,easing:u},{mode:"exit"});if(k==="auto"){const Xe=O.transitions.getAutoHeightDuration(Be);xe.style.transitionDuration=`${Xe}ms`,_.current=Xe}else xe.style.transitionDuration=typeof Le=="string"?Le:`${Le}ms`;xe.style[M]=$,xe.style.transitionTimingFunction=le,v&&v(xe)}),ne=xe=>{k==="auto"&&P.start(_.current||0,xe),o&&o(A.current,xe)},Ce={slots:S,slotProps:y,component:c},[ve,J]=je("root",{ref:D,className:pe(E.root,s),elementType:gk,externalForwardedProps:Ce,ownerState:I,additionalProps:{style:{[R?"minWidth":"minHeight"]:$,...w}}}),[Se,we]=je("wrapper",{ref:x,className:E.wrapper,elementType:vk,externalForwardedProps:Ce,ownerState:I}),[Pe,Re]=je("wrapperInner",{className:E.wrapperInner,elementType:yk,externalForwardedProps:Ce,ownerState:I});return l(C,{in:d,onEnter:B,onEntered:K,onEntering:Y,onExit:q,onExited:N,onExiting:V,addEndListener:ne,nodeRef:A,timeout:k==="auto"?null:k,...T,children:(xe,{ownerState:Be,...Le})=>{const le={...I,state:xe};return l(ve,{...J,className:pe(J.className,{entered:E.entered,exited:!d&&$==="0px"&&E.hidden}[xe]),ownerState:le,...Le,children:l(Se,{...we,ownerState:le,children:l(Pe,{...Re,ownerState:le,children:i})})})}})});Ls&&(Ls.muiSupportAuto=!0);function bk(e){return He("MuiPaper",e)}Ye("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const wk=e=>{const{square:t,elevation:n,variant:r,classes:o}=e,i={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return Ue(i,bk,o)},Sk=G("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(ze(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),br=Oe(function(t,n){const r=Ge({props:t,name:"MuiPaper"}),o=po(),{className:i,component:s="div",elevation:a=1,square:c=!1,variant:u="elevation",...d}=r,p={...r,component:s,elevation:a,square:c,variant:u},f=wk(p);return l(Sk,{as:s,ownerState:p,className:pe(f.root,i),ref:n,...d,style:{...u==="elevation"&&{"--Paper-shadow":(o.vars||o).shadows[a],...o.vars&&{"--Paper-overlay":o.vars.overlays?.[a]},...!o.vars&&o.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${vl("#fff",Gu(a))}, ${vl("#fff",Gu(a))})`}},...d.style}})}),My=Ut({});function xk(e){return He("MuiAccordion",e)}const Sa=Ye("MuiAccordion",["root","heading","rounded","expanded","disabled","gutters","region"]),Ck=e=>{const{classes:t,square:n,expanded:r,disabled:o,disableGutters:i}=e;return Ue({root:["root",!n&&"rounded",r&&"expanded",o&&"disabled",!i&&"gutters"],heading:["heading"],region:["region"]},xk,t)},kk=G(br,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Sa.region}`]:t.region},t.root,!n.square&&t.rounded,!n.disableGutters&&t.gutters]}})(ze(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${Sa.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${Sa.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}}),ze(({theme:e})=>({variants:[{props:t=>!t.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:t=>!t.disableGutters,style:{[`&.${Sa.expanded}`]:{margin:"16px 0"}}}]}))),_k=G("h3",{name:"MuiAccordion",slot:"Heading"})({all:"unset"}),Tk=G("div",{name:"MuiAccordion",slot:"Region"})({}),wo=Oe(function(t,n){const r=Ge({props:t,name:"MuiAccordion"}),{children:o,className:i,defaultExpanded:s=!1,disabled:a=!1,disableGutters:c=!1,expanded:u,onChange:d,square:p=!1,slots:f={},slotProps:h={},TransitionComponent:m,TransitionProps:g,...v}=r,[b,S]=Mr({controlled:u,default:s,name:"Accordion",state:"expanded"}),y=Te(W=>{S(!b),d&&d(W,!b)},[b,d,S]),[w,...k]=Vn.toArray(o),C=ie(()=>({expanded:b,disabled:a,disableGutters:c,toggle:y}),[b,a,c,y]),T={...r,square:p,disabled:a,disableGutters:c,expanded:b},I=Ck(T),E={transition:m,...f},O={transition:g,...h},P={slots:E,slotProps:O},[x,_]=je("root",{elementType:kk,externalForwardedProps:{...P,...v},className:pe(I.root,i),shouldForwardComponentProp:!0,ownerState:T,ref:n,additionalProps:{square:p}}),[$,R]=je("heading",{elementType:_k,externalForwardedProps:P,className:I.heading,ownerState:T}),[M,A]=je("transition",{elementType:Ls,externalForwardedProps:P,ownerState:T}),[D,z]=je("region",{elementType:Tk,externalForwardedProps:P,ownerState:T,className:I.region,additionalProps:{"aria-labelledby":w.props.id,id:w.props["aria-controls"],role:"region"}});return l(x,{..._,children:[l($,{...R,children:l(My.Provider,{value:C,children:w})}),l(M,{in:b,timeout:"auto",...A,children:l(D,{...z,children:k})})]})});function Ik(e){return He("MuiAccordionDetails",e)}Ye("MuiAccordionDetails",["root"]);const $k=e=>{const{classes:t}=e;return Ue({root:["root"]},Ik,t)},Ek=G("div",{name:"MuiAccordionDetails",slot:"Root"})(ze(({theme:e})=>({padding:e.spacing(1,2,2)}))),So=Oe(function(t,n){const r=Ge({props:t,name:"MuiAccordionDetails"}),{className:o,...i}=r,s=r,a=$k(s);return l(Ek,{className:pe(a.root,o),ref:n,ownerState:s,...i})});function _i(e){try{return e.matches(":focus-visible")}catch{}return!1}class wl{static create(){return new wl}static use(){const t=Ty(wl.create).current,[n,r]=U(!1);return t.shouldMount=n,t.setShouldMount=r,ae(t.mountEffect,[n]),t}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=Mk(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...t){this.mount().then(()=>this.ref.current?.start(...t))}stop(...t){this.mount().then(()=>this.ref.current?.stop(...t))}pulsate(...t){this.mount().then(()=>this.ref.current?.pulsate(...t))}}function Pk(){return wl.use()}function Mk(){let e,t;const n=new Promise((r,o)=>{e=r,t=o});return n.resolve=e,n.reject=t,n}function Ok(e){const{className:t,classes:n,pulsate:r=!1,rippleX:o,rippleY:i,rippleSize:s,in:a,onExited:c,timeout:u}=e,[d,p]=U(!1),f=pe(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),h={width:s,height:s,top:-(s/2)+i,left:-(s/2)+o},m=pe(n.child,d&&n.childLeaving,r&&n.childPulsate);return!a&&!d&&p(!0),ae(()=>{if(!a&&c!=null){const g=setTimeout(c,u);return()=>{clearTimeout(g)}}},[c,a,u]),l("span",{className:f,style:h,children:l("span",{className:m})})}const Gn=Ye("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Qu=550,Rk=80,Ak=uo`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,Dk=uo`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,zk=uo`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,Lk=G("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Nk=G(Ok,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Gn.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${Ak};
    animation-duration: ${Qu}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${Gn.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${Gn.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Gn.childLeaving} {
    opacity: 0;
    animation-name: ${Dk};
    animation-duration: ${Qu}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${Gn.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${zk};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,Fk=Oe(function(t,n){const r=Ge({props:t,name:"MuiTouchRipple"}),{center:o=!1,classes:i={},className:s,...a}=r,[c,u]=U([]),d=te(0),p=te(null);ae(()=>{p.current&&(p.current(),p.current=null)},[c]);const f=te(!1),h=Io(),m=te(null),g=te(null),v=Te(w=>{const{pulsate:k,rippleX:C,rippleY:T,rippleSize:I,cb:E}=w;u(O=>[...O,l(Nk,{classes:{ripple:pe(i.ripple,Gn.ripple),rippleVisible:pe(i.rippleVisible,Gn.rippleVisible),ripplePulsate:pe(i.ripplePulsate,Gn.ripplePulsate),child:pe(i.child,Gn.child),childLeaving:pe(i.childLeaving,Gn.childLeaving),childPulsate:pe(i.childPulsate,Gn.childPulsate)},timeout:Qu,pulsate:k,rippleX:C,rippleY:T,rippleSize:I},d.current)]),d.current+=1,p.current=E},[i]),b=Te((w={},k={},C=()=>{})=>{const{pulsate:T=!1,center:I=o||k.pulsate,fakeElement:E=!1}=k;if(w?.type==="mousedown"&&f.current){f.current=!1;return}w?.type==="touchstart"&&(f.current=!0);const O=E?null:g.current,P=O?O.getBoundingClientRect():{width:0,height:0,left:0,top:0};let x,_,$;if(I||w===void 0||w.clientX===0&&w.clientY===0||!w.clientX&&!w.touches)x=Math.round(P.width/2),_=Math.round(P.height/2);else{const{clientX:R,clientY:M}=w.touches&&w.touches.length>0?w.touches[0]:w;x=Math.round(R-P.left),_=Math.round(M-P.top)}if(I)$=Math.sqrt((2*P.width**2+P.height**2)/3),$%2===0&&($+=1);else{const R=Math.max(Math.abs((O?O.clientWidth:0)-x),x)*2+2,M=Math.max(Math.abs((O?O.clientHeight:0)-_),_)*2+2;$=Math.sqrt(R**2+M**2)}w?.touches?m.current===null&&(m.current=()=>{v({pulsate:T,rippleX:x,rippleY:_,rippleSize:$,cb:C})},h.start(Rk,()=>{m.current&&(m.current(),m.current=null)})):v({pulsate:T,rippleX:x,rippleY:_,rippleSize:$,cb:C})},[o,v,h]),S=Te(()=>{b({},{pulsate:!0})},[b]),y=Te((w,k)=>{if(h.clear(),w?.type==="touchend"&&m.current){m.current(),m.current=null,h.start(0,()=>{y(w,k)});return}m.current=null,u(C=>C.length>0?C.slice(1):C),p.current=k},[h]);return vr(n,()=>({pulsate:S,start:b,stop:y}),[S,b,y]),l(Lk,{className:pe(Gn.root,i.root,s),ref:g,...a,children:l(vp,{component:null,exit:!0,children:c})})});function Bk(e){return He("MuiButtonBase",e)}const Wk=Ye("MuiButtonBase",["root","disabled","focusVisible"]),Vk=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:o}=e,s=Ue({root:["root",t&&"disabled",n&&"focusVisible"]},Bk,o);return n&&r&&(s.root+=` ${r}`),s},Hk=G("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Wk.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Ar=Oe(function(t,n){const r=Ge({props:t,name:"MuiButtonBase"}),{action:o,centerRipple:i=!1,children:s,className:a,component:c="button",disabled:u=!1,disableRipple:d=!1,disableTouchRipple:p=!1,focusRipple:f=!1,focusVisibleClassName:h,LinkComponent:m="a",onBlur:g,onClick:v,onContextMenu:b,onDragLeave:S,onFocus:y,onFocusVisible:w,onKeyDown:k,onKeyUp:C,onMouseDown:T,onMouseLeave:I,onMouseUp:E,onTouchEnd:O,onTouchMove:P,onTouchStart:x,tabIndex:_=0,TouchRippleProps:$,touchRippleRef:R,type:M,...A}=r,D=te(null),z=Pk(),W=Lt(z.ref,R),[B,Y]=U(!1);u&&B&&Y(!1),vr(o,()=>({focusVisible:()=>{Y(!0),D.current.focus()}}),[]);const K=z.shouldMount&&!d&&!u;ae(()=>{B&&f&&!d&&z.pulsate()},[d,f,B,z]);const q=Br(z,"start",T,p),N=Br(z,"stop",b,p),V=Br(z,"stop",S,p),ne=Br(z,"stop",E,p),Ce=Br(z,"stop",ye=>{B&&ye.preventDefault(),I&&I(ye)},p),ve=Br(z,"start",x,p),J=Br(z,"stop",O,p),Se=Br(z,"stop",P,p),we=Br(z,"stop",ye=>{_i(ye.target)||Y(!1),g&&g(ye)},!1),Pe=en(ye=>{D.current||(D.current=ye.currentTarget),_i(ye.target)&&(Y(!0),w&&w(ye)),y&&y(ye)}),Re=()=>{const ye=D.current;return c&&c!=="button"&&!(ye.tagName==="A"&&ye.href)},xe=en(ye=>{f&&!ye.repeat&&B&&ye.key===" "&&z.stop(ye,()=>{z.start(ye)}),ye.target===ye.currentTarget&&Re()&&ye.key===" "&&ye.preventDefault(),k&&k(ye),ye.target===ye.currentTarget&&Re()&&ye.key==="Enter"&&!u&&(ye.preventDefault(),v&&v(ye))}),Be=en(ye=>{f&&ye.key===" "&&B&&!ye.defaultPrevented&&z.stop(ye,()=>{z.pulsate(ye)}),C&&C(ye),v&&ye.target===ye.currentTarget&&Re()&&ye.key===" "&&!ye.defaultPrevented&&v(ye)});let Le=c;Le==="button"&&(A.href||A.to)&&(Le=m);const le={};Le==="button"?(le.type=M===void 0?"button":M,le.disabled=u):(!A.href&&!A.to&&(le.role="button"),u&&(le["aria-disabled"]=u));const Xe=Lt(n,D),$e={...r,centerRipple:i,component:c,disabled:u,disableRipple:d,disableTouchRipple:p,focusRipple:f,tabIndex:_,focusVisible:B},Je=Vk($e);return l(Hk,{as:Le,className:pe(Je.root,a),ownerState:$e,onBlur:we,onClick:v,onContextMenu:N,onFocus:Pe,onKeyDown:xe,onKeyUp:Be,onMouseDown:q,onMouseLeave:Ce,onMouseUp:ne,onDragLeave:V,onTouchEnd:J,onTouchMove:Se,onTouchStart:ve,ref:Xe,tabIndex:u?-1:_,type:M,...le,...A,children:[s,K?l(Fk,{ref:W,center:i,...$}):null]})});function Br(e,t,n,r=!1){return en(o=>(n&&n(o),r||e[t](o),!0))}function Uk(e){return He("MuiAccordionSummary",e)}const si=Ye("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),jk=e=>{const{classes:t,expanded:n,disabled:r,disableGutters:o}=e;return Ue({root:["root",n&&"expanded",r&&"disabled",!o&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!o&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},Uk,t)},Yk=G(Ar,{name:"MuiAccordionSummary",slot:"Root"})(ze(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{display:"flex",width:"100%",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],t),[`&.${si.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${si.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${si.disabled})`]:{cursor:"pointer"},variants:[{props:n=>!n.disableGutters,style:{[`&.${si.expanded}`]:{minHeight:64}}}]}})),Gk=G("span",{name:"MuiAccordionSummary",slot:"Content"})(ze(({theme:e})=>({display:"flex",textAlign:"start",flexGrow:1,margin:"12px 0",variants:[{props:t=>!t.disableGutters,style:{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${si.expanded}`]:{margin:"20px 0"}}}]}))),Kk=G("span",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper"})(ze(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${si.expanded}`]:{transform:"rotate(180deg)"}}))),xo=Oe(function(t,n){const r=Ge({props:t,name:"MuiAccordionSummary"}),{children:o,className:i,expandIcon:s,focusVisibleClassName:a,onClick:c,slots:u,slotProps:d,...p}=r,{disabled:f=!1,disableGutters:h,expanded:m,toggle:g}=bt(My),v=O=>{g&&g(O),c&&c(O)},b={...r,expanded:m,disabled:f,disableGutters:h},S=jk(b),y={slots:u,slotProps:d},[w,k]=je("root",{ref:n,shouldForwardComponentProp:!0,className:pe(S.root,i),elementType:Yk,externalForwardedProps:{...y,...p},ownerState:b,additionalProps:{focusRipple:!1,disableRipple:!0,disabled:f,"aria-expanded":m,focusVisibleClassName:pe(S.focusVisible,a)},getSlotProps:O=>({...O,onClick:P=>{O.onClick?.(P),v(P)}})}),[C,T]=je("content",{className:S.content,elementType:Gk,externalForwardedProps:y,ownerState:b}),[I,E]=je("expandIconWrapper",{className:S.expandIconWrapper,elementType:Kk,externalForwardedProps:y,ownerState:b});return l(w,{...k,children:[l(C,{...T,children:o}),s&&l(I,{...E,children:s})]})});function Zk(e){return typeof e.main=="string"}function qk(e,t=[]){if(!Zk(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||typeof e[n]!="string")return!1;return!0}function It(e=[]){return([,t])=>t&&qk(t,e)}function Xk(e){return He("MuiAlert",e)}const xh=Ye("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function Jk(e){return He("MuiCircularProgress",e)}Ye("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const lr=44,ed=uo`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,td=uo`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,Qk=typeof ed!="string"?zi`
        animation: ${ed} 1.4s linear infinite;
      `:null,e_=typeof td!="string"?zi`
        animation: ${td} 1.4s ease-in-out infinite;
      `:null,t_=e=>{const{classes:t,variant:n,color:r,disableShrink:o}=e,i={root:["root",n,`color${Z(r)}`],svg:["svg"],track:["track"],circle:["circle",`circle${Z(n)}`,o&&"circleDisableShrink"]};return Ue(i,Jk,t)},n_=G("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${Z(n.color)}`]]}})(ze(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:Qk||{animation:`${ed} 1.4s linear infinite`}},...Object.entries(e.palette).filter(It()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),r_=G("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),o_=G("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${Z(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(ze(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:e_||{animation:`${td} 1.4s ease-in-out infinite`}}]}))),i_=G("circle",{name:"MuiCircularProgress",slot:"Track"})(ze(({theme:e})=>({stroke:"currentColor",opacity:(e.vars||e).palette.action.activatedOpacity}))),dc=Oe(function(t,n){const r=Ge({props:t,name:"MuiCircularProgress"}),{className:o,color:i="primary",disableShrink:s=!1,enableTrackSlot:a=!1,size:c=40,style:u,thickness:d=3.6,value:p=0,variant:f="indeterminate",...h}=r,m={...r,color:i,disableShrink:s,size:c,thickness:d,value:p,variant:f,enableTrackSlot:a},g=t_(m),v={},b={},S={};if(f==="determinate"){const y=2*Math.PI*((lr-d)/2);v.strokeDasharray=y.toFixed(3),S["aria-valuenow"]=Math.round(p),v.strokeDashoffset=`${((100-p)/100*y).toFixed(3)}px`,b.transform="rotate(-90deg)"}return l(n_,{className:pe(g.root,o),style:{width:c,height:c,...b,...u},ownerState:m,ref:n,role:"progressbar",...S,...h,children:l(r_,{className:g.svg,ownerState:m,viewBox:`${lr/2} ${lr/2} ${lr} ${lr}`,children:[a?l(i_,{className:g.track,ownerState:m,cx:lr,cy:lr,r:(lr-d)/2,fill:"none",strokeWidth:d,"aria-hidden":"true"}):null,l(o_,{className:g.circle,style:v,ownerState:m,cx:lr,cy:lr,r:(lr-d)/2,fill:"none",strokeWidth:d})]})})});function s_(e){return He("MuiIconButton",e)}const Ch=Ye("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),a_=e=>{const{classes:t,disabled:n,color:r,edge:o,size:i,loading:s}=e,a={root:["root",s&&"loading",n&&"disabled",r!=="default"&&`color${Z(r)}`,o&&`edge${Z(o)}`,`size${Z(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Ue(a,s_,t)},l_=G(Ar,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.loading&&t.loading,n.color!=="default"&&t[`color${Z(n.color)}`],n.edge&&t[`edge${Z(n.edge)}`],t[`size${Z(n.size)}`]]}})(ze(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),ze(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(It()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette).filter(It()).map(([t])=>({props:{color:t},style:{"--IconButton-hoverBg":e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${Ch.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${Ch.loading}`]:{color:"transparent"}}))),c_=G("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),ht=Oe(function(t,n){const r=Ge({props:t,name:"MuiIconButton"}),{edge:o=!1,children:i,className:s,color:a="default",disabled:c=!1,disableFocusRipple:u=!1,size:d="medium",id:p,loading:f=null,loadingIndicator:h,...m}=r,g=Gr(p),v=h??l(dc,{"aria-labelledby":g,color:"inherit",size:16}),b={...r,edge:o,color:a,disabled:c,disableFocusRipple:u,loading:f,loadingIndicator:v,size:d},S=a_(b);return l(l_,{id:f?g:p,className:pe(S.root,s),centerRipple:!0,focusRipple:!u,disabled:c||f,ref:n,...m,ownerState:b,children:[typeof f=="boolean"&&l("span",{className:S.loadingWrapper,style:{display:"contents"},children:l(c_,{className:S.loadingIndicator,ownerState:b,children:f&&v})}),i]})}),u_=rt(l("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),d_=rt(l("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),p_=rt(l("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),f_=rt(l("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),Oy=rt(l("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),h_=e=>{const{variant:t,color:n,severity:r,classes:o}=e,i={root:["root",`color${Z(n||r)}`,`${t}${Z(n||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return Ue(i,Xk,o)},m_=G(br,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Z(n.color||n.severity)}`]]}})(ze(({theme:e})=>{const t=e.palette.mode==="light"?e.darken:e.lighten,n=e.palette.mode==="light"?e.lighten:e.darken;return{...e.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(It(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${r}Color`]:t(e.palette[r].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${r}StandardBg`]:n(e.palette[r].light,.9),[`& .${xh.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette[r].main}}})),...Object.entries(e.palette).filter(It(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${r}Color`]:t(e.palette[r].light,.6),border:`1px solid ${(e.vars||e).palette[r].light}`,[`& .${xh.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette[r].main}}})),...Object.entries(e.palette).filter(It(["dark"])).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:{fontWeight:e.typography.fontWeightMedium,...e.vars?{color:e.vars.palette.Alert[`${r}FilledColor`],backgroundColor:e.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[r].dark:e.palette[r].main,color:e.palette.getContrastText(e.palette[r].main)}}}))]}})),g_=G("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),v_=G("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),y_=G("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),kh={success:l(u_,{fontSize:"inherit"}),warning:l(d_,{fontSize:"inherit"}),error:l(p_,{fontSize:"inherit"}),info:l(f_,{fontSize:"inherit"})},_r=Oe(function(t,n){const r=Ge({props:t,name:"MuiAlert"}),{action:o,children:i,className:s,closeText:a="Close",color:c,components:u={},componentsProps:d={},icon:p,iconMapping:f=kh,onClose:h,role:m="alert",severity:g="success",slotProps:v={},slots:b={},variant:S="standard",...y}=r,w={...r,color:c,severity:g,variant:S,colorSeverity:c||g},k=h_(w),C={slots:{closeButton:u.CloseButton,closeIcon:u.CloseIcon,...b},slotProps:{...d,...v}},[T,I]=je("root",{ref:n,shouldForwardComponentProp:!0,className:pe(k.root,s),elementType:m_,externalForwardedProps:{...C,...y},ownerState:w,additionalProps:{role:m,elevation:0}}),[E,O]=je("icon",{className:k.icon,elementType:g_,externalForwardedProps:C,ownerState:w}),[P,x]=je("message",{className:k.message,elementType:v_,externalForwardedProps:C,ownerState:w}),[_,$]=je("action",{className:k.action,elementType:y_,externalForwardedProps:C,ownerState:w}),[R,M]=je("closeButton",{elementType:ht,externalForwardedProps:C,ownerState:w}),[A,D]=je("closeIcon",{elementType:Oy,externalForwardedProps:C,ownerState:w});return l(T,{...I,children:[p!==!1?l(E,{...O,children:p||f[g]||kh[g]}):null,l(P,{...x,children:i}),o!=null?l(_,{...$,children:o}):null,o==null&&h?l(_,{...$,children:l(R,{size:"small","aria-label":a,title:a,color:"inherit",onClick:h,...M,children:l(A,{fontSize:"small",...D})})}):null]})});function b_(e){return He("MuiTypography",e)}const _h=Ye("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),w_={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},S_=ek(),x_=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:o,variant:i,classes:s}=e,a={root:["root",i,e.align!=="inherit"&&`align${Z(t)}`,n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]};return Ue(a,b_,s)},C_=G("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${Z(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(ze(({theme:e})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([t,n])=>t!=="inherit"&&n&&typeof n=="object").map(([t,n])=>({props:{variant:t},style:n})),...Object.entries(e.palette).filter(It()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(e.palette?.text||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${Z(t)}`},style:{color:(e.vars||e).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}))),Th={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},oe=Oe(function(t,n){const{color:r,...o}=Ge({props:t,name:"MuiTypography"}),i=!w_[r],s=S_({...o,...i&&{color:r}}),{align:a="inherit",className:c,component:u,gutterBottom:d=!1,noWrap:p=!1,paragraph:f=!1,variant:h="body1",variantMapping:m=Th,...g}=s,v={...s,align:a,color:r,className:c,component:u,gutterBottom:d,noWrap:p,paragraph:f,variant:h,variantMapping:m},b=u||(f?"p":m[h]||Th[h])||"span",S=x_(v);return l(C_,{as:b,ref:n,className:pe(S.root,c),...g,ownerState:v,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...g.style}})});function k_(e){const t=te({});return ae(()=>{t.current=e}),t.current}function Ih({array1:e,array2:t,parser:n=r=>r}){return e&&t&&e.length===t.length&&e.every((r,o)=>n(r)===n(t[o]))}function $h(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function __(e={}){const{ignoreAccents:t=!0,ignoreCase:n=!0,limit:r,matchFrom:o="any",stringify:i,trim:s=!1}=e;return(a,{inputValue:c,getOptionLabel:u})=>{let d=s?c.trim():c;n&&(d=d.toLowerCase()),t&&(d=$h(d));const p=d?a.filter(f=>{let h=(i||u)(f);return n&&(h=h.toLowerCase()),t&&(h=$h(h)),o==="start"?h.startsWith(d):h.includes(d)}):a;return typeof r=="number"?p.slice(0,r):p}}const T_=__(),Eh=5,I_=e=>e.current!==null&&e.current.parentElement?.contains(document.activeElement),$_=[];function Ph(e,t,n,r){if(t||e==null||r)return"";const o=n(e);return typeof o=="string"?o:""}function E_(e){const{unstable_isActiveElementInListbox:t=I_,unstable_classNamePrefix:n="Mui",autoComplete:r=!1,autoHighlight:o=!1,autoSelect:i=!1,blurOnSelect:s=!1,clearOnBlur:a=!e.freeSolo,clearOnEscape:c=!1,componentName:u="useAutocomplete",defaultValue:d=e.multiple?$_:null,disableClearable:p=!1,disableCloseOnSelect:f=!1,disabled:h,disabledItemsFocusable:m=!1,disableListWrap:g=!1,filterOptions:v=T_,filterSelectedOptions:b=!1,freeSolo:S=!1,getOptionDisabled:y,getOptionKey:w,getOptionLabel:k=ee=>ee.label??ee,groupBy:C,handleHomeEndKeys:T=!e.freeSolo,id:I,includeInputInList:E=!1,inputValue:O,isOptionEqualToValue:P=(ee,Q)=>ee===Q,multiple:x=!1,onChange:_,onClose:$,onHighlightChange:R,onInputChange:M,onOpen:A,open:D,openOnFocus:z=!1,options:W,readOnly:B=!1,renderValue:Y,selectOnFocus:K=!e.freeSolo,value:q}=e,N=Gr(I);let V=k;V=ee=>{const Q=k(ee);return typeof Q!="string"?String(Q):Q};const ne=te(!1),Ce=te(!0),ve=te(null),J=te(null),[Se,we]=U(null),[Pe,Re]=U(-1),xe=o?0:-1,Be=te(xe),Le=te(Ph(d??q,x,V)).current,[le,Xe]=Mr({controlled:q,default:d,name:u}),[$e,Je]=Mr({controlled:O,default:Le,name:u,state:"inputValue"}),[ye,mt]=U(!1),st=Te((ee,Q,Ve)=>{if(!(x?le.length<Q.length:Q!==null)&&!a)return;const ct=Ph(Q,x,V,Y);$e!==ct&&(Je(ct),M&&M(ee,ct,Ve))},[V,$e,x,M,Je,a,le,Y]),[fe,ce]=Mr({controlled:D,default:!1,name:u,state:"open"}),[ge,Ae]=U(!0),Ne=!x&&le!=null&&$e===V(le),Ee=fe&&!B,me=Ee?v(W.filter(ee=>!(b&&(x?le:[le]).some(Q=>Q!==null&&P(ee,Q)))),{inputValue:Ne&&ge?"":$e,getOptionLabel:V}):[],L=k_({filteredOptions:me,value:le,inputValue:$e});ae(()=>{const ee=le!==L.value;ye&&!ee||S&&!ee||st(null,le,"reset")},[le,st,ye,L.value,S]);const F=fe&&me.length>0&&!B,H=en(ee=>{if(ee===-1)ve.current.focus();else{const Q=Y?"data-item-index":"data-tag-index";Se.querySelector(`[${Q}="${ee}"]`).focus()}});ae(()=>{x&&Pe>le.length-1&&(Re(-1),H(-1))},[le,x,Pe,H]);function j(ee,Q){if(!J.current||ee<0||ee>=me.length)return-1;let Ve=ee;for(;;){const it=J.current.querySelector(`[data-option-index="${Ve}"]`),ct=m?!1:!it||it.disabled||it.getAttribute("aria-disabled")==="true";if(it&&it.hasAttribute("tabindex")&&!ct)return Ve;if(Q==="next"?Ve=(Ve+1)%me.length:Ve=(Ve-1+me.length)%me.length,Ve===ee)return-1}}const he=en(({event:ee,index:Q,reason:Ve})=>{if(Be.current=Q,Q===-1?ve.current.removeAttribute("aria-activedescendant"):ve.current.setAttribute("aria-activedescendant",`${N}-option-${Q}`),R&&["mouse","keyboard","touch"].includes(Ve)&&R(ee,Q===-1?null:me[Q],Ve),!J.current)return;const it=J.current.querySelector(`[role="option"].${n}-focused`);it&&(it.classList.remove(`${n}-focused`),it.classList.remove(`${n}-focusVisible`));let ct=J.current;if(J.current.getAttribute("role")!=="listbox"&&(ct=J.current.parentElement.querySelector('[role="listbox"]')),!ct)return;if(Q===-1){ct.scrollTop=0;return}const ln=J.current.querySelector(`[data-option-index="${Q}"]`);if(ln&&(ln.classList.add(`${n}-focused`),Ve==="keyboard"&&ln.classList.add(`${n}-focusVisible`),ct.scrollHeight>ct.clientHeight&&Ve!=="mouse"&&Ve!=="touch")){const jt=ln,ar=ct.clientHeight+ct.scrollTop,ha=jt.offsetTop+jt.offsetHeight;ha>ar?ct.scrollTop=ha-ct.clientHeight:jt.offsetTop-jt.offsetHeight*(C?1.3:0)<ct.scrollTop&&(ct.scrollTop=jt.offsetTop-jt.offsetHeight*(C?1.3:0))}}),Ke=en(({event:ee,diff:Q,direction:Ve="next",reason:it})=>{if(!Ee)return;const ln=j((()=>{const jt=me.length-1;if(Q==="reset")return xe;if(Q==="start")return 0;if(Q==="end")return jt;const ar=Be.current+Q;return ar<0?ar===-1&&E?-1:g&&Be.current!==-1||Math.abs(Q)>1?0:jt:ar>jt?ar===jt+1&&E?-1:g||Math.abs(Q)>1?jt:0:ar})(),Ve);if(he({index:ln,reason:it,event:ee}),r&&Q!=="reset")if(ln===-1)ve.current.value=$e;else{const jt=V(me[ln]);ve.current.value=jt,jt.toLowerCase().indexOf($e.toLowerCase())===0&&$e.length>0&&ve.current.setSelectionRange($e.length,jt.length)}}),lt=!Ih({array1:L.filteredOptions,array2:me,parser:V}),Qe=()=>{const ee=(Q,Ve)=>{const it=Q?V(Q):"",ct=Ve?V(Ve):"";return it===ct};if(Be.current!==-1&&!Ih({array1:L.filteredOptions,array2:me,parser:V})&&L.inputValue===$e&&(x?le.length===L.value.length&&L.value.every((Q,Ve)=>V(le[Ve])===V(Q)):ee(L.value,le))){const Q=L.filteredOptions[Be.current];if(Q)return me.findIndex(Ve=>V(Ve)===V(Q))}return-1},be=Te(()=>{if(!Ee)return;const ee=Qe();if(ee!==-1){Be.current=ee;return}const Q=x?le[0]:le;if(me.length===0||Q==null){Ke({diff:"reset"});return}if(J.current){if(Q!=null){const Ve=me[Be.current];if(x&&Ve&&le.findIndex(ct=>P(Ve,ct))!==-1)return;const it=me.findIndex(ct=>P(ct,Q));it===-1?Ke({diff:"reset"}):he({index:it});return}if(Be.current>=me.length-1){he({index:me.length-1});return}he({index:Be.current})}},[me.length,x?!1:le,b,Ke,he,Ee,$e,x]),ke=en(ee=>{qu(J,ee),ee&&be()});ae(()=>{(lt||Ee)&&be()},[be,lt,Ee]);const re=ee=>{fe||(ce(!0),Ae(!0),A&&A(ee))},ue=(ee,Q)=>{fe&&(ce(!1),$&&$(ee,Q))},We=(ee,Q,Ve,it)=>{if(x){if(le.length===Q.length&&le.every((ct,ln)=>ct===Q[ln]))return}else if(le===Q)return;_&&_(ee,Q,Ve,it),Xe(Q)},nt=te(!1),et=(ee,Q,Ve="selectOption",it="options")=>{let ct=Ve,ln=Q;if(x){ln=Array.isArray(le)?le.slice():[];const jt=ln.findIndex(ar=>P(Q,ar));jt===-1?ln.push(Q):it!=="freeSolo"&&(ln.splice(jt,1),ct="removeOption")}st(ee,ln,ct),We(ee,ln,ct,{option:Q}),!f&&(!ee||!ee.ctrlKey&&!ee.metaKey)&&ue(ee,ct),(s===!0||s==="touch"&&nt.current||s==="mouse"&&!nt.current)&&ve.current.blur()};function Fe(ee,Q){if(ee===-1)return-1;let Ve=ee;for(;;){if(Q==="next"&&Ve===le.length||Q==="previous"&&Ve===-1)return-1;const it=Y?"data-item-index":"data-tag-index",ct=Se.querySelector(`[${it}="${Ve}"]`);if(!ct||!ct.hasAttribute("tabindex")||ct.disabled||ct.getAttribute("aria-disabled")==="true")Ve+=Q==="next"?1:-1;else return Ve}}const wt=(ee,Q)=>{if(!x)return;$e===""&&ue(ee,"toggleInput");let Ve=Pe;Pe===-1?$e===""&&Q==="previous"&&(Ve=le.length-1):(Ve+=Q==="next"?1:-1,Ve<0&&(Ve=0),Ve===le.length&&(Ve=-1)),Ve=Fe(Ve,Q),Re(Ve),H(Ve)},Me=ee=>{ne.current=!0,Je(""),M&&M(ee,"","clear"),We(ee,x?[]:null,"clear")},De=ee=>Q=>{if(ee.onKeyDown&&ee.onKeyDown(Q),!Q.defaultMuiPrevented&&(Pe!==-1&&!["ArrowLeft","ArrowRight"].includes(Q.key)&&(Re(-1),H(-1)),Q.which!==229))switch(Q.key){case"Home":Ee&&T&&(Q.preventDefault(),Ke({diff:"start",direction:"next",reason:"keyboard",event:Q}));break;case"End":Ee&&T&&(Q.preventDefault(),Ke({diff:"end",direction:"previous",reason:"keyboard",event:Q}));break;case"PageUp":Q.preventDefault(),Ke({diff:-Eh,direction:"previous",reason:"keyboard",event:Q}),re(Q);break;case"PageDown":Q.preventDefault(),Ke({diff:Eh,direction:"next",reason:"keyboard",event:Q}),re(Q);break;case"ArrowDown":Q.preventDefault(),Ke({diff:1,direction:"next",reason:"keyboard",event:Q}),re(Q);break;case"ArrowUp":Q.preventDefault(),Ke({diff:-1,direction:"previous",reason:"keyboard",event:Q}),re(Q);break;case"ArrowLeft":!x&&Y?H(0):wt(Q,"previous");break;case"ArrowRight":!x&&Y?H(-1):wt(Q,"next");break;case"Enter":if(Be.current!==-1&&Ee){const Ve=me[Be.current],it=y?y(Ve):!1;if(Q.preventDefault(),it)return;et(Q,Ve,"selectOption"),r&&ve.current.setSelectionRange(ve.current.value.length,ve.current.value.length)}else S&&$e!==""&&Ne===!1&&(x&&Q.preventDefault(),et(Q,$e,"createOption","freeSolo"));break;case"Escape":Ee?(Q.preventDefault(),Q.stopPropagation(),ue(Q,"escape")):c&&($e!==""||x&&le.length>0||Y)&&(Q.preventDefault(),Q.stopPropagation(),Me(Q));break;case"Backspace":if(x&&!B&&$e===""&&le.length>0){const Ve=Pe===-1?le.length-1:Pe,it=le.slice();it.splice(Ve,1),We(Q,it,"removeOption",{option:le[Ve]})}!x&&Y&&!B&&(Xe(null),H(-1));break;case"Delete":if(x&&!B&&$e===""&&le.length>0&&Pe!==-1){const Ve=Pe,it=le.slice();it.splice(Ve,1),We(Q,it,"removeOption",{option:le[Ve]})}!x&&Y&&!B&&(Xe(null),H(-1));break}},at=ee=>{mt(!0),z&&!ne.current&&re(ee)},ot=ee=>{if(t(J)){ve.current.focus();return}mt(!1),Ce.current=!0,ne.current=!1,i&&Be.current!==-1&&Ee?et(ee,me[Be.current],"blur"):i&&S&&$e!==""?et(ee,$e,"blur","freeSolo"):a&&st(ee,le,"blur"),ue(ee,"blur")},gt=ee=>{const Q=ee.target.value;$e!==Q&&(Je(Q),Ae(!1),M&&M(ee,Q,"input")),Q===""?!p&&!x&&We(ee,null,"clear"):re(ee)},Jt=ee=>{const Q=Number(ee.currentTarget.getAttribute("data-option-index"));Be.current!==Q&&he({event:ee,index:Q,reason:"mouse"})},fn=ee=>{he({event:ee,index:Number(ee.currentTarget.getAttribute("data-option-index")),reason:"touch"}),nt.current=!0},sn=ee=>{const Q=Number(ee.currentTarget.getAttribute("data-option-index"));et(ee,me[Q],"selectOption"),nt.current=!1},Un=ee=>Q=>{const Ve=le.slice();Ve.splice(ee,1),We(Q,Ve,"removeOption",{option:le[ee]})},zn=ee=>{We(ee,null,"removeOption",{option:le})},nn=ee=>{fe?ue(ee,"toggleInput"):re(ee)},an=ee=>{ee.currentTarget.contains(ee.target)&&ee.target.getAttribute("id")!==N&&ee.preventDefault()},Kr=ee=>{ee.currentTarget.contains(ee.target)&&(ve.current.focus(),K&&Ce.current&&ve.current.selectionEnd-ve.current.selectionStart===0&&ve.current.select(),Ce.current=!1)},Nc=ee=>{!h&&($e===""||!fe)&&nn(ee)};let Ki=S&&$e.length>0;Ki=Ki||(x?le.length>0:le!==null);let fa=me;return C&&(fa=me.reduce((ee,Q,Ve)=>{const it=C(Q);return ee.length>0&&ee[ee.length-1].group===it?ee[ee.length-1].options.push(Q):ee.push({key:Ve,index:Ve,group:it,options:[Q]}),ee},[])),h&&ye&&ot(),{getRootProps:(ee={})=>({...ee,onKeyDown:De(ee),onMouseDown:an,onClick:Kr}),getInputLabelProps:()=>({id:`${N}-label`,htmlFor:N}),getInputProps:()=>({id:N,value:$e,onBlur:ot,onFocus:at,onChange:gt,onMouseDown:Nc,"aria-activedescendant":Ee?"":null,"aria-autocomplete":r?"both":"list","aria-controls":F?`${N}-listbox`:void 0,"aria-expanded":F,autoComplete:"off",ref:ve,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:h}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:Me}),getItemProps:({index:ee=0}={})=>({...x&&{key:ee},...Y?{"data-item-index":ee}:{"data-tag-index":ee},tabIndex:-1,...!B&&{onDelete:x?Un(ee):zn}}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:nn}),getTagProps:({index:ee})=>({key:ee,"data-tag-index":ee,tabIndex:-1,...!B&&{onDelete:Un(ee)}}),getListboxProps:()=>({role:"listbox",id:`${N}-listbox`,"aria-labelledby":`${N}-label`,ref:ke,onMouseDown:ee=>{ee.preventDefault()}}),getOptionProps:({index:ee,option:Q})=>{const Ve=(x?le:[le]).some(ct=>ct!=null&&P(Q,ct)),it=y?y(Q):!1;return{key:w?.(Q)??V(Q),tabIndex:-1,role:"option",id:`${N}-option-${ee}`,onMouseMove:Jt,onClick:sn,onTouchStart:fn,"data-option-index":ee,"aria-disabled":it,"aria-selected":Ve}},id:N,inputValue:$e,value:le,dirty:Ki,expanded:Ee&&Se,popupOpen:Ee,focused:ye||Pe!==-1,anchorEl:Se,setAnchorEl:we,focusedItem:Pe,focusedTag:Pe,groupedOptions:fa}}var Mn="top",nr="bottom",rr="right",On="left",yp="auto",aa=[Mn,nr,rr,On],Ti="start",Ns="end",P_="clippingParents",Ry="viewport",Ji="popper",M_="reference",Mh=aa.reduce(function(e,t){return e.concat([t+"-"+Ti,t+"-"+Ns])},[]),Ay=[].concat(aa,[yp]).reduce(function(e,t){return e.concat([t,t+"-"+Ti,t+"-"+Ns])},[]),O_="beforeRead",R_="read",A_="afterRead",D_="beforeMain",z_="main",L_="afterMain",N_="beforeWrite",F_="write",B_="afterWrite",W_=[O_,R_,A_,D_,z_,L_,N_,F_,B_];function Dr(e){return e?(e.nodeName||"").toLowerCase():null}function Hn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Oo(e){var t=Hn(e).Element;return e instanceof t||e instanceof Element}function tr(e){var t=Hn(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function bp(e){if(typeof ShadowRoot>"u")return!1;var t=Hn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function V_(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},o=t.attributes[n]||{},i=t.elements[n];!tr(i)||!Dr(i)||(Object.assign(i.style,r),Object.keys(o).forEach(function(s){var a=o[s];a===!1?i.removeAttribute(s):i.setAttribute(s,a===!0?"":a)}))})}function H_(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var o=t.elements[r],i=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=s.reduce(function(c,u){return c[u]="",c},{});!tr(o)||!Dr(o)||(Object.assign(o.style,a),Object.keys(i).forEach(function(c){o.removeAttribute(c)}))})}}const U_={name:"applyStyles",enabled:!0,phase:"write",fn:V_,effect:H_,requires:["computeStyles"]};function Or(e){return e.split("-")[0]}var $o=Math.max,Sl=Math.min,Ii=Math.round;function nd(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Dy(){return!/^((?!chrome|android).)*safari/i.test(nd())}function $i(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),o=1,i=1;t&&tr(e)&&(o=e.offsetWidth>0&&Ii(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Ii(r.height)/e.offsetHeight||1);var s=Oo(e)?Hn(e):window,a=s.visualViewport,c=!Dy()&&n,u=(r.left+(c&&a?a.offsetLeft:0))/o,d=(r.top+(c&&a?a.offsetTop:0))/i,p=r.width/o,f=r.height/i;return{width:p,height:f,top:d,right:u+p,bottom:d+f,left:u,x:u,y:d}}function wp(e){var t=$i(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function zy(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&bp(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function jr(e){return Hn(e).getComputedStyle(e)}function j_(e){return["table","td","th"].indexOf(Dr(e))>=0}function fo(e){return((Oo(e)?e.ownerDocument:e.document)||window.document).documentElement}function pc(e){return Dr(e)==="html"?e:e.assignedSlot||e.parentNode||(bp(e)?e.host:null)||fo(e)}function Oh(e){return!tr(e)||jr(e).position==="fixed"?null:e.offsetParent}function Y_(e){var t=/firefox/i.test(nd()),n=/Trident/i.test(nd());if(n&&tr(e)){var r=jr(e);if(r.position==="fixed")return null}var o=pc(e);for(bp(o)&&(o=o.host);tr(o)&&["html","body"].indexOf(Dr(o))<0;){var i=jr(o);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return o;o=o.parentNode}return null}function la(e){for(var t=Hn(e),n=Oh(e);n&&j_(n)&&jr(n).position==="static";)n=Oh(n);return n&&(Dr(n)==="html"||Dr(n)==="body"&&jr(n).position==="static")?t:n||Y_(e)||t}function Sp(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function xs(e,t,n){return $o(e,Sl(t,n))}function G_(e,t,n){var r=xs(e,t,n);return r>n?n:r}function Ly(){return{top:0,right:0,bottom:0,left:0}}function Ny(e){return Object.assign({},Ly(),e)}function Fy(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var K_=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Ny(typeof t!="number"?t:Fy(t,aa))};function Z_(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Or(n.placement),c=Sp(a),u=[On,rr].indexOf(a)>=0,d=u?"height":"width";if(!(!i||!s)){var p=K_(o.padding,n),f=wp(i),h=c==="y"?Mn:On,m=c==="y"?nr:rr,g=n.rects.reference[d]+n.rects.reference[c]-s[c]-n.rects.popper[d],v=s[c]-n.rects.reference[c],b=la(i),S=b?c==="y"?b.clientHeight||0:b.clientWidth||0:0,y=g/2-v/2,w=p[h],k=S-f[d]-p[m],C=S/2-f[d]/2+y,T=xs(w,C,k),I=c;n.modifiersData[r]=(t={},t[I]=T,t.centerOffset=T-C,t)}}function q_(e){var t=e.state,n=e.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||zy(t.elements.popper,o)&&(t.elements.arrow=o))}const X_={name:"arrow",enabled:!0,phase:"main",fn:Z_,effect:q_,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ei(e){return e.split("-")[1]}var J_={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Q_(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:Ii(n*o)/o||0,y:Ii(r*o)/o||0}}function Rh(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,s=e.offsets,a=e.position,c=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,p=e.isFixed,f=s.x,h=f===void 0?0:f,m=s.y,g=m===void 0?0:m,v=typeof d=="function"?d({x:h,y:g}):{x:h,y:g};h=v.x,g=v.y;var b=s.hasOwnProperty("x"),S=s.hasOwnProperty("y"),y=On,w=Mn,k=window;if(u){var C=la(n),T="clientHeight",I="clientWidth";if(C===Hn(n)&&(C=fo(n),jr(C).position!=="static"&&a==="absolute"&&(T="scrollHeight",I="scrollWidth")),C=C,o===Mn||(o===On||o===rr)&&i===Ns){w=nr;var E=p&&C===k&&k.visualViewport?k.visualViewport.height:C[T];g-=E-r.height,g*=c?1:-1}if(o===On||(o===Mn||o===nr)&&i===Ns){y=rr;var O=p&&C===k&&k.visualViewport?k.visualViewport.width:C[I];h-=O-r.width,h*=c?1:-1}}var P=Object.assign({position:a},u&&J_),x=d===!0?Q_({x:h,y:g},Hn(n)):{x:h,y:g};if(h=x.x,g=x.y,c){var _;return Object.assign({},P,(_={},_[w]=S?"0":"",_[y]=b?"0":"",_.transform=(k.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",_))}return Object.assign({},P,(t={},t[w]=S?g+"px":"",t[y]=b?h+"px":"",t.transform="",t))}function eT(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=r===void 0?!0:r,i=n.adaptive,s=i===void 0?!0:i,a=n.roundOffsets,c=a===void 0?!0:a,u={placement:Or(t.placement),variation:Ei(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Rh(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Rh(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const tT={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:eT,data:{}};var xa={passive:!0};function nT(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=o===void 0?!0:o,s=r.resize,a=s===void 0?!0:s,c=Hn(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&u.forEach(function(d){d.addEventListener("scroll",n.update,xa)}),a&&c.addEventListener("resize",n.update,xa),function(){i&&u.forEach(function(d){d.removeEventListener("scroll",n.update,xa)}),a&&c.removeEventListener("resize",n.update,xa)}}const rT={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:nT,data:{}};var oT={left:"right",right:"left",bottom:"top",top:"bottom"};function ol(e){return e.replace(/left|right|bottom|top/g,function(t){return oT[t]})}var iT={start:"end",end:"start"};function Ah(e){return e.replace(/start|end/g,function(t){return iT[t]})}function xp(e){var t=Hn(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Cp(e){return $i(fo(e)).left+xp(e).scrollLeft}function sT(e,t){var n=Hn(e),r=fo(e),o=n.visualViewport,i=r.clientWidth,s=r.clientHeight,a=0,c=0;if(o){i=o.width,s=o.height;var u=Dy();(u||!u&&t==="fixed")&&(a=o.offsetLeft,c=o.offsetTop)}return{width:i,height:s,x:a+Cp(e),y:c}}function aT(e){var t,n=fo(e),r=xp(e),o=(t=e.ownerDocument)==null?void 0:t.body,i=$o(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=$o(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-r.scrollLeft+Cp(e),c=-r.scrollTop;return jr(o||n).direction==="rtl"&&(a+=$o(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:a,y:c}}function kp(e){var t=jr(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function By(e){return["html","body","#document"].indexOf(Dr(e))>=0?e.ownerDocument.body:tr(e)&&kp(e)?e:By(pc(e))}function Cs(e,t){var n;t===void 0&&(t=[]);var r=By(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),i=Hn(r),s=o?[i].concat(i.visualViewport||[],kp(r)?r:[]):r,a=t.concat(s);return o?a:a.concat(Cs(pc(s)))}function rd(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function lT(e,t){var n=$i(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function Dh(e,t,n){return t===Ry?rd(sT(e,n)):Oo(t)?lT(t,n):rd(aT(fo(e)))}function cT(e){var t=Cs(pc(e)),n=["absolute","fixed"].indexOf(jr(e).position)>=0,r=n&&tr(e)?la(e):e;return Oo(r)?t.filter(function(o){return Oo(o)&&zy(o,r)&&Dr(o)!=="body"}):[]}function uT(e,t,n,r){var o=t==="clippingParents"?cT(e):[].concat(t),i=[].concat(o,[n]),s=i[0],a=i.reduce(function(c,u){var d=Dh(e,u,r);return c.top=$o(d.top,c.top),c.right=Sl(d.right,c.right),c.bottom=Sl(d.bottom,c.bottom),c.left=$o(d.left,c.left),c},Dh(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Wy(e){var t=e.reference,n=e.element,r=e.placement,o=r?Or(r):null,i=r?Ei(r):null,s=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,c;switch(o){case Mn:c={x:s,y:t.y-n.height};break;case nr:c={x:s,y:t.y+t.height};break;case rr:c={x:t.x+t.width,y:a};break;case On:c={x:t.x-n.width,y:a};break;default:c={x:t.x,y:t.y}}var u=o?Sp(o):null;if(u!=null){var d=u==="y"?"height":"width";switch(i){case Ti:c[u]=c[u]-(t[d]/2-n[d]/2);break;case Ns:c[u]=c[u]+(t[d]/2-n[d]/2);break}}return c}function Fs(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=r===void 0?e.placement:r,i=n.strategy,s=i===void 0?e.strategy:i,a=n.boundary,c=a===void 0?P_:a,u=n.rootBoundary,d=u===void 0?Ry:u,p=n.elementContext,f=p===void 0?Ji:p,h=n.altBoundary,m=h===void 0?!1:h,g=n.padding,v=g===void 0?0:g,b=Ny(typeof v!="number"?v:Fy(v,aa)),S=f===Ji?M_:Ji,y=e.rects.popper,w=e.elements[m?S:f],k=uT(Oo(w)?w:w.contextElement||fo(e.elements.popper),c,d,s),C=$i(e.elements.reference),T=Wy({reference:C,element:y,placement:o}),I=rd(Object.assign({},y,T)),E=f===Ji?I:C,O={top:k.top-E.top+b.top,bottom:E.bottom-k.bottom+b.bottom,left:k.left-E.left+b.left,right:E.right-k.right+b.right},P=e.modifiersData.offset;if(f===Ji&&P){var x=P[o];Object.keys(O).forEach(function(_){var $=[rr,nr].indexOf(_)>=0?1:-1,R=[Mn,nr].indexOf(_)>=0?"y":"x";O[_]+=x[R]*$})}return O}function dT(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,s=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,u=c===void 0?Ay:c,d=Ei(r),p=d?a?Mh:Mh.filter(function(m){return Ei(m)===d}):aa,f=p.filter(function(m){return u.indexOf(m)>=0});f.length===0&&(f=p);var h=f.reduce(function(m,g){return m[g]=Fs(e,{placement:g,boundary:o,rootBoundary:i,padding:s})[Or(g)],m},{});return Object.keys(h).sort(function(m,g){return h[m]-h[g]})}function pT(e){if(Or(e)===yp)return[];var t=ol(e);return[Ah(e),t,Ah(t)]}function fT(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=o===void 0?!0:o,s=n.altAxis,a=s===void 0?!0:s,c=n.fallbackPlacements,u=n.padding,d=n.boundary,p=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,m=h===void 0?!0:h,g=n.allowedAutoPlacements,v=t.options.placement,b=Or(v),S=b===v,y=c||(S||!m?[ol(v)]:pT(v)),w=[v].concat(y).reduce(function(q,N){return q.concat(Or(N)===yp?dT(t,{placement:N,boundary:d,rootBoundary:p,padding:u,flipVariations:m,allowedAutoPlacements:g}):N)},[]),k=t.rects.reference,C=t.rects.popper,T=new Map,I=!0,E=w[0],O=0;O<w.length;O++){var P=w[O],x=Or(P),_=Ei(P)===Ti,$=[Mn,nr].indexOf(x)>=0,R=$?"width":"height",M=Fs(t,{placement:P,boundary:d,rootBoundary:p,altBoundary:f,padding:u}),A=$?_?rr:On:_?nr:Mn;k[R]>C[R]&&(A=ol(A));var D=ol(A),z=[];if(i&&z.push(M[x]<=0),a&&z.push(M[A]<=0,M[D]<=0),z.every(function(q){return q})){E=P,I=!1;break}T.set(P,z)}if(I)for(var W=m?3:1,B=function(N){var V=w.find(function(ne){var Ce=T.get(ne);if(Ce)return Ce.slice(0,N).every(function(ve){return ve})});if(V)return E=V,"break"},Y=W;Y>0;Y--){var K=B(Y);if(K==="break")break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}}const hT={name:"flip",enabled:!0,phase:"main",fn:fT,requiresIfExists:["offset"],data:{_skip:!1}};function zh(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Lh(e){return[Mn,rr,nr,On].some(function(t){return e[t]>=0})}function mT(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,s=Fs(t,{elementContext:"reference"}),a=Fs(t,{altBoundary:!0}),c=zh(s,r),u=zh(a,o,i),d=Lh(c),p=Lh(u);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":p})}const gT={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:mT};function vT(e,t,n){var r=Or(e),o=[On,Mn].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=i[0],a=i[1];return s=s||0,a=(a||0)*o,[On,rr].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function yT(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=o===void 0?[0,0]:o,s=Ay.reduce(function(d,p){return d[p]=vT(p,t.rects,i),d},{}),a=s[t.placement],c=a.x,u=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=s}const bT={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:yT};function wT(e){var t=e.state,n=e.name;t.modifiersData[n]=Wy({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const ST={name:"popperOffsets",enabled:!0,phase:"read",fn:wT,data:{}};function xT(e){return e==="x"?"y":"x"}function CT(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=o===void 0?!0:o,s=n.altAxis,a=s===void 0?!1:s,c=n.boundary,u=n.rootBoundary,d=n.altBoundary,p=n.padding,f=n.tether,h=f===void 0?!0:f,m=n.tetherOffset,g=m===void 0?0:m,v=Fs(t,{boundary:c,rootBoundary:u,padding:p,altBoundary:d}),b=Or(t.placement),S=Ei(t.placement),y=!S,w=Sp(b),k=xT(w),C=t.modifiersData.popperOffsets,T=t.rects.reference,I=t.rects.popper,E=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,O=typeof E=="number"?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),P=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,x={x:0,y:0};if(C){if(i){var _,$=w==="y"?Mn:On,R=w==="y"?nr:rr,M=w==="y"?"height":"width",A=C[w],D=A+v[$],z=A-v[R],W=h?-I[M]/2:0,B=S===Ti?T[M]:I[M],Y=S===Ti?-I[M]:-T[M],K=t.elements.arrow,q=h&&K?wp(K):{width:0,height:0},N=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Ly(),V=N[$],ne=N[R],Ce=xs(0,T[M],q[M]),ve=y?T[M]/2-W-Ce-V-O.mainAxis:B-Ce-V-O.mainAxis,J=y?-T[M]/2+W+Ce+ne+O.mainAxis:Y+Ce+ne+O.mainAxis,Se=t.elements.arrow&&la(t.elements.arrow),we=Se?w==="y"?Se.clientTop||0:Se.clientLeft||0:0,Pe=(_=P?.[w])!=null?_:0,Re=A+ve-Pe-we,xe=A+J-Pe,Be=xs(h?Sl(D,Re):D,A,h?$o(z,xe):z);C[w]=Be,x[w]=Be-A}if(a){var Le,le=w==="x"?Mn:On,Xe=w==="x"?nr:rr,$e=C[k],Je=k==="y"?"height":"width",ye=$e+v[le],mt=$e-v[Xe],st=[Mn,On].indexOf(b)!==-1,fe=(Le=P?.[k])!=null?Le:0,ce=st?ye:$e-T[Je]-I[Je]-fe+O.altAxis,ge=st?$e+T[Je]+I[Je]-fe-O.altAxis:mt,Ae=h&&st?G_(ce,$e,ge):xs(h?ce:ye,$e,h?ge:mt);C[k]=Ae,x[k]=Ae-$e}t.modifiersData[r]=x}}const kT={name:"preventOverflow",enabled:!0,phase:"main",fn:CT,requiresIfExists:["offset"]};function _T(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function TT(e){return e===Hn(e)||!tr(e)?xp(e):_T(e)}function IT(e){var t=e.getBoundingClientRect(),n=Ii(t.width)/e.offsetWidth||1,r=Ii(t.height)/e.offsetHeight||1;return n!==1||r!==1}function $T(e,t,n){n===void 0&&(n=!1);var r=tr(t),o=tr(t)&&IT(t),i=fo(t),s=$i(e,o,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((Dr(t)!=="body"||kp(i))&&(a=TT(t)),tr(t)?(c=$i(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):i&&(c.x=Cp(i))),{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function ET(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function o(i){n.add(i.name);var s=[].concat(i.requires||[],i.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var c=t.get(a);c&&o(c)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||o(i)}),r}function PT(e){var t=ET(e);return W_.reduce(function(n,r){return n.concat(t.filter(function(o){return o.phase===r}))},[])}function MT(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function OT(e){var t=e.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var Nh={placement:"bottom",modifiers:[],strategy:"absolute"};function Fh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function RT(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,o=t.defaultOptions,i=o===void 0?Nh:o;return function(a,c,u){u===void 0&&(u=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},Nh,i),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},p=[],f=!1,h={state:d,setOptions:function(b){var S=typeof b=="function"?b(d.options):b;g(),d.options=Object.assign({},i,d.options,S),d.scrollParents={reference:Oo(a)?Cs(a):a.contextElement?Cs(a.contextElement):[],popper:Cs(c)};var y=PT(OT([].concat(r,d.options.modifiers)));return d.orderedModifiers=y.filter(function(w){return w.enabled}),m(),h.update()},forceUpdate:function(){if(!f){var b=d.elements,S=b.reference,y=b.popper;if(Fh(S,y)){d.rects={reference:$T(S,la(y),d.options.strategy==="fixed"),popper:wp(y)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(O){return d.modifiersData[O.name]=Object.assign({},O.data)});for(var w=0;w<d.orderedModifiers.length;w++){if(d.reset===!0){d.reset=!1,w=-1;continue}var k=d.orderedModifiers[w],C=k.fn,T=k.options,I=T===void 0?{}:T,E=k.name;typeof C=="function"&&(d=C({state:d,options:I,name:E,instance:h})||d)}}}},update:MT(function(){return new Promise(function(v){h.forceUpdate(),v(d)})}),destroy:function(){g(),f=!0}};if(!Fh(a,c))return h;h.setOptions(u).then(function(v){!f&&u.onFirstUpdate&&u.onFirstUpdate(v)});function m(){d.orderedModifiers.forEach(function(v){var b=v.name,S=v.options,y=S===void 0?{}:S,w=v.effect;if(typeof w=="function"){var k=w({state:d,name:b,instance:h,options:y}),C=function(){};p.push(k||C)}})}function g(){p.forEach(function(v){return v()}),p=[]}return h}}var AT=[rT,ST,tT,U_,bT,hT,kT,X_,gT],DT=RT({defaultModifiers:AT});function $n(e){const{elementType:t,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:o=!1,...i}=e,s=o?{}:Ey(n,r),{props:a,internalRef:c}=Py({...i,externalSlotProps:s}),u=Lt(c,s?.ref,e.additionalProps?.ref);return $y(t,{...a,ref:u},r)}function Wo(e){return parseInt(Iv,10)>=19?e?.props?.ref||null:e?.ref||null}function zT(e){return typeof e=="function"?e():e}const Vy=Oe(function(t,n){const{children:r,container:o,disablePortal:i=!1}=t,[s,a]=U(null),c=Lt(At(r)?Wo(r):null,n);return In(()=>{i||a(zT(o)||document.body)},[o,i]),In(()=>{if(s&&!i)return qu(n,s),()=>{qu(n,null)}},[n,s,i]),i?At(r)?$t(r,{ref:c}):r:s&&Ul(r,s)});function LT(e){return He("MuiPopper",e)}Ye("MuiPopper",["root"]);function NT(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function od(e){return typeof e=="function"?e():e}function FT(e){return e.nodeType!==void 0}const BT=e=>{const{classes:t}=e;return Ue({root:["root"]},LT,t)},WT={},VT=Oe(function(t,n){const{anchorEl:r,children:o,direction:i,disablePortal:s,modifiers:a,open:c,placement:u,popperOptions:d,popperRef:p,slotProps:f={},slots:h={},TransitionProps:m,ownerState:g,...v}=t,b=te(null),S=Lt(b,n),y=te(null),w=Lt(y,p),k=te(w);In(()=>{k.current=w},[w]),vr(p,()=>y.current,[]);const C=NT(u,i),[T,I]=U(C),[E,O]=U(od(r));ae(()=>{y.current&&y.current.forceUpdate()}),ae(()=>{r&&O(od(r))},[r]),In(()=>{if(!E||!c)return;const R=D=>{I(D.placement)};let M=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:D})=>{R(D)}}];a!=null&&(M=M.concat(a)),d&&d.modifiers!=null&&(M=M.concat(d.modifiers));const A=DT(E,b.current,{placement:C,...d,modifiers:M});return k.current(A),()=>{A.destroy(),k.current(null)}},[E,s,a,c,d,C]);const P={placement:T};m!==null&&(P.TransitionProps=m);const x=BT(t),_=h.root??"div",$=$n({elementType:_,externalSlotProps:f.root,externalForwardedProps:v,additionalProps:{role:"tooltip",ref:S},ownerState:t,className:x.root});return l(_,{...$,children:typeof o=="function"?o(P):o})}),HT=Oe(function(t,n){const{anchorEl:r,children:o,container:i,direction:s="ltr",disablePortal:a=!1,keepMounted:c=!1,modifiers:u,open:d,placement:p="bottom",popperOptions:f=WT,popperRef:h,style:m,transition:g=!1,slotProps:v={},slots:b={},...S}=t,[y,w]=U(!0),k=()=>{w(!1)},C=()=>{w(!0)};if(!c&&!d&&(!g||y))return null;let T;if(i)T=i;else if(r){const O=od(r);T=O&&FT(O)?Zt(O).body:Zt(null).body}const I=!d&&c&&(!g||y)?"none":void 0,E=g?{in:d,onEnter:k,onExited:C}:void 0;return l(Vy,{disablePortal:a,container:T,children:l(VT,{anchorEl:r,direction:s,disablePortal:a,modifiers:u,ref:n,open:g?!y:d,placement:p,popperOptions:f,popperRef:h,slotProps:v,slots:b,...S,style:{position:"fixed",top:0,left:0,display:I,...m},TransitionProps:E,children:o})})}),UT=G(HT,{name:"MuiPopper",slot:"Root"})({}),ca=Oe(function(t,n){const r=Bo(),o=Ge({props:t,name:"MuiPopper"}),{anchorEl:i,component:s,components:a,componentsProps:c,container:u,disablePortal:d,keepMounted:p,modifiers:f,open:h,placement:m,popperOptions:g,popperRef:v,transition:b,slots:S,slotProps:y,...w}=o,k=S?.root??a?.Root,C={anchorEl:i,container:u,disablePortal:d,keepMounted:p,modifiers:f,open:h,placement:m,popperOptions:g,popperRef:v,transition:b,...w};return l(UT,{as:s,direction:r?"rtl":"ltr",slots:{root:k},slotProps:y??c,...C,ref:n})});function jT(e){return He("MuiListSubheader",e)}Ye("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const YT=e=>{const{classes:t,color:n,disableGutters:r,inset:o,disableSticky:i}=e,s={root:["root",n!=="default"&&`color${Z(n)}`,!r&&"gutters",o&&"inset",!i&&"sticky"]};return Ue(s,jT,t)},GT=G("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${Z(n.color)}`],!n.disableGutters&&t.gutters,n.inset&&t.inset,!n.disableSticky&&t.sticky]}})(ze(({theme:e})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(e.vars||e).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:72}},{props:({ownerState:t})=>!t.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper}}]}))),id=Oe(function(t,n){const r=Ge({props:t,name:"MuiListSubheader"}),{className:o,color:i="default",component:s="li",disableGutters:a=!1,disableSticky:c=!1,inset:u=!1,...d}=r,p={...r,color:i,component:s,disableGutters:a,disableSticky:c,inset:u},f=YT(p);return l(GT,{as:s,className:pe(f.root,o),ref:n,ownerState:p,...d})});id&&(id.muiSkipListHighlight=!0);const KT=rt(l("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function ZT(e){return He("MuiChip",e)}const ft=Ye("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),qT=e=>{const{classes:t,disabled:n,size:r,color:o,iconColor:i,onDelete:s,clickable:a,variant:c}=e,u={root:["root",c,n&&"disabled",`size${Z(r)}`,`color${Z(o)}`,a&&"clickable",a&&`clickableColor${Z(o)}`,s&&"deletable",s&&`deletableColor${Z(o)}`,`${c}${Z(o)}`],label:["label",`label${Z(r)}`],avatar:["avatar",`avatar${Z(r)}`,`avatarColor${Z(o)}`],icon:["icon",`icon${Z(r)}`,`iconColor${Z(i)}`],deleteIcon:["deleteIcon",`deleteIcon${Z(r)}`,`deleteIconColor${Z(o)}`,`deleteIcon${Z(c)}Color${Z(o)}`]};return Ue(u,ZT,t)},XT=G("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:o,clickable:i,onDelete:s,size:a,variant:c}=n;return[{[`& .${ft.avatar}`]:t.avatar},{[`& .${ft.avatar}`]:t[`avatar${Z(a)}`]},{[`& .${ft.avatar}`]:t[`avatarColor${Z(r)}`]},{[`& .${ft.icon}`]:t.icon},{[`& .${ft.icon}`]:t[`icon${Z(a)}`]},{[`& .${ft.icon}`]:t[`iconColor${Z(o)}`]},{[`& .${ft.deleteIcon}`]:t.deleteIcon},{[`& .${ft.deleteIcon}`]:t[`deleteIcon${Z(a)}`]},{[`& .${ft.deleteIcon}`]:t[`deleteIconColor${Z(r)}`]},{[`& .${ft.deleteIcon}`]:t[`deleteIcon${Z(c)}Color${Z(r)}`]},t.root,t[`size${Z(a)}`],t[`color${Z(r)}`],i&&t.clickable,i&&r!=="default"&&t[`clickableColor${Z(r)})`],s&&t.deletable,s&&r!=="default"&&t[`deletableColor${Z(r)}`],t[c],t[`${c}${Z(r)}`]]}})(ze(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return{maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${ft.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${ft.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:t,fontSize:e.typography.pxToRem(12)},[`& .${ft.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${ft.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${ft.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${ft.icon}`]:{marginLeft:5,marginRight:-6},[`& .${ft.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:e.alpha((e.vars||e).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.alpha((e.vars||e).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${ft.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${ft.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(e.palette).filter(It(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(e.vars||e).palette[n].main,color:(e.vars||e).palette[n].contrastText,[`& .${ft.deleteIcon}`]:{color:e.alpha((e.vars||e).palette[n].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${ft.icon}`]:{color:e.vars?e.vars.palette.Chip.defaultIconColor:t}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${ft.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${ft.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}}},...Object.entries(e.palette).filter(It(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${ft.focusVisible}`]:{background:(e.vars||e).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`)},[`&.${ft.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.action.selected,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)},"&:active":{boxShadow:(e.vars||e).shadows[1]}}},...Object.entries(e.palette).filter(It(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${ft.focusVisible}`]:{backgroundColor:(e.vars||e).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${ft.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${ft.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${ft.avatar}`]:{marginLeft:4},[`& .${ft.avatarSmall}`]:{marginLeft:2},[`& .${ft.icon}`]:{marginLeft:4},[`& .${ft.iconSmall}`]:{marginLeft:2},[`& .${ft.deleteIcon}`]:{marginRight:5},[`& .${ft.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(e.palette).filter(It()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(e.vars||e).palette[n].main,border:`1px solid ${e.alpha((e.vars||e).palette[n].main,.7)}`,[`&.${ft.clickable}:hover`]:{backgroundColor:e.alpha((e.vars||e).palette[n].main,(e.vars||e).palette.action.hoverOpacity)},[`&.${ft.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette[n].main,(e.vars||e).palette.action.focusOpacity)},[`& .${ft.deleteIcon}`]:{color:e.alpha((e.vars||e).palette[n].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[n].main}}}}))]}})),JT=G("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${Z(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function Bh(e){return e.key==="Backspace"||e.key==="Delete"}const Wn=Oe(function(t,n){const r=Ge({props:t,name:"MuiChip"}),{avatar:o,className:i,clickable:s,color:a="default",component:c,deleteIcon:u,disabled:d=!1,icon:p,label:f,onClick:h,onDelete:m,onKeyDown:g,onKeyUp:v,size:b="medium",variant:S="filled",tabIndex:y,skipFocusWhenDisabled:w=!1,slots:k={},slotProps:C={},...T}=r,I=te(null),E=Lt(I,n),O=V=>{V.stopPropagation(),m&&m(V)},P=V=>{V.currentTarget===V.target&&Bh(V)&&V.preventDefault(),g&&g(V)},x=V=>{V.currentTarget===V.target&&m&&Bh(V)&&m(V),v&&v(V)},_=s!==!1&&h?!0:s,$=_||m?Ar:c||"div",R={...r,component:$,disabled:d,size:b,color:a,iconColor:At(p)&&p.props.color||a,onDelete:!!m,clickable:_,variant:S},M=qT(R),A=$===Ar?{component:c||"div",focusVisibleClassName:M.focusVisible,...m&&{disableRipple:!0}}:{};let D=null;m&&(D=u&&At(u)?$t(u,{className:pe(u.props.className,M.deleteIcon),onClick:O}):l(KT,{className:M.deleteIcon,onClick:O}));let z=null;o&&At(o)&&(z=$t(o,{className:pe(M.avatar,o.props.className)}));let W=null;p&&At(p)&&(W=$t(p,{className:pe(M.icon,p.props.className)}));const B={slots:k,slotProps:C},[Y,K]=je("root",{elementType:XT,externalForwardedProps:{...B,...T},ownerState:R,shouldForwardComponentProp:!0,ref:E,className:pe(M.root,i),additionalProps:{disabled:_&&d?!0:void 0,tabIndex:w&&d?-1:y,...A},getSlotProps:V=>({...V,onClick:ne=>{V.onClick?.(ne),h?.(ne)},onKeyDown:ne=>{V.onKeyDown?.(ne),P(ne)},onKeyUp:ne=>{V.onKeyUp?.(ne),x(ne)}})}),[q,N]=je("label",{elementType:JT,externalForwardedProps:B,ownerState:R,className:M.label});return l(Y,{as:$,...K,children:[z||W,l(q,{...N,children:f}),D]})});function Ca(e){return parseInt(e,10)||0}const QT={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function eI(e){for(const t in e)return!1;return!0}function Wh(e){return eI(e)||e.outerHeightStyle===0&&!e.overflowing}const tI=Oe(function(t,n){const{onChange:r,maxRows:o,minRows:i=1,style:s,value:a,...c}=t,{current:u}=te(a!=null),d=te(null),p=Lt(n,d),f=te(null),h=te(null),m=Te(()=>{const y=d.current,w=h.current;if(!y||!w)return;const C=mr(y).getComputedStyle(y);if(C.width==="0px")return{outerHeightStyle:0,overflowing:!1};w.style.width=C.width,w.value=y.value||t.placeholder||"x",w.value.slice(-1)===`
`&&(w.value+=" ");const T=C.boxSizing,I=Ca(C.paddingBottom)+Ca(C.paddingTop),E=Ca(C.borderBottomWidth)+Ca(C.borderTopWidth),O=w.scrollHeight;w.value="x";const P=w.scrollHeight;let x=O;i&&(x=Math.max(Number(i)*P,x)),o&&(x=Math.min(Number(o)*P,x)),x=Math.max(x,P);const _=x+(T==="border-box"?I+E:0),$=Math.abs(x-O)<=1;return{outerHeightStyle:_,overflowing:$}},[o,i,t.placeholder]),g=en(()=>{const y=d.current,w=m();if(!y||!w||Wh(w))return!1;const k=w.outerHeightStyle;return f.current!=null&&f.current!==k}),v=Te(()=>{const y=d.current,w=m();if(!y||!w||Wh(w))return;const k=w.outerHeightStyle;f.current!==k&&(f.current=k,y.style.height=`${k}px`),y.style.overflow=w.overflowing?"hidden":""},[m]),b=te(-1);return In(()=>{const y=cc(v),w=d?.current;if(!w)return;const k=mr(w);k.addEventListener("resize",y);let C;return typeof ResizeObserver<"u"&&(C=new ResizeObserver(()=>{g()&&(C.unobserve(w),cancelAnimationFrame(b.current),v(),b.current=requestAnimationFrame(()=>{C.observe(w)}))}),C.observe(w)),()=>{y.clear(),cancelAnimationFrame(b.current),k.removeEventListener("resize",y),C&&C.disconnect()}},[m,v,g]),In(()=>{v()}),l(yt,{children:[l("textarea",{value:a,onChange:y=>{u||v();const w=y.target,k=w.value.length,C=w.value.endsWith(`
`),T=w.selectionStart===k;C&&T&&w.setSelectionRange(k,k),r&&r(y)},ref:p,rows:i,style:s,...c}),l("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:h,tabIndex:-1,style:{...QT.shadow,...s,paddingTop:0,paddingBottom:0}})]})});function ho({props:e,states:t,muiFormControl:n}){return t.reduce((r,o)=>(r[o]=e[o],n&&typeof e[o]>"u"&&(r[o]=n[o]),r),{})}const _p=Ut(void 0);function Nr(){return bt(_p)}function Vh(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function xl(e,t=!1){return e&&(Vh(e.value)&&e.value!==""||t&&Vh(e.defaultValue)&&e.defaultValue!=="")}function nI(e){return e.startAdornment}function rI(e){return He("MuiInputBase",e)}const Ln=Ye("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var Hh;const fc=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${Z(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},hc=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},oI=e=>{const{classes:t,color:n,disabled:r,error:o,endAdornment:i,focused:s,formControl:a,fullWidth:c,hiddenLabel:u,multiline:d,readOnly:p,size:f,startAdornment:h,type:m}=e,g={root:["root",`color${Z(n)}`,r&&"disabled",o&&"error",c&&"fullWidth",s&&"focused",a&&"formControl",f&&f!=="medium"&&`size${Z(f)}`,d&&"multiline",h&&"adornedStart",i&&"adornedEnd",u&&"hiddenLabel",p&&"readOnly"],input:["input",r&&"disabled",m==="search"&&"inputTypeSearch",d&&"inputMultiline",f==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",h&&"inputAdornedStart",i&&"inputAdornedEnd",p&&"readOnly"]};return Ue(g,rI,t)},mc=G("div",{name:"MuiInputBase",slot:"Root",overridesResolver:fc})(ze(({theme:e})=>({...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Ln.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:t})=>t.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:t,size:n})=>t.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:t})=>t.fullWidth,style:{width:"100%"}}]}))),gc=G("input",{name:"MuiInputBase",slot:"Input",overridesResolver:hc})(ze(({theme:e})=>{const t=e.palette.mode==="light",n={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},o=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Ln.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${Ln.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:({ownerState:i})=>!i.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:i})=>i.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),Uh=mp({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),Tp=Oe(function(t,n){const r=Ge({props:t,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:i,autoFocus:s,className:a,color:c,components:u={},componentsProps:d={},defaultValue:p,disabled:f,disableInjectingGlobalStyles:h,endAdornment:m,error:g,fullWidth:v=!1,id:b,inputComponent:S="input",inputProps:y={},inputRef:w,margin:k,maxRows:C,minRows:T,multiline:I=!1,name:E,onBlur:O,onChange:P,onClick:x,onFocus:_,onKeyDown:$,onKeyUp:R,placeholder:M,readOnly:A,renderSuffix:D,rows:z,size:W,slotProps:B={},slots:Y={},startAdornment:K,type:q="text",value:N,...V}=r,ne=y.value!=null?y.value:N,{current:Ce}=te(ne!=null),ve=te(),J=Te(me=>{},[]),Se=Lt(ve,w,y.ref,J),[we,Pe]=U(!1),Re=Nr(),xe=ho({props:r,muiFormControl:Re,states:["color","disabled","error","hiddenLabel","size","required","filled"]});xe.focused=Re?Re.focused:we,ae(()=>{!Re&&f&&we&&(Pe(!1),O&&O())},[Re,f,we,O]);const Be=Re&&Re.onFilled,Le=Re&&Re.onEmpty,le=Te(me=>{xl(me)?Be&&Be():Le&&Le()},[Be,Le]);In(()=>{Ce&&le({value:ne})},[ne,le,Ce]);const Xe=me=>{_&&_(me),y.onFocus&&y.onFocus(me),Re&&Re.onFocus?Re.onFocus(me):Pe(!0)},$e=me=>{O&&O(me),y.onBlur&&y.onBlur(me),Re&&Re.onBlur?Re.onBlur(me):Pe(!1)},Je=(me,...L)=>{if(!Ce){const F=me.target||ve.current;if(F==null)throw new Error(Ur(1));le({value:F.value})}y.onChange&&y.onChange(me,...L),P&&P(me,...L)};ae(()=>{le(ve.current)},[]);const ye=me=>{ve.current&&me.currentTarget===me.target&&ve.current.focus(),x&&x(me)};let mt=S,st=y;I&&mt==="input"&&(z?st={type:void 0,minRows:z,maxRows:z,...st}:st={type:void 0,maxRows:C,minRows:T,...st},mt=tI);const fe=me=>{le(me.animationName==="mui-auto-fill-cancel"?ve.current:{value:"x"})};ae(()=>{Re&&Re.setAdornedStart(!!K)},[Re,K]);const ce={...r,color:xe.color||"primary",disabled:xe.disabled,endAdornment:m,error:xe.error,focused:xe.focused,formControl:Re,fullWidth:v,hiddenLabel:xe.hiddenLabel,multiline:I,size:xe.size,startAdornment:K,type:q},ge=oI(ce),Ae=Y.root||u.Root||mc,Ne=B.root||d.root||{},Ee=Y.input||u.Input||gc;return st={...st,...B.input??d.input},l(yt,{children:[!h&&typeof Uh=="function"&&(Hh||(Hh=l(Uh,{}))),l(Ae,{...Ne,ref:n,onClick:ye,...V,...!ro(Ae)&&{ownerState:{...ce,...Ne.ownerState}},className:pe(ge.root,Ne.className,a,A&&"MuiInputBase-readOnly"),children:[K,l(_p.Provider,{value:null,children:l(Ee,{"aria-invalid":xe.error,"aria-describedby":o,autoComplete:i,autoFocus:s,defaultValue:p,disabled:xe.disabled,id:b,onAnimationStart:fe,name:E,placeholder:M,readOnly:A,required:xe.required,rows:z,value:ne,onKeyDown:$,onKeyUp:R,type:q,...st,...!ro(Ee)&&{as:mt,ownerState:{...ce,...st.ownerState}},ref:Se,className:pe(ge.input,st.className,A&&"MuiInputBase-readOnly"),onBlur:$e,onChange:Je,onFocus:Xe})}),m,D?D({...xe,startAdornment:K}):null]})]})});function iI(e){return He("MuiInput",e)}const Jr={...Ln,...Ye("MuiInput",["root","underline","input"])};function sI(e){return He("MuiOutlinedInput",e)}const Yn={...Ln,...Ye("MuiOutlinedInput",["root","notchedOutline","input"])};function aI(e){return He("MuiFilledInput",e)}const Nn={...Ln,...Ye("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},Hy=rt(l("path",{d:"M7 10l5 5 5-5z"}));function lI(e){return He("MuiAutocomplete",e)}const dt=Ye("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var jh,Yh;const cI=e=>{const{classes:t,disablePortal:n,expanded:r,focused:o,fullWidth:i,hasClearIcon:s,hasPopupIcon:a,inputFocused:c,popupOpen:u,size:d}=e,p={root:["root",r&&"expanded",o&&"focused",i&&"fullWidth",s&&"hasClearIcon",a&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",c&&"inputFocused"],tag:["tag",`tagSize${Z(d)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",u&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Ue(p,lI,t)},uI=G("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{fullWidth:r,hasClearIcon:o,hasPopupIcon:i,inputFocused:s,size:a}=n;return[{[`& .${dt.tag}`]:t.tag},{[`& .${dt.tag}`]:t[`tagSize${Z(a)}`]},{[`& .${dt.inputRoot}`]:t.inputRoot},{[`& .${dt.input}`]:t.input},{[`& .${dt.input}`]:s&&t.inputFocused},t.root,r&&t.fullWidth,i&&t.hasPopupIcon,o&&t.hasClearIcon]}})({[`&.${dt.focused} .${dt.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${dt.clearIndicator}`]:{visibility:"visible"}},[`& .${dt.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${dt.inputRoot}`]:{[`.${dt.hasPopupIcon}&, .${dt.hasClearIcon}&`]:{paddingRight:30},[`.${dt.hasPopupIcon}.${dt.hasClearIcon}&`]:{paddingRight:56},[`& .${dt.input}`]:{width:0,minWidth:30}},[`& .${Jr.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Jr.root}.${Ln.sizeSmall}`]:{[`& .${Jr.input}`]:{padding:"2px 4px 3px 0"}},[`& .${Yn.root}`]:{padding:9,[`.${dt.hasPopupIcon}&, .${dt.hasClearIcon}&`]:{paddingRight:39},[`.${dt.hasPopupIcon}.${dt.hasClearIcon}&`]:{paddingRight:65},[`& .${dt.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${dt.endAdornment}`]:{right:9}},[`& .${Yn.root}.${Ln.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${dt.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Nn.root}`]:{paddingTop:19,paddingLeft:8,[`.${dt.hasPopupIcon}&, .${dt.hasClearIcon}&`]:{paddingRight:39},[`.${dt.hasPopupIcon}.${dt.hasClearIcon}&`]:{paddingRight:65},[`& .${Nn.input}`]:{padding:"7px 4px"},[`& .${dt.endAdornment}`]:{right:9}},[`& .${Nn.root}.${Ln.sizeSmall}`]:{paddingBottom:1,[`& .${Nn.input}`]:{padding:"2.5px 4px"}},[`& .${Ln.hiddenLabel}`]:{paddingTop:8},[`& .${Nn.root}.${Ln.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${dt.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Nn.root}.${Ln.hiddenLabel}.${Ln.sizeSmall}`]:{[`& .${dt.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${dt.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${dt.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${dt.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${dt.inputRoot}`]:{flexWrap:"wrap"}}}]}),dI=G("div",{name:"MuiAutocomplete",slot:"EndAdornment"})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),pI=G(ht,{name:"MuiAutocomplete",slot:"ClearIndicator"})({marginRight:-2,padding:4,visibility:"hidden"}),fI=G(ht,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popupIndicator,n.popupOpen&&t.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),hI=G(ca,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${dt.option}`]:t.option},t.popper,n.disablePortal&&t.popperDisablePortal]}})(ze(({theme:e})=>({zIndex:(e.vars||e).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),mI=G(br,{name:"MuiAutocomplete",slot:"Paper"})(ze(({theme:e})=>({...e.typography.body1,overflow:"auto"}))),gI=G("div",{name:"MuiAutocomplete",slot:"Loading"})(ze(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),vI=G("div",{name:"MuiAutocomplete",slot:"NoOptions"})(ze(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),yI=G("ul",{name:"MuiAutocomplete",slot:"Listbox"})(ze(({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${dt.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${dt.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${dt.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),[`&.${dt.focused}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${dt.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}}}}))),bI=G(id,{name:"MuiAutocomplete",slot:"GroupLabel"})(ze(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8}))),wI=G("ul",{name:"MuiAutocomplete",slot:"GroupUl"})({padding:0,[`& .${dt.option}`]:{paddingLeft:24}}),Cl=Oe(function(t,n){const r=Ge({props:t,name:"MuiAutocomplete"}),{autoComplete:o=!1,autoHighlight:i=!1,autoSelect:s=!1,blurOnSelect:a=!1,ChipProps:c,className:u,clearIcon:d=jh||(jh=l(Oy,{fontSize:"small"})),clearOnBlur:p=!r.freeSolo,clearOnEscape:f=!1,clearText:h="Clear",closeText:m="Close",componentsProps:g,defaultValue:v=r.multiple?[]:null,disableClearable:b=!1,disableCloseOnSelect:S=!1,disabled:y=!1,disabledItemsFocusable:w=!1,disableListWrap:k=!1,disablePortal:C=!1,filterOptions:T,filterSelectedOptions:I=!1,forcePopupIcon:E="auto",freeSolo:O=!1,fullWidth:P=!1,getLimitTagsText:x=St=>`+${St}`,getOptionDisabled:_,getOptionKey:$,getOptionLabel:R,isOptionEqualToValue:M,groupBy:A,handleHomeEndKeys:D=!r.freeSolo,id:z,includeInputInList:W=!1,inputValue:B,limitTags:Y=-1,ListboxComponent:K,ListboxProps:q,loading:N=!1,loadingText:V="Loadingâ€¦",multiple:ne=!1,noOptionsText:Ce="No options",onChange:ve,onClose:J,onHighlightChange:Se,onInputChange:we,onOpen:Pe,open:Re,openOnFocus:xe=!1,openText:Be="Open",options:Le,PaperComponent:le,PopperComponent:Xe,popupIcon:$e=Yh||(Yh=l(Hy,{})),readOnly:Je=!1,renderGroup:ye,renderInput:mt,renderOption:st,renderTags:fe,renderValue:ce,selectOnFocus:ge=!r.freeSolo,size:Ae="medium",slots:Ne={},slotProps:Ee={},value:me,...L}=r,{getRootProps:F,getInputProps:H,getInputLabelProps:j,getPopupIndicatorProps:he,getClearProps:Ke,getItemProps:lt,getListboxProps:Qe,getOptionProps:be,value:ke,dirty:re,expanded:ue,id:We,popupOpen:nt,focused:et,focusedItem:Fe,anchorEl:wt,setAnchorEl:Me,inputValue:De,groupedOptions:at}=E_({...r,componentName:"Autocomplete"}),ot=!b&&!y&&re&&!Je,gt=(!O||E===!0)&&E!==!1,{onMouseDown:Jt}=H(),{ref:fn,...sn}=Qe(),zn=R||(St=>St.label??St),nn={...r,disablePortal:C,expanded:ue,focused:et,fullWidth:P,getOptionLabel:zn,hasClearIcon:ot,hasPopupIcon:gt,inputFocused:Fe===-1,popupOpen:nt,size:Ae},an=cI(nn),Kr={slots:{paper:le,popper:Xe,...Ne},slotProps:{chip:c,listbox:q,...g,...Ee}},[Nc,Ki]=je("listbox",{elementType:yI,externalForwardedProps:Kr,ownerState:nn,className:an.listbox,additionalProps:sn,ref:fn}),[fa,ee]=je("paper",{elementType:br,externalForwardedProps:Kr,ownerState:nn,className:an.paper}),[Q,Ve]=je("popper",{elementType:ca,externalForwardedProps:Kr,ownerState:nn,className:an.popper,additionalProps:{disablePortal:C,style:{width:wt?wt.clientWidth:null},role:"presentation",anchorEl:wt,open:nt}});let it;const ct=St=>({className:an.tag,disabled:y,...lt(St)});if(ne?ke.length>0&&(fe?it=fe(ke,ct,nn):ce?it=ce(ke,ct,nn):it=ke.map((St,Zr)=>{const{key:qr,...Zi}=ct({index:Zr});return l(Wn,{label:zn(St),size:Ae,...Zi,...Kr.slotProps.chip},qr)})):ce&&ke!=null&&(it=ce(ke,ct,nn)),Y>-1&&Array.isArray(it)){const St=it.length-Y;!et&&St>0&&(it=it.splice(0,Y),it.push(l("span",{className:an.tag,children:x(St)},it.length)))}const jt=ye||(St=>l("li",{children:[l(bI,{className:an.groupLabel,ownerState:nn,component:"div",children:St.group}),l(wI,{className:an.groupUl,ownerState:nn,children:St.children})]},St.key)),ha=st||((St,Zr)=>{const{key:qr,...Zi}=St;return l("li",{...Zi,children:zn(Zr)},qr)}),df=(St,Zr)=>{const qr=be({option:St,index:Zr});return ha({...qr,className:an.option},St,{selected:qr["aria-selected"],index:Zr,inputValue:De},nn)},pf=Kr.slotProps.clearIndicator,ff=Kr.slotProps.popupIndicator;return l(yt,{children:[l(uI,{ref:n,className:pe(an.root,u),ownerState:nn,...F(L),children:mt({id:We,disabled:y,fullWidth:!0,size:Ae==="small"?"small":void 0,InputLabelProps:j(),InputProps:{ref:Me,className:an.inputRoot,startAdornment:it,onMouseDown:St=>{St.target===St.currentTarget&&Jt(St)},...(ot||gt)&&{endAdornment:l(dI,{className:an.endAdornment,ownerState:nn,children:[ot?l(pI,{...Ke(),"aria-label":h,title:h,ownerState:nn,...pf,className:pe(an.clearIndicator,pf?.className),children:d}):null,gt?l(fI,{...he(),disabled:y,"aria-label":nt?m:Be,title:nt?m:Be,ownerState:nn,...ff,className:pe(an.popupIndicator,ff?.className),children:$e}):null]})}},inputProps:{className:an.input,disabled:y,readOnly:Je,...H()}})}),wt?l(hI,{as:Q,...Ve,children:l(mI,{as:fa,...ee,children:[N&&at.length===0?l(gI,{className:an.loading,ownerState:nn,children:V}):null,at.length===0&&!O&&!N?l(vI,{className:an.noOptions,ownerState:nn,role:"presentation",onMouseDown:St=>{St.preventDefault()},children:Ce}):null,at.length>0?l(Nc,{as:K,...Ki,children:at.map((St,Zr)=>A?jt({key:St.key,group:St.group,children:St.options.map((qr,Zi)=>df(qr,St.index+Zi))}):df(St,Zr))}):null]})}):null]})}),SI={entering:{opacity:1},entered:{opacity:1}},sd=Oe(function(t,n){const r=po(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:s=!0,children:a,easing:c,in:u,onEnter:d,onEntered:p,onEntering:f,onExit:h,onExited:m,onExiting:g,style:v,timeout:b=o,TransitionComponent:S=yr,...y}=t,w=te(null),k=Lt(w,Wo(a),n),C=$=>R=>{if($){const M=w.current;R===void 0?$(M):$(M,R)}},T=C(f),I=C(($,R)=>{Iy($);const M=ki({style:v,timeout:b,easing:c},{mode:"enter"});$.style.webkitTransition=r.transitions.create("opacity",M),$.style.transition=r.transitions.create("opacity",M),d&&d($,R)}),E=C(p),O=C(g),P=C($=>{const R=ki({style:v,timeout:b,easing:c},{mode:"exit"});$.style.webkitTransition=r.transitions.create("opacity",R),$.style.transition=r.transitions.create("opacity",R),h&&h($)}),x=C(m);return l(S,{appear:s,in:u,nodeRef:w,onEnter:I,onEntered:E,onEntering:T,onExit:P,onExited:x,onExiting:O,addEndListener:$=>{i&&i(w.current,$)},timeout:b,...y,children:($,{ownerState:R,...M})=>$t(a,{style:{opacity:0,visibility:$==="exited"&&!u?"hidden":void 0,...SI[$],...v,...a.props.style},ref:k,...M})})});function xI(e){return He("MuiBackdrop",e)}Ye("MuiBackdrop",["root","invisible"]);const CI=e=>{const{classes:t,invisible:n}=e;return Ue({root:["root",n&&"invisible"]},xI,t)},kI=G("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),Uy=Oe(function(t,n){const r=Ge({props:t,name:"MuiBackdrop"}),{children:o,className:i,component:s="div",invisible:a=!1,open:c,components:u={},componentsProps:d={},slotProps:p={},slots:f={},TransitionComponent:h,transitionDuration:m,...g}=r,v={...r,component:s,invisible:a},b=CI(v),S={transition:h,root:u.Root,...f},y={...d,...p},w={component:s,slots:S,slotProps:y},[k,C]=je("root",{elementType:kI,externalForwardedProps:w,className:pe(b.root,i),ownerState:v}),[T,I]=je("transition",{elementType:sd,externalForwardedProps:w,ownerState:v});return l(T,{in:c,timeout:m,...g,...I,children:l(k,{"aria-hidden":!0,...C,classes:b,ref:n,children:o})})}),_I=Ye("MuiBox",["root"]),TI=ac(),de=d1({themeId:Er,defaultTheme:TI,defaultClassName:_I.root,generateClassName:ny.generate});function II(e){return He("MuiButton",e)}const vo=Ye("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),$I=Ut({}),EI=Ut(void 0),PI=e=>{const{color:t,disableElevation:n,fullWidth:r,size:o,variant:i,loading:s,loadingPosition:a,classes:c}=e,u={root:["root",s&&"loading",i,`${i}${Z(t)}`,`size${Z(o)}`,`${i}Size${Z(o)}`,`color${Z(t)}`,n&&"disableElevation",r&&"fullWidth",s&&`loadingPosition${Z(a)}`],startIcon:["icon","startIcon",`iconSize${Z(o)}`],endIcon:["icon","endIcon",`iconSize${Z(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},d=Ue(u,II,c);return{...c,...d}},jy=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],MI=G(Ar,{shouldForwardProp:e=>vn(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Z(n.color)}`],t[`size${Z(n.size)}`],t[`${n.variant}Size${Z(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,n.loading&&t.loading]}})(ze(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],n=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${vo.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${vo.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${vo.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${vo.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(It()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(e.vars||e).palette[r].main,"--variant-outlinedColor":(e.vars||e).palette[r].main,"--variant-outlinedBorder":e.alpha((e.vars||e).palette[r].main,.5),"--variant-containedColor":(e.vars||e).palette[r].contrastText,"--variant-containedBg":(e.vars||e).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[r].dark,"--variant-textBg":e.alpha((e.vars||e).palette[r].main,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[r].main,"--variant-outlinedBg":e.alpha((e.vars||e).palette[r].main,(e.vars||e).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${vo.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${vo.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${vo.loading}`]:{color:"transparent"}}}]}})),OI=G("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,n.loading&&t.startIconLoadingStart,t[`iconSize${Z(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...jy]})),RI=G("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,n.loading&&t.endIconLoadingEnd,t[`iconSize${Z(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...jy]})),AI=G("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),Gh=G("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),Ze=Oe(function(t,n){const r=bt($I),o=bt(EI),i=zs(r,t),s=Ge({props:i,name:"MuiButton"}),{children:a,color:c="primary",component:u="button",className:d,disabled:p=!1,disableElevation:f=!1,disableFocusRipple:h=!1,endIcon:m,focusVisibleClassName:g,fullWidth:v=!1,id:b,loading:S=null,loadingIndicator:y,loadingPosition:w="center",size:k="medium",startIcon:C,type:T,variant:I="text",...E}=s,O=Gr(b),P=y??l(dc,{"aria-labelledby":O,color:"inherit",size:16}),x={...s,color:c,component:u,disabled:p,disableElevation:f,disableFocusRipple:h,fullWidth:v,loading:S,loadingIndicator:P,loadingPosition:w,size:k,type:T,variant:I},_=PI(x),$=(C||S&&w==="start")&&l(OI,{className:_.startIcon,ownerState:x,children:C||l(Gh,{className:_.loadingIconPlaceholder,ownerState:x})}),R=(m||S&&w==="end")&&l(RI,{className:_.endIcon,ownerState:x,children:m||l(Gh,{className:_.loadingIconPlaceholder,ownerState:x})}),M=o||"",A=typeof S=="boolean"?l("span",{className:_.loadingWrapper,style:{display:"contents"},children:S&&l(AI,{className:_.loadingIndicator,ownerState:x,children:P})}):null;return l(MI,{ownerState:x,className:pe(r.className,_.root,d,M),component:u,disabled:p||S,focusRipple:!h,focusVisibleClassName:pe(_.focusVisible,g),ref:n,type:T,id:S?O:b,...E,classes:_,children:[$,w!=="end"&&A,a,w==="end"&&A,R]})});function DI(e){return He("MuiCard",e)}Ye("MuiCard",["root"]);const zI=e=>{const{classes:t}=e;return Ue({root:["root"]},DI,t)},LI=G(br,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),NI=Oe(function(t,n){const r=Ge({props:t,name:"MuiCard"}),{className:o,raised:i=!1,...s}=r,a={...r,raised:i},c=zI(a);return l(LI,{className:pe(c.root,o),elevation:i?8:void 0,ref:n,ownerState:a,...s})});function FI(e){return He("MuiCardContent",e)}Ye("MuiCardContent",["root"]);const BI=e=>{const{classes:t}=e;return Ue({root:["root"]},FI,t)},WI=G("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),VI=Oe(function(t,n){const r=Ge({props:t,name:"MuiCardContent"}),{className:o,component:i="div",...s}=r,a={...r,component:i},c=BI(a);return l(WI,{as:i,className:pe(c.root,o),ownerState:a,ref:n,...s})});function HI(e){return He("PrivateSwitchBase",e)}Ye("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const UI=e=>{const{classes:t,checked:n,disabled:r,edge:o}=e,i={root:["root",n&&"checked",r&&"disabled",o&&`edge${Z(o)}`],input:["input"]};return Ue(i,HI,t)},jI=G(Ar,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>e==="start"&&t.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>e==="end"&&t.size!=="small",style:{marginRight:-12}}]}),YI=G("input",{name:"MuiSwitchBase",shouldForwardProp:vn})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Ip=Oe(function(t,n){const{autoFocus:r,checked:o,checkedIcon:i,defaultChecked:s,disabled:a,disableFocusRipple:c=!1,edge:u=!1,icon:d,id:p,inputProps:f,inputRef:h,name:m,onBlur:g,onChange:v,onFocus:b,readOnly:S,required:y=!1,tabIndex:w,type:k,value:C,slots:T={},slotProps:I={},...E}=t,[O,P]=Mr({controlled:o,default:!!s,name:"SwitchBase",state:"checked"}),x=Nr(),_=N=>{b&&b(N),x&&x.onFocus&&x.onFocus(N)},$=N=>{g&&g(N),x&&x.onBlur&&x.onBlur(N)},R=N=>{if(N.nativeEvent.defaultPrevented)return;const V=N.target.checked;P(V),v&&v(N,V)};let M=a;x&&typeof M>"u"&&(M=x.disabled);const A=k==="checkbox"||k==="radio",D={...t,checked:O,disabled:M,disableFocusRipple:c,edge:u},z=UI(D),W={slots:T,slotProps:{input:f,...I}},[B,Y]=je("root",{ref:n,elementType:jI,className:z.root,shouldForwardComponentProp:!0,externalForwardedProps:{...W,component:"span",...E},getSlotProps:N=>({...N,onFocus:V=>{N.onFocus?.(V),_(V)},onBlur:V=>{N.onBlur?.(V),$(V)}}),ownerState:D,additionalProps:{centerRipple:!0,focusRipple:!c,disabled:M,role:void 0,tabIndex:null}}),[K,q]=je("input",{ref:h,elementType:YI,className:z.input,externalForwardedProps:W,getSlotProps:N=>({...N,onChange:V=>{N.onChange?.(V),R(V)}}),ownerState:D,additionalProps:{autoFocus:r,checked:o,defaultChecked:s,disabled:M,id:A?p:void 0,name:m,readOnly:S,required:y,tabIndex:w,type:k,...k==="checkbox"&&C===void 0?{}:{value:C}}});return l(B,{...Y,children:[l(K,{...q}),O?i:d]})}),GI=rt(l("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),KI=rt(l("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),ZI=rt(l("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function qI(e){return He("MuiCheckbox",e)}const Jc=Ye("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),XI=e=>{const{classes:t,indeterminate:n,color:r,size:o}=e,i={root:["root",n&&"indeterminate",`color${Z(r)}`,`size${Z(o)}`]},s=Ue(i,qI,t);return{...t,...s}},JI=G(Ip,{shouldForwardProp:e=>vn(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${Z(n.size)}`],n.color!=="default"&&t[`color${Z(n.color)}`]]}})(ze(({theme:e})=>({color:(e.vars||e).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter(It()).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter(It()).map(([t])=>({props:{color:t},style:{[`&.${Jc.checked}, &.${Jc.indeterminate}`]:{color:(e.vars||e).palette[t].main},[`&.${Jc.disabled}`]:{color:(e.vars||e).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),QI=l(KI,{}),e$=l(GI,{}),t$=l(ZI,{}),co=Oe(function(t,n){const r=Ge({props:t,name:"MuiCheckbox"}),{checkedIcon:o=QI,color:i="primary",icon:s=e$,indeterminate:a=!1,indeterminateIcon:c=t$,inputProps:u,size:d="medium",disableRipple:p=!1,className:f,slots:h={},slotProps:m={},...g}=r,v=a?c:s,b=a?c:o,S={...r,disableRipple:p,color:i,indeterminate:a,size:d},y=XI(S),w=m.input??u,[k,C]=je("root",{ref:n,elementType:JI,className:pe(y.root,f),shouldForwardComponentProp:!0,externalForwardedProps:{slots:h,slotProps:m,...g},ownerState:S,additionalProps:{type:"checkbox",icon:$t(v,{fontSize:v.props.fontSize??d}),checkedIcon:$t(b,{fontSize:b.props.fontSize??d}),disableRipple:p,slots:h,slotProps:{input:Cy(typeof w=="function"?w(S):w,{"data-indeterminate":a})}}});return l(k,{...C,classes:y})});function Kh(e){return e.substring(2).toLowerCase()}function n$(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function r$(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:o,touchEvent:i="onTouchEnd"}=e,s=te(!1),a=te(null),c=te(!1),u=te(!1);ae(()=>(setTimeout(()=>{c.current=!0},0),()=>{c.current=!1}),[]);const d=Lt(Wo(t),a),p=en(m=>{const g=u.current;u.current=!1;const v=Zt(a.current);if(!c.current||!a.current||"clientX"in m&&n$(m,v))return;if(s.current){s.current=!1;return}let b;m.composedPath?b=m.composedPath().includes(a.current):b=!v.documentElement.contains(m.target)||a.current.contains(m.target),!b&&(n||!g)&&o(m)}),f=m=>g=>{u.current=!0;const v=t.props[m];v&&v(g)},h={ref:d};return i!==!1&&(h[i]=f(i)),ae(()=>{if(i!==!1){const m=Kh(i),g=Zt(a.current),v=()=>{s.current=!0};return g.addEventListener(m,p),g.addEventListener("touchmove",v),()=>{g.removeEventListener(m,p),g.removeEventListener("touchmove",v)}}},[p,i]),r!==!1&&(h[r]=f(r)),ae(()=>{if(r!==!1){const m=Kh(r),g=Zt(a.current);return g.addEventListener(m,p),()=>{g.removeEventListener(m,p)}}},[p,r]),$t(t,h)}const ad=typeof mp({})=="function",o$=(e,t)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...t&&!e.vars&&{colorScheme:e.palette.mode}}),i$=e=>({color:(e.vars||e).palette.text.primary,...e.typography.body1,backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),Yy=(e,t=!1)=>{const n={};t&&e.colorSchemes&&typeof e.getColorSchemeSelector=="function"&&Object.entries(e.colorSchemes).forEach(([i,s])=>{const a=e.getColorSchemeSelector(i);a.startsWith("@")?n[a]={":root":{colorScheme:s.palette?.mode}}:n[a.replace(/\s*&/,"")]={colorScheme:s.palette?.mode}});let r={html:o$(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:{margin:0,...i$(e),"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}},...n};const o=e.components?.MuiCssBaseline?.styleOverrides;return o&&(r=[r,o]),r},il="mui-ecs",s$=e=>{const t=Yy(e,!1),n=Array.isArray(t)?t[0]:t;return!e.vars&&n&&(n.html[`:root:has(${il})`]={colorScheme:e.palette.mode}),e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([r,o])=>{const i=e.getColorSchemeSelector(r);i.startsWith("@")?n[i]={[`:root:not(:has(.${il}))`]:{colorScheme:o.palette?.mode}}:n[i.replace(/\s*&/,"")]={[`&:not(:has(.${il}))`]:{colorScheme:o.palette?.mode}}}),t},a$=mp(ad?({theme:e,enableColorScheme:t})=>Yy(e,t):({theme:e})=>s$(e));function l$(e){const t=Ge({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=t;return l(yt,{children:[ad&&l(a$,{enableColorScheme:r}),!ad&&!r&&l("span",{className:il,style:{display:"none"}}),n]})}function Gy(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function c$(e){const t=Zt(e);return t.body===e?mr(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function ks(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Zh(e){return parseInt(mr(e).getComputedStyle(e).paddingRight,10)||0}function u$(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function qh(e,t,n,r,o){const i=[t,n,...r];[].forEach.call(e.children,s=>{const a=!i.includes(s),c=!u$(s);a&&c&&ks(s,o)})}function Qc(e,t){let n=-1;return e.some((r,o)=>t(r)?(n=o,!0):!1),n}function d$(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(c$(r)){const s=Gy(mr(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${Zh(r)+s}px`;const a=Zt(r).querySelectorAll(".mui-fixed");[].forEach.call(a,c=>{n.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${Zh(c)+s}px`})}let i;if(r.parentNode instanceof DocumentFragment)i=Zt(r).body;else{const s=r.parentElement,a=mr(r);i=s?.nodeName==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{n.forEach(({value:i,el:s,property:a})=>{i?s.style.setProperty(a,i):s.style.removeProperty(a)})}}function p$(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class f${constructor(){this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&ks(t.modalRef,!1);const o=p$(n);qh(n,t.mount,t.modalRef,o,!0);const i=Qc(this.containers,s=>s.container===n);return i!==-1?(this.containers[i].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:o}),r)}mount(t,n){const r=Qc(this.containers,i=>i.modals.includes(t)),o=this.containers[r];o.restore||(o.restore=d$(o,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const o=Qc(this.containers,s=>s.modals.includes(t)),i=this.containers[o];if(i.modals.splice(i.modals.indexOf(t),1),this.modals.splice(r,1),i.modals.length===0)i.restore&&i.restore(),t.modalRef&&ks(t.modalRef,n),qh(i.container,t.mount,t.modalRef,i.hiddenSiblings,!1),this.containers.splice(o,1);else{const s=i.modals[i.modals.length-1];s.modalRef&&ks(s.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const h$=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function m$(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function g$(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function v$(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||g$(e))}function y$(e){const t=[],n=[];return Array.from(e.querySelectorAll(h$)).forEach((r,o)=>{const i=m$(r);i===-1||!v$(r)||(i===0?t.push(r):n.push({documentOrder:o,tabIndex:i,node:r}))}),n.sort((r,o)=>r.tabIndex===o.tabIndex?r.documentOrder-o.documentOrder:r.tabIndex-o.tabIndex).map(r=>r.node).concat(t)}function b$(){return!0}function w$(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:o=!1,getTabbable:i=y$,isEnabled:s=b$,open:a}=e,c=te(!1),u=te(null),d=te(null),p=te(null),f=te(null),h=te(!1),m=te(null),g=Lt(Wo(t),m),v=te(null);ae(()=>{!a||!m.current||(h.current=!n)},[n,a]),ae(()=>{if(!a||!m.current)return;const y=Zt(m.current);return m.current.contains(y.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),h.current&&m.current.focus()),()=>{o||(p.current&&p.current.focus&&(c.current=!0,p.current.focus()),p.current=null)}},[a]),ae(()=>{if(!a||!m.current)return;const y=Zt(m.current),w=T=>{v.current=T,!(r||!s()||T.key!=="Tab")&&y.activeElement===m.current&&T.shiftKey&&(c.current=!0,d.current&&d.current.focus())},k=()=>{const T=m.current;if(T===null)return;if(!y.hasFocus()||!s()||c.current){c.current=!1;return}if(T.contains(y.activeElement)||r&&y.activeElement!==u.current&&y.activeElement!==d.current)return;if(y.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!h.current)return;let I=[];if((y.activeElement===u.current||y.activeElement===d.current)&&(I=i(m.current)),I.length>0){const E=!!(v.current?.shiftKey&&v.current?.key==="Tab"),O=I[0],P=I[I.length-1];typeof O!="string"&&typeof P!="string"&&(E?P.focus():O.focus())}else T.focus()};y.addEventListener("focusin",k),y.addEventListener("keydown",w,!0);const C=setInterval(()=>{y.activeElement&&y.activeElement.tagName==="BODY"&&k()},50);return()=>{clearInterval(C),y.removeEventListener("focusin",k),y.removeEventListener("keydown",w,!0)}},[n,r,o,s,a,i]);const b=y=>{p.current===null&&(p.current=y.relatedTarget),h.current=!0,f.current=y.target;const w=t.props.onFocus;w&&w(y)},S=y=>{p.current===null&&(p.current=y.relatedTarget),h.current=!0};return l(yt,{children:[l("div",{tabIndex:a?0:-1,onFocus:S,ref:u,"data-testid":"sentinelStart"}),$t(t,{ref:g,onFocus:b}),l("div",{tabIndex:a?0:-1,onFocus:S,ref:d,"data-testid":"sentinelEnd"})]})}function S$(e){return typeof e=="function"?e():e}function x$(e){return e?e.props.hasOwnProperty("in"):!1}const Xh=()=>{},ka=new f$;function C$(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:o=!1,onTransitionEnter:i,onTransitionExited:s,children:a,onClose:c,open:u,rootRef:d}=e,p=te({}),f=te(null),h=te(null),m=Lt(h,d),[g,v]=U(!u),b=x$(a);let S=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(S=!1);const y=()=>Zt(f.current),w=()=>(p.current.modalRef=h.current,p.current.mount=f.current,p.current),k=()=>{ka.mount(w(),{disableScrollLock:r}),h.current&&(h.current.scrollTop=0)},C=en(()=>{const R=S$(t)||y().body;ka.add(w(),R),h.current&&k()}),T=()=>ka.isTopModal(w()),I=en(R=>{f.current=R,R&&(u&&T()?k():h.current&&ks(h.current,S))}),E=Te(()=>{ka.remove(w(),S)},[S]);ae(()=>()=>{E()},[E]),ae(()=>{u?C():(!b||!o)&&E()},[u,E,b,o,C]);const O=R=>M=>{R.onKeyDown?.(M),!(M.key!=="Escape"||M.which===229||!T())&&(n||(M.stopPropagation(),c&&c(M,"escapeKeyDown")))},P=R=>M=>{R.onClick?.(M),M.target===M.currentTarget&&c&&c(M,"backdropClick")};return{getRootProps:(R={})=>{const M=Ss(e);delete M.onTransitionEnter,delete M.onTransitionExited;const A={...M,...R};return{role:"presentation",...A,onKeyDown:O(A),ref:m}},getBackdropProps:(R={})=>{const M=R;return{"aria-hidden":!0,...M,onClick:P(M),open:u}},getTransitionProps:()=>{const R=()=>{v(!1),i&&i()},M=()=>{v(!0),s&&s(),o&&E()};return{onEnter:Ku(R,a?.props.onEnter??Xh),onExited:Ku(M,a?.props.onExited??Xh)}},rootRef:m,portalRef:I,isTopModal:T,exited:g,hasTransition:b}}function k$(e){return He("MuiModal",e)}Ye("MuiModal",["root","hidden","backdrop"]);const _$=e=>{const{open:t,exited:n,classes:r}=e;return Ue({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},k$,r)},T$=G("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(ze(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),I$=G(Uy,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),Ky=Oe(function(t,n){const r=Ge({name:"MuiModal",props:t}),{BackdropComponent:o=I$,BackdropProps:i,classes:s,className:a,closeAfterTransition:c=!1,children:u,container:d,component:p,components:f={},componentsProps:h={},disableAutoFocus:m=!1,disableEnforceFocus:g=!1,disableEscapeKeyDown:v=!1,disablePortal:b=!1,disableRestoreFocus:S=!1,disableScrollLock:y=!1,hideBackdrop:w=!1,keepMounted:k=!1,onClose:C,onTransitionEnter:T,onTransitionExited:I,open:E,slotProps:O={},slots:P={},theme:x,..._}=r,$={...r,closeAfterTransition:c,disableAutoFocus:m,disableEnforceFocus:g,disableEscapeKeyDown:v,disablePortal:b,disableRestoreFocus:S,disableScrollLock:y,hideBackdrop:w,keepMounted:k},{getRootProps:R,getBackdropProps:M,getTransitionProps:A,portalRef:D,isTopModal:z,exited:W,hasTransition:B}=C$({...$,rootRef:n}),Y={...$,exited:W},K=_$(Y),q={};if(u.props.tabIndex===void 0&&(q.tabIndex="-1"),B){const{onEnter:J,onExited:Se}=A();q.onEnter=J,q.onExited=Se}const N={slots:{root:f.Root,backdrop:f.Backdrop,...P},slotProps:{...h,...O}},[V,ne]=je("root",{ref:n,elementType:T$,externalForwardedProps:{...N,..._,component:p},getSlotProps:R,ownerState:Y,className:pe(a,K?.root,!Y.open&&Y.exited&&K?.hidden)}),[Ce,ve]=je("backdrop",{ref:i?.ref,elementType:o,externalForwardedProps:N,shouldForwardComponentProp:!0,additionalProps:i,getSlotProps:J=>M({...J,onClick:Se=>{J?.onClick&&J.onClick(Se)}}),className:pe(i?.className,K?.backdrop),ownerState:Y});return!k&&!E&&(!B||W)?null:l(Vy,{ref:D,container:d,disablePortal:b,children:l(V,{...ne,children:[!w&&o?l(Ce,{...ve}):null,l(w$,{disableEnforceFocus:g,disableAutoFocus:m,disableRestoreFocus:S,isEnabled:z,open:E,children:$t(u,q)})]})})});function $$(e){return He("MuiDialog",e)}const eu=Ye("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Zy=Ut({}),E$=G(Uy,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),P$=e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:o,fullScreen:i}=e,s={root:["root"],container:["container",`scroll${Z(n)}`],paper:["paper",`paperScroll${Z(n)}`,`paperWidth${Z(String(r))}`,o&&"paperFullWidth",i&&"paperFullScreen"]};return Ue(s,$$,t)},M$=G(Ky,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),O$=G("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${Z(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),R$=G(br,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${Z(n.scroll)}`],t[`paperWidth${Z(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(ze(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${eu.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${e.breakpoints.values[t]}${e.breakpoints.unit}`,[`&.${eu.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${eu.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),vc=Oe(function(t,n){const r=Ge({props:t,name:"MuiDialog"}),o=po(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,"aria-modal":c=!0,BackdropComponent:u,BackdropProps:d,children:p,className:f,disableEscapeKeyDown:h=!1,fullScreen:m=!1,fullWidth:g=!1,maxWidth:v="sm",onClick:b,onClose:S,open:y,PaperComponent:w=br,PaperProps:k={},scroll:C="paper",slots:T={},slotProps:I={},TransitionComponent:E=sd,transitionDuration:O=i,TransitionProps:P,...x}=r,_={...r,disableEscapeKeyDown:h,fullScreen:m,fullWidth:g,maxWidth:v,scroll:C},$=P$(_),R=te(),M=Pe=>{R.current=Pe.target===Pe.currentTarget},A=Pe=>{b&&b(Pe),R.current&&(R.current=null,S&&S(Pe,"backdropClick"))},D=Gr(a),z=ie(()=>({titleId:D}),[D]),W={transition:E,...T},B={transition:P,paper:k,backdrop:d,...I},Y={slots:W,slotProps:B},[K,q]=je("root",{elementType:M$,shouldForwardComponentProp:!0,externalForwardedProps:Y,ownerState:_,className:pe($.root,f),ref:n}),[N,V]=je("backdrop",{elementType:E$,shouldForwardComponentProp:!0,externalForwardedProps:Y,ownerState:_}),[ne,Ce]=je("paper",{elementType:R$,shouldForwardComponentProp:!0,externalForwardedProps:Y,ownerState:_,className:pe($.paper,k.className)}),[ve,J]=je("container",{elementType:O$,externalForwardedProps:Y,ownerState:_,className:$.container}),[Se,we]=je("transition",{elementType:sd,externalForwardedProps:Y,ownerState:_,additionalProps:{appear:!0,in:y,timeout:O,role:"presentation"}});return l(K,{closeAfterTransition:!0,slots:{backdrop:N},slotProps:{backdrop:{transitionDuration:O,as:u,...V}},disableEscapeKeyDown:h,onClose:S,open:y,onClick:A,...q,...x,children:l(Se,{...we,children:l(ve,{onMouseDown:M,...J,children:l(ne,{as:w,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":D,"aria-modal":c,...Ce,children:l(Zy.Provider,{value:z,children:p})})})})})});function A$(e){return He("MuiDialogActions",e)}Ye("MuiDialogActions",["root","spacing"]);const D$=e=>{const{classes:t,disableSpacing:n}=e;return Ue({root:["root",!n&&"spacing"]},A$,t)},z$=G("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),yc=Oe(function(t,n){const r=Ge({props:t,name:"MuiDialogActions"}),{className:o,disableSpacing:i=!1,...s}=r,a={...r,disableSpacing:i},c=D$(a);return l(z$,{className:pe(c.root,o),ownerState:a,ref:n,...s})});function L$(e){return He("MuiDialogContent",e)}Ye("MuiDialogContent",["root","dividers"]);function N$(e){return He("MuiDialogTitle",e)}const F$=Ye("MuiDialogTitle",["root"]),B$=e=>{const{classes:t,dividers:n}=e;return Ue({root:["root",n&&"dividers"]},L$,t)},W$=G("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(ze(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:t})=>t.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>!t.dividers,style:{[`.${F$.root} + &`]:{paddingTop:0}}}]}))),bc=Oe(function(t,n){const r=Ge({props:t,name:"MuiDialogContent"}),{className:o,dividers:i=!1,...s}=r,a={...r,dividers:i},c=B$(a);return l(W$,{className:pe(c.root,o),ownerState:a,ref:n,...s})}),V$=e=>{const{classes:t}=e;return Ue({root:["root"]},N$,t)},H$=G(oe,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),wc=Oe(function(t,n){const r=Ge({props:t,name:"MuiDialogTitle"}),{className:o,id:i,...s}=r,a=r,c=V$(a),{titleId:u=i}=bt(Zy);return l(H$,{component:"h2",className:pe(c.root,o),ownerState:a,ref:n,variant:"h6",id:i??u,...s})});function U$(e){return He("MuiDivider",e)}const Jh=Ye("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),j$=e=>{const{absolute:t,children:n,classes:r,flexItem:o,light:i,orientation:s,textAlign:a,variant:c}=e;return Ue({root:["root",t&&"absolute",c,i&&"light",s==="vertical"&&"vertical",o&&"flexItem",n&&"withChildren",n&&s==="vertical"&&"withChildrenVertical",a==="right"&&s!=="vertical"&&"textAlignRight",a==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},U$,r)},Y$=G("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,n.orientation==="vertical"&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&n.orientation==="vertical"&&t.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&t.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&t.textAlignLeft]}})(ze(({theme:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:e.alpha((e.vars||e).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:t})=>!!t.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:t})=>t.children&&t.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:t})=>t.orientation==="vertical"&&t.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:t})=>t.textAlign==="right"&&t.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:t})=>t.textAlign==="left"&&t.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),G$=G("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,n.orientation==="vertical"&&t.wrapperVertical]}})(ze(({theme:e})=>({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}}]}))),dn=Oe(function(t,n){const r=Ge({props:t,name:"MuiDivider"}),{absolute:o=!1,children:i,className:s,orientation:a="horizontal",component:c=i||a==="vertical"?"div":"hr",flexItem:u=!1,light:d=!1,role:p=c!=="hr"?"separator":void 0,textAlign:f="center",variant:h="fullWidth",...m}=r,g={...r,absolute:o,component:c,flexItem:u,light:d,orientation:a,role:p,textAlign:f,variant:h},v=j$(g);return l(Y$,{as:c,className:pe(v.root,s),role:p,ref:n,ownerState:g,"aria-orientation":p==="separator"&&(c!=="hr"||a==="vertical")?a:void 0,...m,children:i?l(G$,{className:v.wrapper,ownerState:g,children:i}):null})});dn&&(dn.muiSkipListHighlight=!0);const K$=e=>{const{classes:t,disableUnderline:n,startAdornment:r,endAdornment:o,size:i,hiddenLabel:s,multiline:a}=e,c={root:["root",!n&&"underline",r&&"adornedStart",o&&"adornedEnd",i==="small"&&`size${Z(i)}`,s&&"hiddenLabel",a&&"multiline"],input:["input"]},u=Ue(c,aI,t);return{...t,...u}},Z$=G(mc,{shouldForwardProp:e=>vn(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...fc(e,t),!n.disableUnderline&&t.underline]}})(ze(({theme:e})=>{const t=e.palette.mode==="light",n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",i=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r}},[`&.${Nn.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r},[`&.${Nn.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:i},variants:[{props:({ownerState:s})=>!s.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Nn.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Nn.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline):n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Nn.disabled}, .${Nn.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Nn.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(It()).map(([s])=>({props:{disableUnderline:!1,color:s},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[s]?.main}`}}})),{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:12}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:12}},{props:({ownerState:s})=>s.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:s,size:a})=>s.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),q$=G(gc,{name:"MuiFilledInput",slot:"Input",overridesResolver:hc})(ze(({theme:e})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:t})=>t.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}},{props:({ownerState:t})=>t.hiddenLabel&&t.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:t})=>t.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),$p=Oe(function(t,n){const r=Ge({props:t,name:"MuiFilledInput"}),{disableUnderline:o=!1,components:i={},componentsProps:s,fullWidth:a=!1,hiddenLabel:c,inputComponent:u="input",multiline:d=!1,slotProps:p,slots:f={},type:h="text",...m}=r,g={...r,disableUnderline:o,fullWidth:a,inputComponent:u,multiline:d,type:h},v=K$(r),b={root:{ownerState:g},input:{ownerState:g}},S=p??s?un(b,p??s):b,y=f.root??i.Root??Z$,w=f.input??i.Input??q$;return l(Tp,{slots:{root:y,input:w},slotProps:S,fullWidth:a,inputComponent:u,multiline:d,ref:n,type:h,...m,classes:v})});$p.muiName="Input";function X$(e){return He("MuiFormControl",e)}Ye("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const J$=e=>{const{classes:t,margin:n,fullWidth:r}=e,o={root:["root",n!=="none"&&`margin${Z(n)}`,r&&"fullWidth"]};return Ue(o,X$,t)},Q$=G("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`margin${Z(n.margin)}`],n.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),xn=Oe(function(t,n){const r=Ge({props:t,name:"MuiFormControl"}),{children:o,className:i,color:s="primary",component:a="div",disabled:c=!1,error:u=!1,focused:d,fullWidth:p=!1,hiddenLabel:f=!1,margin:h="none",required:m=!1,size:g="medium",variant:v="outlined",...b}=r,S={...r,color:s,component:a,disabled:c,error:u,fullWidth:p,hiddenLabel:f,margin:h,required:m,size:g,variant:v},y=J$(S),[w,k]=U(()=>{let R=!1;return o&&Vn.forEach(o,M=>{if(!rl(M,["Input","Select"]))return;const A=rl(M,["Select"])?M.props.input:M;A&&nI(A.props)&&(R=!0)}),R}),[C,T]=U(()=>{let R=!1;return o&&Vn.forEach(o,M=>{rl(M,["Input","Select"])&&(xl(M.props,!0)||xl(M.props.inputProps,!0))&&(R=!0)}),R}),[I,E]=U(!1);c&&I&&E(!1);const O=d!==void 0&&!c?d:I;let P;te(!1);const x=Te(()=>{T(!0)},[]),_=Te(()=>{T(!1)},[]),$=ie(()=>({adornedStart:w,setAdornedStart:k,color:s,disabled:c,error:u,filled:C,focused:O,fullWidth:p,hiddenLabel:f,size:g,onBlur:()=>{E(!1)},onFocus:()=>{E(!0)},onEmpty:_,onFilled:x,registerEffect:P,required:m,variant:v}),[w,s,c,u,C,O,p,f,P,_,x,m,g,v]);return l(_p.Provider,{value:$,children:l(Q$,{as:a,ownerState:S,className:pe(y.root,i),ref:n,...b,children:o})})});function eE(e){return He("MuiFormControlLabel",e)}const ps=Ye("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),tE=e=>{const{classes:t,disabled:n,labelPlacement:r,error:o,required:i}=e,s={root:["root",n&&"disabled",`labelPlacement${Z(r)}`,o&&"error",i&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",o&&"error"]};return Ue(s,eE,t)},nE=G("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${ps.label}`]:t.label},t.root,t[`labelPlacement${Z(n.labelPlacement)}`]]}})(ze(({theme:e})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${ps.disabled}`]:{cursor:"default"},[`& .${ps.label}`]:{[`&.${ps.disabled}`]:{color:(e.vars||e).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:t})=>t==="start"||t==="top"||t==="bottom",style:{marginLeft:16}}]}))),rE=G("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(ze(({theme:e})=>({[`&.${ps.error}`]:{color:(e.vars||e).palette.error.main}}))),on=Oe(function(t,n){const r=Ge({props:t,name:"MuiFormControlLabel"}),{checked:o,className:i,componentsProps:s={},control:a,disabled:c,disableTypography:u,inputRef:d,label:p,labelPlacement:f="end",name:h,onChange:m,required:g,slots:v={},slotProps:b={},value:S,...y}=r,w=Nr(),k=c??a.props.disabled??w?.disabled,C=g??a.props.required,T={disabled:k,required:C};["checked","name","onChange","value","inputRef"].forEach(R=>{typeof a.props[R]>"u"&&typeof r[R]<"u"&&(T[R]=r[R])});const I=ho({props:r,muiFormControl:w,states:["error"]}),E={...r,disabled:k,labelPlacement:f,required:C,error:I.error},O=tE(E),P={slots:v,slotProps:{...s,...b}},[x,_]=je("typography",{elementType:oe,externalForwardedProps:P,ownerState:E});let $=p;return $!=null&&$.type!==oe&&!u&&($=l(x,{component:"span",..._,className:pe(O.label,_?.className),children:$})),l(nE,{className:pe(O.root,i),ownerState:E,ref:n,...y,children:[$t(a,T),C?l("div",{children:[$,l(rE,{ownerState:E,"aria-hidden":!0,className:O.asterisk,children:["â€‰","*"]})]}):$]})});function oE(e){return He("MuiFormGroup",e)}Ye("MuiFormGroup",["root","row","error"]);const iE=e=>{const{classes:t,row:n,error:r}=e;return Ue({root:["root",n&&"row",r&&"error"]},oE,t)},sE=G("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),Sc=Oe(function(t,n){const r=Ge({props:t,name:"MuiFormGroup"}),{className:o,row:i=!1,...s}=r,a=Nr(),c=ho({props:r,muiFormControl:a,states:["error"]}),u={...r,row:i,error:c.error},d=iE(u);return l(sE,{className:pe(d.root,o),ownerState:u,ref:n,...s})});function aE(e){return He("MuiFormHelperText",e)}const Qh=Ye("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var em;const lE=e=>{const{classes:t,contained:n,size:r,disabled:o,error:i,filled:s,focused:a,required:c}=e,u={root:["root",o&&"disabled",i&&"error",r&&`size${Z(r)}`,n&&"contained",a&&"focused",s&&"filled",c&&"required"]};return Ue(u,aE,t)},cE=G("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${Z(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(ze(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Qh.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Qh.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:t})=>t.contained,style:{marginLeft:14,marginRight:14}}]}))),uE=Oe(function(t,n){const r=Ge({props:t,name:"MuiFormHelperText"}),{children:o,className:i,component:s="p",disabled:a,error:c,filled:u,focused:d,margin:p,required:f,variant:h,...m}=r,g=Nr(),v=ho({props:r,muiFormControl:g,states:["variant","size","disabled","error","filled","focused","required"]}),b={...r,component:s,contained:v.variant==="filled"||v.variant==="outlined",variant:v.variant,size:v.size,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required};delete b.ownerState;const S=lE(b);return l(cE,{as:s,className:pe(S.root,i),ref:n,...m,ownerState:b,children:o===" "?em||(em=l("span",{className:"notranslate","aria-hidden":!0,children:"â€‹"})):o})});function dE(e){return He("MuiFormLabel",e)}const _s=Ye("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),pE=e=>{const{classes:t,color:n,focused:r,disabled:o,error:i,filled:s,required:a}=e,c={root:["root",`color${Z(n)}`,o&&"disabled",i&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",i&&"error"]};return Ue(c,dE,t)},fE=G("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color==="secondary"&&t.colorSecondary,n.filled&&t.filled]}})(ze(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(It()).map(([t])=>({props:{color:t},style:{[`&.${_s.focused}`]:{color:(e.vars||e).palette[t].main}}})),{props:{},style:{[`&.${_s.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${_s.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),hE=G("span",{name:"MuiFormLabel",slot:"Asterisk"})(ze(({theme:e})=>({[`&.${_s.error}`]:{color:(e.vars||e).palette.error.main}}))),qy=Oe(function(t,n){const r=Ge({props:t,name:"MuiFormLabel"}),{children:o,className:i,color:s,component:a="label",disabled:c,error:u,filled:d,focused:p,required:f,...h}=r,m=Nr(),g=ho({props:r,muiFormControl:m,states:["color","required","focused","disabled","error","filled"]}),v={...r,color:g.color||"primary",component:a,disabled:g.disabled,error:g.error,filled:g.filled,focused:g.focused,required:g.required},b=pE(v);return l(fE,{as:a,ownerState:v,className:pe(b.root,i),ref:n,...h,children:[o,g.required&&l(hE,{ownerState:v,"aria-hidden":!0,className:b.asterisk,children:["â€‰","*"]})]})}),mE=dC({createStyledComponent:G("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.container&&t.container]}}),componentName:"MuiGrid",useThemeProps:e=>Ge({props:e,name:"MuiGrid"}),useTheme:po});function ld(e){return`scale(${e}, ${e**2})`}const gE={entering:{opacity:1,transform:ld(1)},entered:{opacity:1,transform:"none"}},tu=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),kl=Oe(function(t,n){const{addEndListener:r,appear:o=!0,children:i,easing:s,in:a,onEnter:c,onEntered:u,onEntering:d,onExit:p,onExited:f,onExiting:h,style:m,timeout:g="auto",TransitionComponent:v=yr,...b}=t,S=Io(),y=te(),w=po(),k=te(null),C=Lt(k,Wo(i),n),T=R=>M=>{if(R){const A=k.current;M===void 0?R(A):R(A,M)}},I=T(d),E=T((R,M)=>{Iy(R);const{duration:A,delay:D,easing:z}=ki({style:m,timeout:g,easing:s},{mode:"enter"});let W;g==="auto"?(W=w.transitions.getAutoHeightDuration(R.clientHeight),y.current=W):W=A,R.style.transition=[w.transitions.create("opacity",{duration:W,delay:D}),w.transitions.create("transform",{duration:tu?W:W*.666,delay:D,easing:z})].join(","),c&&c(R,M)}),O=T(u),P=T(h),x=T(R=>{const{duration:M,delay:A,easing:D}=ki({style:m,timeout:g,easing:s},{mode:"exit"});let z;g==="auto"?(z=w.transitions.getAutoHeightDuration(R.clientHeight),y.current=z):z=M,R.style.transition=[w.transitions.create("opacity",{duration:z,delay:A}),w.transitions.create("transform",{duration:tu?z:z*.666,delay:tu?A:A||z*.333,easing:D})].join(","),R.style.opacity=0,R.style.transform=ld(.75),p&&p(R)}),_=T(f);return l(v,{appear:o,in:a,nodeRef:k,onEnter:E,onEntered:O,onEntering:I,onExit:x,onExited:_,onExiting:P,addEndListener:R=>{g==="auto"&&S.start(y.current||0,R),r&&r(k.current,R)},timeout:g==="auto"?null:g,...b,children:(R,{ownerState:M,...A})=>$t(i,{style:{opacity:0,transform:ld(.75),visibility:R==="exited"&&!a?"hidden":void 0,...gE[R],...m,...i.props.style},ref:C,...A})})});kl&&(kl.muiSupportAuto=!0);const vE=e=>{const{classes:t,disableUnderline:n}=e,o=Ue({root:["root",!n&&"underline"],input:["input"]},iI,t);return{...t,...o}},yE=G(mc,{shouldForwardProp:e=>vn(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...fc(e,t),!n.disableUnderline&&t.underline]}})(ze(({theme:e})=>{let n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=e.alpha(e.vars.palette.common.onBackground,e.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Jr.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Jr.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Jr.disabled}, .${Jr.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Jr.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(It()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[r].main}`}}}))]}})),bE=G(gc,{name:"MuiInput",slot:"Input",overridesResolver:hc})({}),Ep=Oe(function(t,n){const r=Ge({props:t,name:"MuiInput"}),{disableUnderline:o=!1,components:i={},componentsProps:s,fullWidth:a=!1,inputComponent:c="input",multiline:u=!1,slotProps:d,slots:p={},type:f="text",...h}=r,m=vE(r),v={root:{ownerState:{disableUnderline:o}}},b=d??s?un(d??s,v):v,S=p.root??i.Root??yE,y=p.input??i.Input??bE;return l(Tp,{slots:{root:S,input:y},slotProps:b,fullWidth:a,inputComponent:c,multiline:u,ref:n,type:f,...h,classes:m})});Ep.muiName="Input";function wE(e){return He("MuiInputLabel",e)}Ye("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const SE=e=>{const{classes:t,formControl:n,size:r,shrink:o,disableAnimation:i,variant:s,required:a}=e,c={root:["root",n&&"formControl",!i&&"animated",o&&"shrink",r&&r!=="medium"&&`size${Z(r)}`,s],asterisk:[a&&"asterisk"]},u=Ue(c,wE,t);return{...t,...u}},xE=G(qy,{shouldForwardProp:e=>vn(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${_s.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(ze(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:t})=>t.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:t})=>t.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:t})=>!t.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:t,ownerState:n,size:r})=>t==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),Bs=Oe(function(t,n){const r=Ge({name:"MuiInputLabel",props:t}),{disableAnimation:o=!1,margin:i,shrink:s,variant:a,className:c,...u}=r,d=Nr();let p=s;typeof p>"u"&&d&&(p=d.filled||d.focused||d.adornedStart);const f=ho({props:r,muiFormControl:d,states:["size","variant","required","focused"]}),h={...r,disableAnimation:o,formControl:d,shrink:p,size:f.size,variant:f.variant,required:f.required,focused:f.focused},m=SE(h);return l(xE,{"data-shrink":p,ref:n,className:pe(m.root,c),...u,ownerState:h,classes:m})});function CE(e){return He("MuiLinearProgress",e)}Ye("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const cd=4,ud=uo`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,kE=typeof ud!="string"?zi`
        animation: ${ud} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,dd=uo`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,_E=typeof dd!="string"?zi`
        animation: ${dd} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,pd=uo`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,TE=typeof pd!="string"?zi`
        animation: ${pd} 3s infinite linear;
      `:null,IE=e=>{const{classes:t,variant:n,color:r}=e,o={root:["root",`color${Z(r)}`,n],dashed:["dashed",`dashedColor${Z(r)}`],bar1:["bar","bar1",`barColor${Z(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",n!=="buffer"&&`barColor${Z(r)}`,n==="buffer"&&`color${Z(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return Ue(o,CE,t)},Pp=(e,t)=>e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:e.palette.mode==="light"?e.lighten(e.palette[t].main,.62):e.darken(e.palette[t].main,.5),$E=G("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${Z(n.color)}`],t[n.variant]]}})(ze(({theme:e})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(e.palette).filter(It()).map(([t])=>({props:{color:t},style:{backgroundColor:Pp(e,t)}})),{props:({ownerState:t})=>t.color==="inherit"&&t.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),EE=G("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t[`dashedColor${Z(n.color)}`]]}})(ze(({theme:e})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(e.palette).filter(It()).map(([t])=>{const n=Pp(e,t);return{props:{color:t},style:{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`}}})]})),TE||{animation:`${pd} 3s infinite linear`}),PE=G("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t.bar1,t[`barColor${Z(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar1Indeterminate,n.variant==="determinate"&&t.bar1Determinate,n.variant==="buffer"&&t.bar1Buffer]}})(ze(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(e.palette).filter(It()).map(([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main}})),{props:{variant:"determinate"},style:{transition:`transform .${cd}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${cd}s linear`}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:{width:"auto"}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:kE||{animation:`${ud} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),ME=G("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t.bar2,t[`barColor${Z(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar2Indeterminate,n.variant==="buffer"&&t.bar2Buffer]}})(ze(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(e.palette).filter(It()).map(([t])=>({props:{color:t},style:{"--LinearProgressBar2-barColor":(e.vars||e).palette[t].main}})),{props:({ownerState:t})=>t.variant!=="buffer"&&t.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:t})=>t.variant!=="buffer"&&t.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(e.palette).filter(It()).map(([t])=>({props:{color:t,variant:"buffer"},style:{backgroundColor:Pp(e,t),transition:`transform .${cd}s linear`}})),{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:{width:"auto"}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:_E||{animation:`${dd} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),tm=Oe(function(t,n){const r=Ge({props:t,name:"MuiLinearProgress"}),{className:o,color:i="primary",value:s,valueBuffer:a,variant:c="indeterminate",...u}=r,d={...r,color:i,variant:c},p=IE(d),f=Bo(),h={},m={bar1:{},bar2:{}};if((c==="determinate"||c==="buffer")&&s!==void 0){h["aria-valuenow"]=Math.round(s),h["aria-valuemin"]=0,h["aria-valuemax"]=100;let g=s-100;f&&(g=-g),m.bar1.transform=`translateX(${g}%)`}if(c==="buffer"&&a!==void 0){let g=(a||0)-100;f&&(g=-g),m.bar2.transform=`translateX(${g}%)`}return l($E,{className:pe(p.root,o),ownerState:d,role:"progressbar",...h,ref:n,...u,children:[c==="buffer"?l(EE,{className:p.dashed,ownerState:d}):null,l(PE,{className:p.bar1,ownerState:d,style:m.bar1}),c==="determinate"?null:l(ME,{className:p.bar2,ownerState:d,style:m.bar2})]})}),Ro=Ut({});function OE(e){return He("MuiList",e)}Ye("MuiList",["root","padding","dense","subheader"]);const RE=e=>{const{classes:t,disablePadding:n,dense:r,subheader:o}=e;return Ue({root:["root",!n&&"padding",r&&"dense",o&&"subheader"]},OE,t)},AE=G("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),xc=Oe(function(t,n){const r=Ge({props:t,name:"MuiList"}),{children:o,className:i,component:s="ul",dense:a=!1,disablePadding:c=!1,subheader:u,...d}=r,p=ie(()=>({dense:a}),[a]),f={...r,component:s,dense:a,disablePadding:c},h=RE(f);return l(Ro.Provider,{value:p,children:l(AE,{as:s,className:pe(h.root,i),ref:n,ownerState:f,...d,children:[u,o]})})});function DE(e){return He("MuiListItemButton",e)}const Qi=Ye("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),zE=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]},LE=e=>{const{alignItems:t,classes:n,dense:r,disabled:o,disableGutters:i,divider:s,selected:a}=e,u=Ue({root:["root",r&&"dense",!i&&"gutters",s&&"divider",o&&"disabled",t==="flex-start"&&"alignItemsFlexStart",a&&"selected"]},DE,n);return{...n,...u}},NE=G(Ar,{shouldForwardProp:e=>vn(e)||e==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:zE})(ze(({theme:e})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Qi.selected}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),[`&.${Qi.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}},[`&.${Qi.selected}:hover`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity)}},[`&.${Qi.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Qi.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},variants:[{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.dense,style:{paddingTop:4,paddingBottom:4}}]}))),Cc=Oe(function(t,n){const r=Ge({props:t,name:"MuiListItemButton"}),{alignItems:o="center",autoFocus:i=!1,component:s="div",children:a,dense:c=!1,disableGutters:u=!1,divider:d=!1,focusVisibleClassName:p,selected:f=!1,className:h,...m}=r,g=bt(Ro),v=ie(()=>({dense:c||g.dense||!1,alignItems:o,disableGutters:u}),[o,g.dense,c,u]),b=te(null);In(()=>{i&&b.current&&b.current.focus()},[i]);const S={...r,alignItems:o,dense:v.dense,disableGutters:u,divider:d,selected:f},y=LE(S),w=Lt(b,n);return l(Ro.Provider,{value:v,children:l(NE,{ref:w,href:m.href||m.to,component:(m.href||m.to)&&s==="div"?"button":s,focusVisibleClassName:pe(y.focusVisible,p),ownerState:S,className:pe(y.root,h),...m,classes:y,children:a})})});function FE(e){return He("MuiListItemIcon",e)}const nm=Ye("MuiListItemIcon",["root","alignItemsFlexStart"]),BE=e=>{const{alignItems:t,classes:n}=e;return Ue({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},FE,n)},WE=G("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(ze(({theme:e})=>({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),VE=Oe(function(t,n){const r=Ge({props:t,name:"MuiListItemIcon"}),{className:o,...i}=r,s=bt(Ro),a={...r,alignItems:s.alignItems},c=BE(a);return l(WE,{className:pe(c.root,o),ownerState:a,ref:n,...i})});function HE(e){return He("MuiListItemText",e)}const ai=Ye("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),UE=e=>{const{classes:t,inset:n,primary:r,secondary:o,dense:i}=e;return Ue({root:["root",n&&"inset",i&&"dense",r&&o&&"multiline"],primary:["primary"],secondary:["secondary"]},HE,t)},jE=G("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${ai.primary}`]:t.primary},{[`& .${ai.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${_h.root}:where(& .${ai.primary})`]:{display:"block"},[`.${_h.root}:where(& .${ai.secondary})`]:{display:"block"},variants:[{props:({ownerState:e})=>e.primary&&e.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:56}}]}),kc=Oe(function(t,n){const r=Ge({props:t,name:"MuiListItemText"}),{children:o,className:i,disableTypography:s=!1,inset:a=!1,primary:c,primaryTypographyProps:u,secondary:d,secondaryTypographyProps:p,slots:f={},slotProps:h={},...m}=r,{dense:g}=bt(Ro);let v=c??o,b=d;const S={...r,disableTypography:s,inset:a,primary:!!v,secondary:!!b,dense:g},y=UE(S),w={slots:f,slotProps:{primary:u,secondary:p,...h}},[k,C]=je("root",{className:pe(y.root,i),elementType:jE,externalForwardedProps:{...w,...m},ownerState:S,ref:n}),[T,I]=je("primary",{className:y.primary,elementType:oe,externalForwardedProps:w,ownerState:S}),[E,O]=je("secondary",{className:y.secondary,elementType:oe,externalForwardedProps:w,ownerState:S});return v!=null&&v.type!==oe&&!s&&(v=l(T,{variant:g?"body2":"body1",component:I?.variant?void 0:"span",...I,children:v})),b!=null&&b.type!==oe&&!s&&(b=l(E,{variant:"body2",color:"textSecondary",...O,children:b})),l(k,{...C,children:[v,b]})});function nu(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function rm(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Xy(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.startsWith(t.keys.join(""))}function es(e,t,n,r,o,i){let s=!1,a=o(e,t,t?n:!1);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const c=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!Xy(a,i)||c)a=o(e,a,n);else return a.focus(),!0}return!1}const YE=Oe(function(t,n){const{actions:r,autoFocus:o=!1,autoFocusItem:i=!1,children:s,className:a,disabledItemsFocusable:c=!1,disableListWrap:u=!1,onKeyDown:d,variant:p="selectedMenu",...f}=t,h=te(null),m=te({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});In(()=>{o&&h.current.focus()},[o]),vr(r,()=>({adjustStyleForScrollbar:(y,{direction:w})=>{const k=!h.current.style.width;if(y.clientHeight<h.current.clientHeight&&k){const C=`${Gy(mr(y))}px`;h.current.style[w==="rtl"?"paddingLeft":"paddingRight"]=C,h.current.style.width=`calc(100% + ${C})`}return h.current}}),[]);const g=y=>{const w=h.current,k=y.key;if(y.ctrlKey||y.metaKey||y.altKey){d&&d(y);return}const T=Zt(w).activeElement;if(k==="ArrowDown")y.preventDefault(),es(w,T,u,c,nu);else if(k==="ArrowUp")y.preventDefault(),es(w,T,u,c,rm);else if(k==="Home")y.preventDefault(),es(w,null,u,c,nu);else if(k==="End")y.preventDefault(),es(w,null,u,c,rm);else if(k.length===1){const I=m.current,E=k.toLowerCase(),O=performance.now();I.keys.length>0&&(O-I.lastTime>500?(I.keys=[],I.repeating=!0,I.previousKeyMatched=!0):I.repeating&&E!==I.keys[0]&&(I.repeating=!1)),I.lastTime=O,I.keys.push(E);const P=T&&!I.repeating&&Xy(T,I);I.previousKeyMatched&&(P||es(w,T,!1,c,nu,I))?y.preventDefault():I.previousKeyMatched=!1}d&&d(y)},v=Lt(h,n);let b=-1;Vn.forEach(s,(y,w)=>{if(!At(y)){b===w&&(b+=1,b>=s.length&&(b=-1));return}y.props.disabled||(p==="selectedMenu"&&y.props.selected||b===-1)&&(b=w),b===w&&(y.props.disabled||y.props.muiSkipListHighlight||y.type.muiSkipListHighlight)&&(b+=1,b>=s.length&&(b=-1))});const S=Vn.map(s,(y,w)=>{if(w===b){const k={};return i&&(k.autoFocus=!0),y.props.tabIndex===void 0&&p==="selectedMenu"&&(k.tabIndex=0),$t(y,k)}return y});return l(xc,{role:"menu",ref:v,className:a,onKeyDown:g,tabIndex:o?0:-1,...f,children:S})});function GE(e){return He("MuiPopover",e)}Ye("MuiPopover",["root","paper"]);function om(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function im(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function sm(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function _a(e){return typeof e=="function"?e():e}const KE=e=>{const{classes:t}=e;return Ue({root:["root"],paper:["paper"]},GE,t)},ZE=G(Ky,{name:"MuiPopover",slot:"Root"})({}),Jy=G(br,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Mp=Oe(function(t,n){const r=Ge({props:t,name:"MuiPopover"}),{action:o,anchorEl:i,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:c="anchorEl",children:u,className:d,container:p,elevation:f=8,marginThreshold:h=16,open:m,PaperProps:g={},slots:v={},slotProps:b={},transformOrigin:S={vertical:"top",horizontal:"left"},TransitionComponent:y,transitionDuration:w="auto",TransitionProps:k={},disableScrollLock:C=!1,...T}=r,I=te(),E={...r,anchorOrigin:s,anchorReference:c,elevation:f,marginThreshold:h,transformOrigin:S,TransitionComponent:y,transitionDuration:w,TransitionProps:k},O=KE(E),P=Te(()=>{if(c==="anchorPosition")return a;const J=_a(i),we=(J&&J.nodeType===1?J:Zt(I.current).body).getBoundingClientRect();return{top:we.top+om(we,s.vertical),left:we.left+im(we,s.horizontal)}},[i,s.horizontal,s.vertical,a,c]),x=Te(J=>({vertical:om(J,S.vertical),horizontal:im(J,S.horizontal)}),[S.horizontal,S.vertical]),_=Te(J=>{const Se={width:J.offsetWidth,height:J.offsetHeight},we=x(Se);if(c==="none")return{top:null,left:null,transformOrigin:sm(we)};const Pe=P();let Re=Pe.top-we.vertical,xe=Pe.left-we.horizontal;const Be=Re+Se.height,Le=xe+Se.width,le=mr(_a(i)),Xe=le.innerHeight-h,$e=le.innerWidth-h;if(h!==null&&Re<h){const Je=Re-h;Re-=Je,we.vertical+=Je}else if(h!==null&&Be>Xe){const Je=Be-Xe;Re-=Je,we.vertical+=Je}if(h!==null&&xe<h){const Je=xe-h;xe-=Je,we.horizontal+=Je}else if(Le>$e){const Je=Le-$e;xe-=Je,we.horizontal+=Je}return{top:`${Math.round(Re)}px`,left:`${Math.round(xe)}px`,transformOrigin:sm(we)}},[i,c,P,x,h]),[$,R]=U(m),M=Te(()=>{const J=I.current;if(!J)return;const Se=_(J);Se.top!==null&&J.style.setProperty("top",Se.top),Se.left!==null&&(J.style.left=Se.left),J.style.transformOrigin=Se.transformOrigin,R(!0)},[_]);ae(()=>(C&&window.addEventListener("scroll",M),()=>window.removeEventListener("scroll",M)),[i,C,M]);const A=()=>{M()},D=()=>{R(!1)};ae(()=>{m&&M()}),vr(o,()=>m?{updatePosition:()=>{M()}}:null,[m,M]),ae(()=>{if(!m)return;const J=cc(()=>{M()}),Se=mr(_a(i));return Se.addEventListener("resize",J),()=>{J.clear(),Se.removeEventListener("resize",J)}},[i,m,M]);let z=w;const W={slots:{transition:y,...v},slotProps:{transition:k,paper:g,...b}},[B,Y]=je("transition",{elementType:kl,externalForwardedProps:W,ownerState:E,getSlotProps:J=>({...J,onEntering:(Se,we)=>{J.onEntering?.(Se,we),A()},onExited:Se=>{J.onExited?.(Se),D()}}),additionalProps:{appear:!0,in:m}});w==="auto"&&!B.muiSupportAuto&&(z=void 0);const K=p||(i?Zt(_a(i)).body:void 0),[q,{slots:N,slotProps:V,...ne}]=je("root",{ref:n,elementType:ZE,externalForwardedProps:{...W,...T},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:v.backdrop},slotProps:{backdrop:Cy(typeof b.backdrop=="function"?b.backdrop(E):b.backdrop,{invisible:!0})},container:K,open:m},ownerState:E,className:pe(O.root,d)}),[Ce,ve]=je("paper",{ref:I,className:O.paper,elementType:Jy,externalForwardedProps:W,shouldForwardComponentProp:!0,additionalProps:{elevation:f,style:$?void 0:{opacity:0}},ownerState:E});return l(q,{...ne,...!ro(q)&&{slots:N,slotProps:V,disableScrollLock:C},children:l(B,{...Y,timeout:z,children:l(Ce,{...ve,children:u})})})});function qE(e){return He("MuiMenu",e)}Ye("MuiMenu",["root","paper","list"]);const XE={vertical:"top",horizontal:"right"},JE={vertical:"top",horizontal:"left"},QE=e=>{const{classes:t}=e;return Ue({root:["root"],paper:["paper"],list:["list"]},qE,t)},eP=G(Mp,{shouldForwardProp:e=>vn(e)||e==="classes",name:"MuiMenu",slot:"Root"})({}),tP=G(Jy,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),nP=G(YE,{name:"MuiMenu",slot:"List"})({outline:0}),Qy=Oe(function(t,n){const r=Ge({props:t,name:"MuiMenu"}),{autoFocus:o=!0,children:i,className:s,disableAutoFocusItem:a=!1,MenuListProps:c={},onClose:u,open:d,PaperProps:p={},PopoverClasses:f,transitionDuration:h="auto",TransitionProps:{onEntering:m,...g}={},variant:v="selectedMenu",slots:b={},slotProps:S={},...y}=r,w=Bo(),k={...r,autoFocus:o,disableAutoFocusItem:a,MenuListProps:c,onEntering:m,PaperProps:p,transitionDuration:h,TransitionProps:g,variant:v},C=QE(k),T=o&&!a&&d,I=te(null),E=(z,W)=>{I.current&&I.current.adjustStyleForScrollbar(z,{direction:w?"rtl":"ltr"}),m&&m(z,W)},O=z=>{z.key==="Tab"&&(z.preventDefault(),u&&u(z,"tabKeyDown"))};let P=-1;Vn.map(i,(z,W)=>{At(z)&&(z.props.disabled||(v==="selectedMenu"&&z.props.selected||P===-1)&&(P=W))});const x={slots:b,slotProps:{list:c,transition:g,paper:p,...S}},_=$n({elementType:b.root,externalSlotProps:S.root,ownerState:k,className:[C.root,s]}),[$,R]=je("paper",{className:C.paper,elementType:tP,externalForwardedProps:x,shouldForwardComponentProp:!0,ownerState:k}),[M,A]=je("list",{className:pe(C.list,c.className),elementType:nP,shouldForwardComponentProp:!0,externalForwardedProps:x,getSlotProps:z=>({...z,onKeyDown:W=>{O(W),z.onKeyDown?.(W)}}),ownerState:k}),D=typeof x.slotProps.transition=="function"?x.slotProps.transition(k):x.slotProps.transition;return l(eP,{onClose:u,anchorOrigin:{vertical:"bottom",horizontal:w?"right":"left"},transformOrigin:w?XE:JE,slots:{root:b.root,paper:$,backdrop:b.backdrop,...b.transition&&{transition:b.transition}},slotProps:{root:_,paper:R,backdrop:typeof S.backdrop=="function"?S.backdrop(k):S.backdrop,transition:{...D,onEntering:(...z)=>{E(...z),D?.onEntering?.(...z)}}},open:d,ref:n,transitionDuration:h,ownerState:k,...y,classes:f,children:l(M,{actions:I,autoFocus:o&&(P===-1||a),autoFocusItem:T,variant:v,...A,children:i})})});function rP(e){return He("MuiMenuItem",e)}const ts=Ye("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),oP=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]},iP=e=>{const{disabled:t,dense:n,divider:r,disableGutters:o,selected:i,classes:s}=e,c=Ue({root:["root",n&&"dense",t&&"disabled",!o&&"gutters",r&&"divider",i&&"selected"]},rP,s);return{...s,...c}},sP=G(Ar,{shouldForwardProp:e=>vn(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:oP})(ze(({theme:e})=>({...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ts.selected}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),[`&.${ts.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}},[`&.${ts.selected}:hover`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity)}},[`&.${ts.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${ts.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${Jh.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${Jh.inset}`]:{marginLeft:52},[`& .${ai.root}`]:{marginTop:0,marginBottom:0},[`& .${ai.inset}`]:{paddingLeft:36},[`& .${nm.root}`]:{minWidth:36},variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>!t.dense,style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:t})=>t.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${nm.root} svg`]:{fontSize:"1.25rem"}}}]}))),Xn=Oe(function(t,n){const r=Ge({props:t,name:"MuiMenuItem"}),{autoFocus:o=!1,component:i="li",dense:s=!1,divider:a=!1,disableGutters:c=!1,focusVisibleClassName:u,role:d="menuitem",tabIndex:p,className:f,...h}=r,m=bt(Ro),g=ie(()=>({dense:s||m.dense||!1,disableGutters:c}),[m.dense,s,c]),v=te(null);In(()=>{o&&v.current&&v.current.focus()},[o]);const b={...r,dense:g.dense,divider:a,disableGutters:c},S=iP(r),y=Lt(v,n);let w;return r.disabled||(w=p!==void 0?p:-1),l(Ro.Provider,{value:g,children:l(sP,{ref:y,role:d,tabIndex:w,component:i,focusVisibleClassName:pe(S.focusVisible,u),className:pe(S.root,f),...h,ownerState:b,classes:S})})});function aP(e){return He("MuiNativeSelect",e)}const Op=Ye("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),lP=e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:s}=e,a={select:["select",n,r&&"disabled",o&&"multiple",s&&"error"],icon:["icon",`icon${Z(n)}`,i&&"iconOpen",r&&"disabled"]};return Ue(a,aP,t)},eb=G("select",{name:"MuiNativeSelect"})(({theme:e})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${Op.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:({ownerState:t})=>t.variant!=="filled"&&t.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]})),cP=G(eb,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:vn,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${Op.multiple}`]:t.multiple}]}})({}),tb=G("svg",{name:"MuiNativeSelect"})(({theme:e})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${Op.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:({ownerState:t})=>t.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),uP=G(tb,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Z(n.variant)}`],n.open&&t.iconOpen]}})({}),dP=Oe(function(t,n){const{className:r,disabled:o,error:i,IconComponent:s,inputRef:a,variant:c="standard",...u}=t,d={...t,disabled:o,variant:c,error:i},p=lP(d);return l(yt,{children:[l(cP,{ownerState:d,className:pe(p.select,r),disabled:o,ref:a||n,...u}),t.multiple?null:l(uP,{as:s,ownerState:d,className:p.icon})]})});var am;const pP=G("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:vn})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),fP=G("legend",{name:"MuiNotchedOutlined",shouldForwardProp:vn})(ze(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:t})=>!t.withLabel,style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:({ownerState:t})=>t.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:t})=>t.withLabel&&t.notched,style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function hP(e){const{children:t,classes:n,className:r,label:o,notched:i,...s}=e,a=o!=null&&o!=="",c={...e,notched:i,withLabel:a};return l(pP,{"aria-hidden":!0,className:r,ownerState:c,...s,children:l(fP,{ownerState:c,children:a?l("span",{children:o}):am||(am=l("span",{className:"notranslate","aria-hidden":!0,children:"â€‹"}))})})}const mP=e=>{const{classes:t}=e,r=Ue({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},sI,t);return{...t,...r}},gP=G(mc,{shouldForwardProp:e=>vn(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:fc})(ze(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Yn.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Yn.notchedOutline}`]:{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):t}},[`&.${Yn.focused} .${Yn.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(It()).map(([n])=>({props:{color:n},style:{[`&.${Yn.focused} .${Yn.notchedOutline}`]:{borderColor:(e.vars||e).palette[n].main}}})),{props:{},style:{[`&.${Yn.error} .${Yn.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Yn.disabled} .${Yn.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),vP=G(hP,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(ze(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?e.alpha(e.vars.palette.common.onBackground,.23):t}})),yP=G(gc,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:hc})(ze(({theme:e})=>({padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:t})=>t.multiline,style:{padding:0}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}}]}))),Rp=Oe(function(t,n){const r=Ge({props:t,name:"MuiOutlinedInput"}),{components:o={},fullWidth:i=!1,inputComponent:s="input",label:a,multiline:c=!1,notched:u,slots:d={},slotProps:p={},type:f="text",...h}=r,m=mP(r),g=Nr(),v=ho({props:r,muiFormControl:g,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),b={...r,color:v.color||"primary",disabled:v.disabled,error:v.error,focused:v.focused,formControl:g,fullWidth:i,hiddenLabel:v.hiddenLabel,multiline:c,size:v.size,type:f},S=d.root??o.Root??gP,y=d.input??o.Input??yP,[w,k]=je("notchedOutline",{elementType:vP,className:m.notchedOutline,shouldForwardComponentProp:!0,ownerState:b,externalForwardedProps:{slots:d,slotProps:p},additionalProps:{label:a!=null&&a!==""&&v.required?l(yt,{children:[a,"â€‰","*"]}):a}});return l(Tp,{slots:{root:S,input:y},slotProps:p,renderSuffix:C=>l(w,{...k,notched:typeof u<"u"?u:!!(C.startAdornment||C.filled||C.focused)}),fullWidth:i,inputComponent:s,multiline:c,ref:n,type:f,...h,classes:{...m,notchedOutline:null}})});Rp.muiName="Input";const bP=rt(l("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),wP=rt(l("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"})),SP=G("span",{name:"MuiRadioButtonIcon",shouldForwardProp:vn})({position:"relative",display:"flex"}),xP=G(bP,{name:"MuiRadioButtonIcon"})({transform:"scale(1)"}),CP=G(wP,{name:"MuiRadioButtonIcon"})(ze(({theme:e})=>({left:0,position:"absolute",transform:"scale(0)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.shortest}),variants:[{props:{checked:!0},style:{transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shortest})}}]})));function nb(e){const{checked:t=!1,classes:n={},fontSize:r}=e,o={...e,checked:t};return l(SP,{className:n.root,ownerState:o,children:[l(xP,{fontSize:r,className:n.background,ownerState:o}),l(CP,{fontSize:r,className:n.dot,ownerState:o})]})}const rb=Ut(void 0);function kP(){return bt(rb)}function _P(e){return He("MuiRadio",e)}const lm=Ye("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),TP=e=>{const{classes:t,color:n,size:r}=e,o={root:["root",`color${Z(n)}`,r!=="medium"&&`size${Z(r)}`]};return{...t,...Ue(o,_P,t)}},IP=G(Ip,{shouldForwardProp:e=>vn(e)||e==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size!=="medium"&&t[`size${Z(n.size)}`],t[`color${Z(n.color)}`]]}})(ze(({theme:e})=>({color:(e.vars||e).palette.text.secondary,[`&.${lm.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{color:"default",disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter(It()).map(([t])=>({props:{color:t,disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter(It()).map(([t])=>({props:{color:t,disabled:!1},style:{[`&.${lm.checked}`]:{color:(e.vars||e).palette[t].main}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]})));function $P(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}const EP=l(nb,{checked:!0}),PP=l(nb,{}),oo=Oe(function(t,n){const r=Ge({props:t,name:"MuiRadio"}),{checked:o,checkedIcon:i=EP,color:s="primary",icon:a=PP,name:c,onChange:u,size:d="medium",className:p,disabled:f,disableRipple:h=!1,slots:m={},slotProps:g={},inputProps:v,...b}=r,S=Nr();let y=f;S&&typeof y>"u"&&(y=S.disabled),y??=!1;const w={...r,disabled:y,disableRipple:h,color:s,size:d},k=TP(w),C=kP();let T=o;const I=Ku(u,C&&C.onChange);let E=c;C&&(typeof T>"u"&&(T=$P(C.value,r.value)),typeof E>"u"&&(E=C.name));const O=g.input??v,[P,x]=je("root",{ref:n,elementType:IP,className:pe(k.root,p),shouldForwardComponentProp:!0,externalForwardedProps:{slots:m,slotProps:g,...b},getSlotProps:_=>({..._,onChange:($,...R)=>{_.onChange?.($,...R),I($,...R)}}),ownerState:w,additionalProps:{type:"radio",icon:$t(a,{fontSize:a.props.fontSize??d}),checkedIcon:$t(i,{fontSize:i.props.fontSize??d}),disabled:y,name:E,checked:T,slots:m,slotProps:{input:typeof O=="function"?O(w):O}}});return l(P,{...x,classes:k})});function MP(e){return He("MuiRadioGroup",e)}Ye("MuiRadioGroup",["root","row","error"]);const OP=e=>{const{classes:t,row:n,error:r}=e;return Ue({root:["root",n&&"row",r&&"error"]},MP,t)},Ni=Oe(function(t,n){const{actions:r,children:o,className:i,defaultValue:s,name:a,onChange:c,value:u,...d}=t,p=te(null),f=OP(t),[h,m]=Mr({controlled:u,default:s,name:"RadioGroup"});vr(r,()=>({focus:()=>{let S=p.current.querySelector("input:not(:disabled):checked");S||(S=p.current.querySelector("input:not(:disabled)")),S&&S.focus()}}),[]);const g=Lt(n,p),v=Gr(a),b=ie(()=>({name:v,onChange(S){m(S.target.value),c&&c(S,S.target.value)},value:h}),[v,c,m,h]);return l(rb.Provider,{value:b,children:l(Sc,{role:"radiogroup",ref:g,className:pe(f.root,i),...d,children:o})})}),RP={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function ob(e){return He("MuiSelect",e)}const ns=Ye("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var cm;const AP=G(eb,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${ns.select}`]:t.select},{[`&.${ns.select}`]:t[n.variant]},{[`&.${ns.error}`]:t.error},{[`&.${ns.multiple}`]:t.multiple}]}})({[`&.${ns.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),DP=G(tb,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Z(n.variant)}`],n.open&&t.iconOpen]}})({}),zP=G("input",{shouldForwardProp:e=>lc(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function um(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function LP(e){return e==null||typeof e=="string"&&!e.trim()}const NP=e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:s}=e,a={select:["select",n,r&&"disabled",o&&"multiple",s&&"error"],icon:["icon",`icon${Z(n)}`,i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Ue(a,ob,t)},FP=Oe(function(t,n){const{"aria-describedby":r,"aria-label":o,autoFocus:i,autoWidth:s,children:a,className:c,defaultOpen:u,defaultValue:d,disabled:p,displayEmpty:f,error:h=!1,IconComponent:m,inputRef:g,labelId:v,MenuProps:b={},multiple:S,name:y,onBlur:w,onChange:k,onClose:C,onFocus:T,onOpen:I,open:E,readOnly:O,renderValue:P,required:x,SelectDisplayProps:_={},tabIndex:$,type:R,value:M,variant:A="standard",...D}=t,[z,W]=Mr({controlled:M,default:d,name:"Select"}),[B,Y]=Mr({controlled:E,default:u,name:"Select"}),K=te(null),q=te(null),[N,V]=U(null),{current:ne}=te(E!=null),[Ce,ve]=U(),J=Lt(n,g),Se=Te(j=>{q.current=j,j&&V(j)},[]),we=N?.parentNode;vr(J,()=>({focus:()=>{q.current.focus()},node:K.current,value:z}),[z]),ae(()=>{u&&B&&N&&!ne&&(ve(s?null:we.clientWidth),q.current.focus())},[N,s]),ae(()=>{i&&q.current.focus()},[i]),ae(()=>{if(!v)return;const j=Zt(q.current).getElementById(v);if(j){const he=()=>{getSelection().isCollapsed&&q.current.focus()};return j.addEventListener("click",he),()=>{j.removeEventListener("click",he)}}},[v]);const Pe=(j,he)=>{j?I&&I(he):C&&C(he),ne||(ve(s?null:we.clientWidth),Y(j))},Re=j=>{j.button===0&&(j.preventDefault(),q.current.focus(),Pe(!0,j))},xe=j=>{Pe(!1,j)},Be=Vn.toArray(a),Le=j=>{const he=Be.find(Ke=>Ke.props.value===j.target.value);he!==void 0&&(W(he.props.value),k&&k(j,he))},le=j=>he=>{let Ke;if(he.currentTarget.hasAttribute("tabindex")){if(S){Ke=Array.isArray(z)?z.slice():[];const lt=z.indexOf(j.props.value);lt===-1?Ke.push(j.props.value):Ke.splice(lt,1)}else Ke=j.props.value;if(j.props.onClick&&j.props.onClick(he),z!==Ke&&(W(Ke),k)){const lt=he.nativeEvent||he,Qe=new lt.constructor(lt.type,lt);Object.defineProperty(Qe,"target",{writable:!0,value:{value:Ke,name:y}}),k(Qe,j)}S||Pe(!1,he)}},Xe=j=>{O||[" ","ArrowUp","ArrowDown","Enter"].includes(j.key)&&(j.preventDefault(),Pe(!0,j))},$e=N!==null&&B,Je=j=>{!$e&&w&&(Object.defineProperty(j,"target",{writable:!0,value:{value:z,name:y}}),w(j))};delete D["aria-invalid"];let ye,mt;const st=[];let fe=!1;(xl({value:z})||f)&&(P?ye=P(z):fe=!0);const ce=Be.map(j=>{if(!At(j))return null;let he;if(S){if(!Array.isArray(z))throw new Error(Ur(2));he=z.some(Ke=>um(Ke,j.props.value)),he&&fe&&st.push(j.props.children)}else he=um(z,j.props.value),he&&fe&&(mt=j.props.children);return $t(j,{"aria-selected":he?"true":"false",onClick:le(j),onKeyUp:Ke=>{Ke.key===" "&&Ke.preventDefault(),j.props.onKeyUp&&j.props.onKeyUp(Ke)},role:"option",selected:he,value:void 0,"data-value":j.props.value})});fe&&(S?st.length===0?ye=null:ye=st.reduce((j,he,Ke)=>(j.push(he),Ke<st.length-1&&j.push(", "),j),[]):ye=mt);let ge=Ce;!s&&ne&&N&&(ge=we.clientWidth);let Ae;typeof $<"u"?Ae=$:Ae=p?null:0;const Ne=_.id||(y?`mui-component-select-${y}`:void 0),Ee={...t,variant:A,value:z,open:$e,error:h},me=NP(Ee),L={...b.PaperProps,...typeof b.slotProps?.paper=="function"?b.slotProps.paper(Ee):b.slotProps?.paper},F={...b.MenuListProps,...typeof b.slotProps?.list=="function"?b.slotProps.list(Ee):b.slotProps?.list},H=Gr();return l(yt,{children:[l(AP,{as:"div",ref:Se,tabIndex:Ae,role:"combobox","aria-controls":$e?H:void 0,"aria-disabled":p?"true":void 0,"aria-expanded":$e?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[v,Ne].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":x?"true":void 0,"aria-invalid":h?"true":void 0,onKeyDown:Xe,onMouseDown:p||O?null:Re,onBlur:Je,onFocus:T,..._,ownerState:Ee,className:pe(_.className,me.select,c),id:Ne,children:LP(ye)?cm||(cm=l("span",{className:"notranslate","aria-hidden":!0,children:"â€‹"})):ye}),l(zP,{"aria-invalid":h,value:Array.isArray(z)?z.join(","):z,name:y,ref:K,"aria-hidden":!0,onChange:Le,tabIndex:-1,disabled:p,className:me.nativeInput,autoFocus:i,required:x,...D,ownerState:Ee}),l(DP,{as:m,className:me.icon,ownerState:Ee}),l(Qy,{id:`menu-${y||""}`,anchorEl:we,open:$e,onClose:xe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...b,slotProps:{...b.slotProps,list:{"aria-labelledby":v,role:"listbox","aria-multiselectable":S?"true":void 0,disableListWrap:!0,id:H,...F},paper:{...L,style:{minWidth:ge,...L!=null?L.style:null}}},children:ce})]})}),BP=e=>{const{classes:t}=e,r=Ue({root:["root"]},ob,t);return{...t,...r}},Ap={name:"MuiSelect",slot:"Root",shouldForwardProp:e=>vn(e)&&e!=="variant"},WP=G(Ep,Ap)(""),VP=G(Rp,Ap)(""),HP=G($p,Ap)(""),Pi=Oe(function(t,n){const r=Ge({name:"MuiSelect",props:t}),{autoWidth:o=!1,children:i,classes:s={},className:a,defaultOpen:c=!1,displayEmpty:u=!1,IconComponent:d=Hy,id:p,input:f,inputProps:h,label:m,labelId:g,MenuProps:v,multiple:b=!1,native:S=!1,onClose:y,onOpen:w,open:k,renderValue:C,SelectDisplayProps:T,variant:I="outlined",...E}=r,O=S?dP:FP,P=Nr(),x=ho({props:r,muiFormControl:P,states:["variant","error"]}),_=x.variant||I,$={...r,variant:_,classes:s},R=BP($),{root:M,...A}=R,D=f||{standard:l(WP,{ownerState:$}),outlined:l(VP,{label:m,ownerState:$}),filled:l(HP,{ownerState:$})}[_],z=Lt(n,Wo(D));return l(yt,{children:$t(D,{inputComponent:O,inputProps:{children:i,error:x.error,IconComponent:d,variant:_,type:void 0,multiple:b,...S?{id:p}:{autoWidth:o,defaultOpen:c,displayEmpty:u,labelId:g,MenuProps:v,onClose:y,onOpen:w,open:k,renderValue:C,SelectDisplayProps:{id:p,...T}},...h,classes:h?un(A,h.classes):A,...f?f.props.inputProps:{}},...(b&&S||u)&&_==="outlined"?{notched:!0}:{},ref:z,className:pe(D.props.className,a,R.root),...!f&&{variant:_},...E})})});Pi.muiName="Select";function UP(e,t,n=(r,o)=>r===o){return e.length===t.length&&e.every((r,o)=>n(r,t[o]))}const jP=2;function Jo(e,t,n,r,o){return n===1?Math.min(e+t,o):Math.max(e-t,r)}function ib(e,t){return e-t}function dm(e,t){const{index:n}=e.reduce((r,o,i)=>{const s=Math.abs(t-o);return r===null||s<r.distance||s===r.distance?{distance:s,index:i}:r},null)??{};return n}function Ta(e,t){if(t.current!==void 0&&e.changedTouches){const n=e;for(let r=0;r<n.changedTouches.length;r+=1){const o=n.changedTouches[r];if(o.identifier===t.current)return{x:o.clientX,y:o.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function _l(e,t,n){return(e-t)*100/(n-t)}function YP(e,t,n){return(n-t)*e+t}function GP(e){if(Math.abs(e)<1){const n=e.toExponential().split("e-"),r=n[0].split(".")[1];return(r?r.length:0)+parseInt(n[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}function KP(e,t,n){const r=Math.round((e-n)/t)*t+n;return Number(r.toFixed(GP(t)))}function pm({values:e,newValue:t,index:n}){const r=e.slice();return r[n]=t,r.sort(ib)}function Ia({sliderRef:e,activeIndex:t,setActive:n}){const r=Zt(e.current);(!e.current?.contains(r.activeElement)||Number(r?.activeElement?.getAttribute("data-index"))!==t)&&e.current?.querySelector(`[type="range"][data-index="${t}"]`).focus(),n&&n(t)}function $a(e,t){return typeof e=="number"&&typeof t=="number"?e===t:typeof e=="object"&&typeof t=="object"?UP(e,t):!1}const ZP={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},qP=e=>e;let Ea;function fm(){return Ea===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?Ea=CSS.supports("touch-action","none"):Ea=!0),Ea}function XP(e){const{"aria-labelledby":t,defaultValue:n,disabled:r=!1,disableSwap:o=!1,isRtl:i=!1,marks:s=!1,max:a=100,min:c=0,name:u,onChange:d,onChangeCommitted:p,orientation:f="horizontal",rootRef:h,scale:m=qP,step:g=1,shiftStep:v=10,tabIndex:b,value:S}=e,y=te(void 0),[w,k]=U(-1),[C,T]=U(-1),[I,E]=U(!1),O=te(0),P=te(null),[x,_]=Mr({controlled:S,default:n??c,name:"Slider"}),$=d&&((fe,ce,ge)=>{const Ae=fe.nativeEvent||fe,Ne=new Ae.constructor(Ae.type,Ae);Object.defineProperty(Ne,"target",{writable:!0,value:{value:ce,name:u}}),P.current=ce,d(Ne,ce,ge)}),R=Array.isArray(x);let M=R?x.slice().sort(ib):[x];M=M.map(fe=>fe==null?c:ni(fe,c,a));const A=s===!0&&g!==null?[...Array(Math.floor((a-c)/g)+1)].map((fe,ce)=>({value:c+g*ce})):s||[],D=A.map(fe=>fe.value),[z,W]=U(-1),B=te(null),Y=Lt(h,B),K=fe=>ce=>{const ge=Number(ce.currentTarget.getAttribute("data-index"));_i(ce.target)&&W(ge),T(ge),fe?.onFocus?.(ce)},q=fe=>ce=>{_i(ce.target)||W(-1),T(-1),fe?.onBlur?.(ce)},N=(fe,ce)=>{const ge=Number(fe.currentTarget.getAttribute("data-index")),Ae=M[ge],Ne=D.indexOf(Ae);let Ee=ce;if(A&&g==null){const me=D[D.length-1];Ee>=me?Ee=me:Ee<=D[0]?Ee=D[0]:Ee=Ee<Ae?D[Ne-1]:D[Ne+1]}if(Ee=ni(Ee,c,a),R){o&&(Ee=ni(Ee,M[ge-1]||-1/0,M[ge+1]||1/0));const me=Ee;Ee=pm({values:M,newValue:Ee,index:ge});let L=ge;o||(L=Ee.indexOf(me)),Ia({sliderRef:B,activeIndex:L})}_(Ee),W(ge),$&&!$a(Ee,x)&&$(fe,Ee,ge),p&&p(fe,P.current??Ee)},V=fe=>ce=>{if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(ce.key)){ce.preventDefault();const ge=Number(ce.currentTarget.getAttribute("data-index")),Ae=M[ge];let Ne=null;if(g!=null){const Ee=ce.shiftKey?v:g;switch(ce.key){case"ArrowUp":Ne=Jo(Ae,Ee,1,c,a);break;case"ArrowRight":Ne=Jo(Ae,Ee,i?-1:1,c,a);break;case"ArrowDown":Ne=Jo(Ae,Ee,-1,c,a);break;case"ArrowLeft":Ne=Jo(Ae,Ee,i?1:-1,c,a);break;case"PageUp":Ne=Jo(Ae,v,1,c,a);break;case"PageDown":Ne=Jo(Ae,v,-1,c,a);break;case"Home":Ne=c;break;case"End":Ne=a;break}}else if(A){const Ee=D[D.length-1],me=D.indexOf(Ae),L=[i?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],F=[i?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];L.includes(ce.key)?me===0?Ne=D[0]:Ne=D[me-1]:F.includes(ce.key)&&(me===D.length-1?Ne=Ee:Ne=D[me+1])}Ne!=null&&N(ce,Ne)}fe?.onKeyDown?.(ce)};In(()=>{r&&B.current.contains(document.activeElement)&&document.activeElement?.blur()},[r]),r&&w!==-1&&k(-1),r&&z!==-1&&W(-1);const ne=fe=>ce=>{fe.onChange?.(ce),N(ce,ce.target.valueAsNumber)},Ce=te(void 0);let ve=f;i&&f==="horizontal"&&(ve+="-reverse");const J=({finger:fe,move:ce=!1})=>{const{current:ge}=B,{width:Ae,height:Ne,bottom:Ee,left:me}=ge.getBoundingClientRect();let L;ve.startsWith("vertical")?L=(Ee-fe.y)/Ne:L=(fe.x-me)/Ae,ve.includes("-reverse")&&(L=1-L);let F;if(F=YP(L,c,a),g)F=KP(F,g,c);else{const j=dm(D,F);F=D[j]}F=ni(F,c,a);let H=0;if(R){ce?H=Ce.current:H=dm(M,F),o&&(F=ni(F,M[H-1]||-1/0,M[H+1]||1/0));const j=F;F=pm({values:M,newValue:F,index:H}),o&&ce||(H=F.indexOf(j),Ce.current=H)}return{newValue:F,activeIndex:H}},Se=en(fe=>{const ce=Ta(fe,y);if(!ce)return;if(O.current+=1,fe.type==="mousemove"&&fe.buttons===0){we(fe);return}const{newValue:ge,activeIndex:Ae}=J({finger:ce,move:!0});Ia({sliderRef:B,activeIndex:Ae,setActive:k}),_(ge),!I&&O.current>jP&&E(!0),$&&!$a(ge,x)&&$(fe,ge,Ae)}),we=en(fe=>{const ce=Ta(fe,y);if(E(!1),!ce)return;const{newValue:ge}=J({finger:ce,move:!0});k(-1),fe.type==="touchend"&&T(-1),p&&p(fe,P.current??ge),y.current=void 0,Re()}),Pe=en(fe=>{if(r)return;fm()||fe.preventDefault();const ce=fe.changedTouches[0];ce!=null&&(y.current=ce.identifier);const ge=Ta(fe,y);if(ge!==!1){const{newValue:Ne,activeIndex:Ee}=J({finger:ge});Ia({sliderRef:B,activeIndex:Ee,setActive:k}),_(Ne),$&&!$a(Ne,x)&&$(fe,Ne,Ee)}O.current=0;const Ae=Zt(B.current);Ae.addEventListener("touchmove",Se,{passive:!0}),Ae.addEventListener("touchend",we,{passive:!0})}),Re=Te(()=>{const fe=Zt(B.current);fe.removeEventListener("mousemove",Se),fe.removeEventListener("mouseup",we),fe.removeEventListener("touchmove",Se),fe.removeEventListener("touchend",we)},[we,Se]);ae(()=>{const{current:fe}=B;return fe.addEventListener("touchstart",Pe,{passive:fm()}),()=>{fe.removeEventListener("touchstart",Pe),Re()}},[Re,Pe]),ae(()=>{r&&Re()},[r,Re]);const xe=fe=>ce=>{if(fe.onMouseDown?.(ce),r||ce.defaultPrevented||ce.button!==0)return;ce.preventDefault();const ge=Ta(ce,y);if(ge!==!1){const{newValue:Ne,activeIndex:Ee}=J({finger:ge});Ia({sliderRef:B,activeIndex:Ee,setActive:k}),_(Ne),$&&!$a(Ne,x)&&$(ce,Ne,Ee)}O.current=0;const Ae=Zt(B.current);Ae.addEventListener("mousemove",Se,{passive:!0}),Ae.addEventListener("mouseup",we)},Be=_l(R?M[0]:c,c,a),Le=_l(M[M.length-1],c,a)-Be,le=(fe={})=>{const ce=Ss(fe),ge={onMouseDown:xe(ce||{})},Ae={...ce,...ge};return{...fe,ref:Y,...Ae}},Xe=fe=>ce=>{fe.onMouseOver?.(ce);const ge=Number(ce.currentTarget.getAttribute("data-index"));T(ge)},$e=fe=>ce=>{fe.onMouseLeave?.(ce),T(-1)},Je=(fe={})=>{const ce=Ss(fe),ge={onMouseOver:Xe(ce||{}),onMouseLeave:$e(ce||{})};return{...fe,...ce,...ge}},ye=fe=>({pointerEvents:w!==-1&&w!==fe?"none":void 0});let mt;return f==="vertical"&&(mt=i?"vertical-rl":"vertical-lr"),{active:w,axis:ve,axisProps:ZP,dragging:I,focusedThumbIndex:z,getHiddenInputProps:(fe={})=>{const ce=Ss(fe),ge={onChange:ne(ce||{}),onFocus:K(ce||{}),onBlur:q(ce||{}),onKeyDown:V(ce||{})},Ae={...ce,...ge};return{tabIndex:b,"aria-labelledby":t,"aria-orientation":f,"aria-valuemax":m(a),"aria-valuemin":m(c),name:u,type:"range",min:e.min,max:e.max,step:e.step===null&&e.marks?"any":e.step??void 0,disabled:r,...fe,...Ae,style:{...RP,direction:i?"rtl":"ltr",width:"100%",height:"100%",writingMode:mt}}},getRootProps:le,getThumbProps:Je,marks:A,open:C,range:R,rootRef:Y,trackLeap:Le,trackOffset:Be,values:M,getThumbStyle:ye}}const JP=e=>!e||!ro(e);function QP(e){return He("MuiSlider",e)}const Jn=Ye("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),eM=e=>{const{open:t}=e;return{offset:pe(t&&Jn.valueLabelOpen),circle:Jn.valueLabelCircle,label:Jn.valueLabelLabel}};function tM(e){const{children:t,className:n,value:r}=e,o=eM(e);return t?$t(t,{className:t.props.className},l(yt,{children:[t.props.children,l("span",{className:pe(o.offset,n),"aria-hidden":!0,children:l("span",{className:o.circle,children:l("span",{className:o.label,children:r})})})]})):null}function hm(e){return e}const nM=G("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${Z(n.color)}`],n.size!=="medium"&&t[`size${Z(n.size)}`],n.marked&&t.marked,n.orientation==="vertical"&&t.vertical,n.track==="inverted"&&t.trackInverted,n.track===!1&&t.trackFalse]}})(ze(({theme:e})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${Jn.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${Jn.dragging}`]:{[`& .${Jn.thumb}, & .${Jn.track}`]:{transition:"none"}},variants:[...Object.entries(e.palette).filter(It()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),rM=G("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),oM=G("span",{name:"MuiSlider",slot:"Track"})(ze(({theme:e})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(e.palette).filter(It()).map(([t])=>({props:{color:t,track:"inverted"},style:{...e.vars?{backgroundColor:e.vars.palette.Slider[`${t}Track`],borderColor:e.vars.palette.Slider[`${t}Track`]}:{backgroundColor:e.lighten(e.palette[t].main,.62),borderColor:e.lighten(e.palette[t].main,.62),...e.applyStyles("dark",{backgroundColor:e.darken(e.palette[t].main,.5)}),...e.applyStyles("dark",{borderColor:e.darken(e.palette[t].main,.5)})}}}))]}))),iM=G("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.thumb,t[`thumbColor${Z(n.color)}`],n.size!=="medium"&&t[`thumbSize${Z(n.size)}`]]}})(ze(({theme:e})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${Jn.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(e.palette).filter(It()).map(([t])=>({props:{color:t},style:{[`&:hover, &.${Jn.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${e.alpha((e.vars||e).palette[t].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${Jn.active}`]:{boxShadow:`0px 0px 0px 14px ${e.alpha((e.vars||e).palette[t].main,.16)}`}}}))]}))),sM=G(tM,{name:"MuiSlider",slot:"ValueLabel"})(ze(({theme:e})=>({zIndex:1,whiteSpace:"nowrap",...e.typography.body2,fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${Jn.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${Jn.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),aM=G("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>lc(e)&&e!=="markActive",overridesResolver:(e,t)=>{const{markActive:n}=e;return[t.mark,n&&t.markActive]}})(ze(({theme:e})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8}}]}))),lM=G("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>lc(e)&&e!=="markLabelActive"})(ze(({theme:e})=>({...e.typography.body2,color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(e.vars||e).palette.text.primary}}]}))),cM=e=>{const{disabled:t,dragging:n,marked:r,orientation:o,track:i,classes:s,color:a,size:c}=e,u={root:["root",t&&"disabled",n&&"dragging",r&&"marked",o==="vertical"&&"vertical",i==="inverted"&&"trackInverted",i===!1&&"trackFalse",a&&`color${Z(a)}`,c&&`size${Z(c)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",c&&`thumbSize${Z(c)}`,a&&`thumbColor${Z(a)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Ue(u,QP,s)},uM=({children:e})=>e,dM=Oe(function(t,n){const r=Ge({props:t,name:"MuiSlider"}),o=Bo(),{"aria-label":i,"aria-valuetext":s,"aria-labelledby":a,component:c="span",components:u={},componentsProps:d={},color:p="primary",classes:f,className:h,disableSwap:m=!1,disabled:g=!1,getAriaLabel:v,getAriaValueText:b,marks:S=!1,max:y=100,min:w=0,name:k,onChange:C,onChangeCommitted:T,orientation:I="horizontal",shiftStep:E=10,size:O="medium",step:P=1,scale:x=hm,slotProps:_,slots:$,tabIndex:R,track:M="normal",value:A,valueLabelDisplay:D="off",valueLabelFormat:z=hm,...W}=r,B={...r,isRtl:o,max:y,min:w,classes:f,disabled:g,disableSwap:m,orientation:I,marks:S,color:p,size:O,step:P,shiftStep:E,scale:x,track:M,valueLabelDisplay:D,valueLabelFormat:z},{axisProps:Y,getRootProps:K,getHiddenInputProps:q,getThumbProps:N,open:V,active:ne,axis:Ce,focusedThumbIndex:ve,range:J,dragging:Se,marks:we,values:Pe,trackOffset:Re,trackLeap:xe,getThumbStyle:Be}=XP({...B,rootRef:n});B.marked=we.length>0&&we.some(re=>re.label),B.dragging=Se,B.focusedThumbIndex=ve;const Le=cM(B),le=$?.root??u.Root??nM,Xe=$?.rail??u.Rail??rM,$e=$?.track??u.Track??oM,Je=$?.thumb??u.Thumb??iM,ye=$?.valueLabel??u.ValueLabel??sM,mt=$?.mark??u.Mark??aM,st=$?.markLabel??u.MarkLabel??lM,fe=$?.input??u.Input??"input",ce=_?.root??d.root,ge=_?.rail??d.rail,Ae=_?.track??d.track,Ne=_?.thumb??d.thumb,Ee=_?.valueLabel??d.valueLabel,me=_?.mark??d.mark,L=_?.markLabel??d.markLabel,F=_?.input??d.input,H=$n({elementType:le,getSlotProps:K,externalSlotProps:ce,externalForwardedProps:W,additionalProps:{...JP(le)&&{as:c}},ownerState:{...B,...ce?.ownerState},className:[Le.root,h]}),j=$n({elementType:Xe,externalSlotProps:ge,ownerState:B,className:Le.rail}),he=$n({elementType:$e,externalSlotProps:Ae,additionalProps:{style:{...Y[Ce].offset(Re),...Y[Ce].leap(xe)}},ownerState:{...B,...Ae?.ownerState},className:Le.track}),Ke=$n({elementType:Je,getSlotProps:N,externalSlotProps:Ne,ownerState:{...B,...Ne?.ownerState},className:Le.thumb}),lt=$n({elementType:ye,externalSlotProps:Ee,ownerState:{...B,...Ee?.ownerState},className:Le.valueLabel}),Qe=$n({elementType:mt,externalSlotProps:me,ownerState:B,className:Le.mark}),be=$n({elementType:st,externalSlotProps:L,ownerState:B,className:Le.markLabel}),ke=$n({elementType:fe,getSlotProps:q,externalSlotProps:F,ownerState:B});return l(le,{...H,children:[l(Xe,{...j}),l($e,{...he}),we.filter(re=>re.value>=w&&re.value<=y).map((re,ue)=>{const We=_l(re.value,w,y),nt=Y[Ce].offset(We);let et;return M===!1?et=Pe.includes(re.value):et=M==="normal"&&(J?re.value>=Pe[0]&&re.value<=Pe[Pe.length-1]:re.value<=Pe[0])||M==="inverted"&&(J?re.value<=Pe[0]||re.value>=Pe[Pe.length-1]:re.value>=Pe[0]),l(yt,{children:[l(mt,{"data-index":ue,...Qe,...!ro(mt)&&{markActive:et},style:{...nt,...Qe.style},className:pe(Qe.className,et&&Le.markActive)}),re.label!=null?l(st,{"aria-hidden":!0,"data-index":ue,...be,...!ro(st)&&{markLabelActive:et},style:{...nt,...be.style},className:pe(Le.markLabel,be.className,et&&Le.markLabelActive),children:re.label}):null]},ue)}),Pe.map((re,ue)=>{const We=_l(re,w,y),nt=Y[Ce].offset(We),et=D==="off"?uM:ye;return l(et,{...!ro(et)&&{valueLabelFormat:z,valueLabelDisplay:D,value:typeof z=="function"?z(x(re),ue):z,index:ue,open:V===ue||ne===ue||D==="on",disabled:g},...lt,children:l(Je,{"data-index":ue,...Ke,className:pe(Le.thumb,Ke.className,ne===ue&&Le.active,ve===ue&&Le.focusVisible),style:{...nt,...Be(ue),...Ke.style},children:l(fe,{"data-index":ue,"aria-label":v?v(ue):i,"aria-valuenow":x(re),"aria-labelledby":a,"aria-valuetext":b?b(x(re),ue):s,value:Pe[ue],...ke})})},ue)})]})});function pM(e){return He("MuiTooltip",e)}const Ht=Ye("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function fM(e){return Math.round(e*1e5)/1e5}const hM=e=>{const{classes:t,disableInteractive:n,arrow:r,touch:o,placement:i}=e,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",o&&"touch",`tooltipPlacement${Z(i.split("-")[0])}`],arrow:["arrow"]};return Ue(s,pM,t)},mM=G(ca,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(ze(({theme:e})=>({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:t})=>!t.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:t})=>!t,style:{pointerEvents:"none"}},{props:({ownerState:t})=>t.arrow,style:{[`&[data-popper-placement*="bottom"] .${Ht.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Ht.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Ht.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${Ht.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:t})=>t.arrow&&!t.isRtl,style:{[`&[data-popper-placement*="right"] .${Ht.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!!t.isRtl,style:{[`&[data-popper-placement*="right"] .${Ht.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!t.isRtl,style:{[`&[data-popper-placement*="left"] .${Ht.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!!t.isRtl,style:{[`&[data-popper-placement*="left"] .${Ht.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),gM=G("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${Z(n.placement.split("-")[0])}`]]}})(ze(({theme:e})=>({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:e.alpha(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium,[`.${Ht.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${Ht.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${Ht.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${Ht.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:t})=>t.arrow,style:{position:"relative",margin:0}},{props:({ownerState:t})=>t.touch,style:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${fM(16/14)}em`,fontWeight:e.typography.fontWeightRegular}},{props:({ownerState:t})=>!t.isRtl,style:{[`.${Ht.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${Ht.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:t})=>!t.isRtl&&t.touch,style:{[`.${Ht.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${Ht.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:t})=>!!t.isRtl,style:{[`.${Ht.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${Ht.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:t})=>!!t.isRtl&&t.touch,style:{[`.${Ht.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${Ht.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:t})=>t.touch,style:{[`.${Ht.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:t})=>t.touch,style:{[`.${Ht.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),vM=G("span",{name:"MuiTooltip",slot:"Arrow"})(ze(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:e.alpha(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let Pa=!1;const mm=new uc;let rs={x:0,y:0};function Ma(e,t){return(n,...r)=>{t&&t(n,...r),e(n,...r)}}const vt=Oe(function(t,n){const r=Ge({props:t,name:"MuiTooltip"}),{arrow:o=!1,children:i,classes:s,components:a={},componentsProps:c={},describeChild:u=!1,disableFocusListener:d=!1,disableHoverListener:p=!1,disableInteractive:f=!1,disableTouchListener:h=!1,enterDelay:m=100,enterNextDelay:g=0,enterTouchDelay:v=700,followCursor:b=!1,id:S,leaveDelay:y=0,leaveTouchDelay:w=1500,onClose:k,onOpen:C,open:T,placement:I="bottom",PopperComponent:E,PopperProps:O={},slotProps:P={},slots:x={},title:_,TransitionComponent:$,TransitionProps:R,...M}=r,A=At(i)?i:l("span",{children:i}),D=po(),z=Bo(),[W,B]=U(),[Y,K]=U(null),q=te(!1),N=f||b,V=Io(),ne=Io(),Ce=Io(),ve=Io(),[J,Se]=Mr({controlled:T,default:!1,name:"Tooltip",state:"open"});let we=J;const Pe=Gr(S),Re=te(),xe=en(()=>{Re.current!==void 0&&(document.body.style.WebkitUserSelect=Re.current,Re.current=void 0),ve.clear()});ae(()=>xe,[xe]);const Be=Fe=>{mm.clear(),Pa=!0,Se(!0),C&&!we&&C(Fe)},Le=en(Fe=>{mm.start(800+y,()=>{Pa=!1}),Se(!1),k&&we&&k(Fe),V.start(D.transitions.duration.shortest,()=>{q.current=!1})}),le=Fe=>{q.current&&Fe.type!=="touchstart"||(W&&W.removeAttribute("title"),ne.clear(),Ce.clear(),m||Pa&&g?ne.start(Pa?g:m,()=>{Be(Fe)}):Be(Fe))},Xe=Fe=>{ne.clear(),Ce.start(y,()=>{Le(Fe)})},[,$e]=U(!1),Je=Fe=>{_i(Fe.target)||($e(!1),Xe(Fe))},ye=Fe=>{W||B(Fe.currentTarget),_i(Fe.target)&&($e(!0),le(Fe))},mt=Fe=>{q.current=!0;const wt=A.props;wt.onTouchStart&&wt.onTouchStart(Fe)},st=Fe=>{mt(Fe),Ce.clear(),V.clear(),xe(),Re.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ve.start(v,()=>{document.body.style.WebkitUserSelect=Re.current,le(Fe)})},fe=Fe=>{A.props.onTouchEnd&&A.props.onTouchEnd(Fe),xe(),Ce.start(w,()=>{Le(Fe)})};ae(()=>{if(!we)return;function Fe(wt){wt.key==="Escape"&&Le(wt)}return document.addEventListener("keydown",Fe),()=>{document.removeEventListener("keydown",Fe)}},[Le,we]);const ce=Lt(Wo(A),B,n);!_&&_!==0&&(we=!1);const ge=te(),Ae=Fe=>{const wt=A.props;wt.onMouseMove&&wt.onMouseMove(Fe),rs={x:Fe.clientX,y:Fe.clientY},ge.current&&ge.current.update()},Ne={},Ee=typeof _=="string";u?(Ne.title=!we&&Ee&&!p?_:null,Ne["aria-describedby"]=we?Pe:null):(Ne["aria-label"]=Ee?_:null,Ne["aria-labelledby"]=we&&!Ee?Pe:null);const me={...Ne,...M,...A.props,className:pe(M.className,A.props.className),onTouchStart:mt,ref:ce,...b?{onMouseMove:Ae}:{}},L={};h||(me.onTouchStart=st,me.onTouchEnd=fe),p||(me.onMouseOver=Ma(le,me.onMouseOver),me.onMouseLeave=Ma(Xe,me.onMouseLeave),N||(L.onMouseOver=le,L.onMouseLeave=Xe)),d||(me.onFocus=Ma(ye,me.onFocus),me.onBlur=Ma(Je,me.onBlur),N||(L.onFocus=ye,L.onBlur=Je));const F={...r,isRtl:z,arrow:o,disableInteractive:N,placement:I,PopperComponentProp:E,touch:q.current},H=typeof P.popper=="function"?P.popper(F):P.popper,j=ie(()=>{let Fe=[{name:"arrow",enabled:!!Y,options:{element:Y,padding:4}}];return O.popperOptions?.modifiers&&(Fe=Fe.concat(O.popperOptions.modifiers)),H?.popperOptions?.modifiers&&(Fe=Fe.concat(H.popperOptions.modifiers)),{...O.popperOptions,...H?.popperOptions,modifiers:Fe}},[Y,O.popperOptions,H?.popperOptions]),he=hM(F),Ke=typeof P.transition=="function"?P.transition(F):P.transition,lt={slots:{popper:a.Popper,transition:a.Transition??$,tooltip:a.Tooltip,arrow:a.Arrow,...x},slotProps:{arrow:P.arrow??c.arrow,popper:{...O,...H??c.popper},tooltip:P.tooltip??c.tooltip,transition:{...R,...Ke??c.transition}}},[Qe,be]=je("popper",{elementType:mM,externalForwardedProps:lt,ownerState:F,className:pe(he.popper,O?.className)}),[ke,re]=je("transition",{elementType:kl,externalForwardedProps:lt,ownerState:F}),[ue,We]=je("tooltip",{elementType:gM,className:he.tooltip,externalForwardedProps:lt,ownerState:F}),[nt,et]=je("arrow",{elementType:vM,className:he.arrow,externalForwardedProps:lt,ownerState:F,ref:K});return l(yt,{children:[$t(A,me),l(Qe,{as:E??ca,placement:I,anchorEl:b?{getBoundingClientRect:()=>({top:rs.y,left:rs.x,right:rs.x,bottom:rs.y,width:0,height:0})}:W,popperRef:ge,open:W?we:!1,id:Pe,transition:!0,...L,...be,popperOptions:j,children:({TransitionProps:Fe})=>l(ke,{timeout:D.transitions.duration.shorter,...Fe,...re,children:l(ue,{...We,children:[_,o?l(nt,{...et}):null]})})})]})}),qe=yC({createStyledComponent:G("div",{name:"MuiStack",slot:"Root"}),useThemeProps:e=>Ge({props:e,name:"MuiStack"})});function yM(e){return He("MuiSwitch",e)}const _n=Ye("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),bM=e=>{const{classes:t,edge:n,size:r,color:o,checked:i,disabled:s}=e,a={root:["root",n&&`edge${Z(n)}`,`size${Z(r)}`],switchBase:["switchBase",`color${Z(o)}`,i&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},c=Ue(a,yM,t);return{...t,...c}},wM=G("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${Z(n.edge)}`],t[`size${Z(n.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${_n.thumb}`]:{width:16,height:16},[`& .${_n.switchBase}`]:{padding:4,[`&.${_n.checked}`]:{transform:"translateX(16px)"}}}}]}),SM=G(Ip,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${_n.input}`]:t.input},n.color!=="default"&&t[`color${Z(n.color)}`]]}})(ze(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${_n.checked}`]:{transform:"translateX(20px)"},[`&.${_n.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${_n.checked} + .${_n.track}`]:{opacity:.5},[`&.${_n.disabled} + .${_n.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${_n.input}`]:{left:"-100%",width:"300%"}})),ze(({theme:e})=>({"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(It(["light"])).map(([t])=>({props:{color:t},style:{[`&.${_n.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${_n.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?e.lighten(e.palette[t].main,.62):e.darken(e.palette[t].main,.55)}`}},[`&.${_n.checked} + .${_n.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]}))),xM=G("span",{name:"MuiSwitch",slot:"Track"})(ze(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`}))),CM=G("span",{name:"MuiSwitch",slot:"Thumb"})(ze(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),sl=Oe(function(t,n){const r=Ge({props:t,name:"MuiSwitch"}),{className:o,color:i="primary",edge:s=!1,size:a="medium",sx:c,slots:u={},slotProps:d={},...p}=r,f={...r,color:i,edge:s,size:a},h=bM(f),m={slots:u,slotProps:d},[g,v]=je("root",{className:pe(h.root,o),elementType:wM,externalForwardedProps:m,ownerState:f,additionalProps:{sx:c}}),[b,S]=je("thumb",{className:h.thumb,elementType:CM,externalForwardedProps:m,ownerState:f}),y=l(b,{...S}),[w,k]=je("track",{className:h.track,elementType:xM,externalForwardedProps:m,ownerState:f});return l(g,{...v,children:[l(SM,{type:"checkbox",icon:y,checkedIcon:y,ref:n,ownerState:f,...p,classes:{...h,root:h.switchBase},slots:{...u.switchBase&&{root:u.switchBase},...u.input&&{input:u.input}},slotProps:{...d.switchBase&&{root:typeof d.switchBase=="function"?d.switchBase(f):d.switchBase},input:{role:"switch"},...d.input&&{input:typeof d.input=="function"?d.input(f):d.input}}}),l(w,{...k})]})});function kM(e){return He("MuiTab",e)}const jn=Ye("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),_M=e=>{const{classes:t,textColor:n,fullWidth:r,wrapped:o,icon:i,label:s,selected:a,disabled:c}=e,u={root:["root",i&&s&&"labelIcon",`textColor${Z(n)}`,r&&"fullWidth",o&&"wrapped",a&&"selected",c&&"disabled"],icon:["iconWrapper","icon"]};return Ue(u,kM,t)},TM=G(Ar,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${Z(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{[`& .${jn.iconWrapper}`]:t.iconWrapper},{[`& .${jn.icon}`]:t.icon}]}})(ze(({theme:e})=>({...e.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:t})=>t.label&&(t.iconPosition==="top"||t.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:t})=>t.label&&t.iconPosition!=="top"&&t.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:t})=>t.icon&&t.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="top",style:{[`& > .${jn.icon}`]:{marginBottom:6}}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="bottom",style:{[`& > .${jn.icon}`]:{marginTop:6}}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="start",style:{[`& > .${jn.icon}`]:{marginRight:e.spacing(1)}}},{props:({ownerState:t,iconPosition:n})=>t.icon&&t.label&&n==="end",style:{[`& > .${jn.icon}`]:{marginLeft:e.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${jn.selected}`]:{opacity:1},[`&.${jn.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${jn.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${jn.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${jn.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${jn.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:({ownerState:t})=>t.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:t})=>t.wrapped,style:{fontSize:e.typography.pxToRem(12)}}]}))),Oa=Oe(function(t,n){const r=Ge({props:t,name:"MuiTab"}),{className:o,disabled:i=!1,disableFocusRipple:s=!1,fullWidth:a,icon:c,iconPosition:u="top",indicator:d,label:p,onChange:f,onClick:h,onFocus:m,selected:g,selectionFollowsFocus:v,textColor:b="inherit",value:S,wrapped:y=!1,...w}=r,k={...r,disabled:i,disableFocusRipple:s,selected:g,icon:!!c,iconPosition:u,label:!!p,fullWidth:a,textColor:b,wrapped:y},C=_M(k),T=c&&p&&At(c)?$t(c,{className:pe(C.icon,c.props.className)}):c,I=O=>{!g&&f&&f(O,S),h&&h(O)},E=O=>{v&&!g&&f&&f(O,S),m&&m(O)};return l(TM,{focusRipple:!s,className:pe(C.root,o),ref:n,role:"tab","aria-selected":g,disabled:i,onClick:I,onFocus:E,ownerState:k,tabIndex:g?0:-1,...w,children:[u==="top"||u==="start"?l(yt,{children:[T,p]}):l(yt,{children:[p,T]}),d]})}),sb=Ut();function IM(e){return He("MuiTable",e)}Ye("MuiTable",["root","stickyHeader"]);const $M=e=>{const{classes:t,stickyHeader:n}=e;return Ue({root:["root",n&&"stickyHeader"]},IM,t)},EM=G("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})(ze(({theme:e})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...e.typography.body2,padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:t})=>t.stickyHeader,style:{borderCollapse:"separate"}}]}))),gm="table",PM=Oe(function(t,n){const r=Ge({props:t,name:"MuiTable"}),{className:o,component:i=gm,padding:s="normal",size:a="medium",stickyHeader:c=!1,...u}=r,d={...r,component:i,padding:s,size:a,stickyHeader:c},p=$M(d),f=ie(()=>({padding:s,size:a,stickyHeader:c}),[s,a,c]);return l(sb.Provider,{value:f,children:l(EM,{as:i,role:i===gm?null:"table",ref:n,className:pe(p.root,o),ownerState:d,...u})})}),_c=Ut();function MM(e){return He("MuiTableBody",e)}Ye("MuiTableBody",["root"]);const OM=e=>{const{classes:t}=e;return Ue({root:["root"]},MM,t)},RM=G("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),AM={variant:"body"},vm="tbody",DM=Oe(function(t,n){const r=Ge({props:t,name:"MuiTableBody"}),{className:o,component:i=vm,...s}=r,a={...r,component:i},c=OM(a);return l(_c.Provider,{value:AM,children:l(RM,{className:pe(c.root,o),as:i,ref:n,role:i===vm?null:"rowgroup",ownerState:a,...s})})});function zM(e){return He("MuiTableCell",e)}const LM=Ye("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),NM=e=>{const{classes:t,variant:n,align:r,padding:o,size:i,stickyHeader:s}=e,a={root:["root",n,s&&"stickyHeader",r!=="inherit"&&`align${Z(r)}`,o!=="normal"&&`padding${Z(o)}`,`size${Z(i)}`]};return Ue(a,zM,t)},FM=G("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${Z(n.size)}`],n.padding!=="normal"&&t[`padding${Z(n.padding)}`],n.align!=="inherit"&&t[`align${Z(n.align)}`],n.stickyHeader&&t.stickyHeader]}})(ze(({theme:e})=>({...e.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?e.lighten(e.alpha(e.palette.divider,1),.88):e.darken(e.alpha(e.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(e.vars||e).palette.text.primary}},{props:{variant:"footer"},style:{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${LM.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:t})=>t.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}}]}))),ab=Oe(function(t,n){const r=Ge({props:t,name:"MuiTableCell"}),{align:o="inherit",className:i,component:s,padding:a,scope:c,size:u,sortDirection:d,variant:p,...f}=r,h=bt(sb),m=bt(_c),g=m&&m.variant==="head";let v;s?v=s:v=g?"th":"td";let b=c;v==="td"?b=void 0:!b&&g&&(b="col");const S=p||m&&m.variant,y={...r,align:o,component:v,padding:a||(h&&h.padding?h.padding:"normal"),size:u||(h&&h.size?h.size:"medium"),sortDirection:d,stickyHeader:S==="head"&&h&&h.stickyHeader,variant:S},w=NM(y);let k=null;return d&&(k=d==="asc"?"ascending":"descending"),l(FM,{as:v,ref:n,className:pe(w.root,i),"aria-sort":k,scope:b,ownerState:y,...f})});function BM(e){return He("MuiTableHead",e)}Ye("MuiTableHead",["root"]);const WM=e=>{const{classes:t}=e;return Ue({root:["root"]},BM,t)},VM=G("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),HM={variant:"head"},ym="thead",UM=Oe(function(t,n){const r=Ge({props:t,name:"MuiTableHead"}),{className:o,component:i=ym,...s}=r,a={...r,component:i},c=WM(a);return l(_c.Provider,{value:HM,children:l(VM,{as:i,className:pe(c.root,o),ref:n,role:i===ym?null:"rowgroup",ownerState:a,...s})})}),jM=rt(l("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),YM=rt(l("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function GM(e){return He("MuiTableRow",e)}const bm=Ye("MuiTableRow",["root","selected","hover","head","footer"]),KM=e=>{const{classes:t,selected:n,hover:r,head:o,footer:i}=e;return Ue({root:["root",n&&"selected",r&&"hover",o&&"head",i&&"footer"]},GM,t)},ZM=G("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})(ze(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${bm.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${bm.selected}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`)}}}))),wm="tr",lb=Oe(function(t,n){const r=Ge({props:t,name:"MuiTableRow"}),{className:o,component:i=wm,hover:s=!1,selected:a=!1,...c}=r,u=bt(_c),d={...r,component:i,hover:s,selected:a,head:u&&u.variant==="head",footer:u&&u.variant==="footer"},p=KM(d);return l(ZM,{as:i,ref:n,className:pe(p.root,o),role:i===wm?null:"row",ownerState:d,...c})});function qM(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function XM(e,t,n,r={},o=()=>{}){const{ease:i=qM,duration:s=300}=r;let a=null;const c=t[e];let u=!1;const d=()=>{u=!0},p=f=>{if(u){o(new Error("Animation cancelled"));return}a===null&&(a=f);const h=Math.min(1,(f-a)/s);if(t[e]=i(h)*(n-c)+c,h>=1){requestAnimationFrame(()=>{o(null)});return}requestAnimationFrame(p)};return c===n?(o(new Error("Element already at target position")),d):(requestAnimationFrame(p),d)}const JM={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function QM(e){const{onChange:t,...n}=e,r=te(),o=te(null),i=()=>{r.current=o.current.offsetHeight-o.current.clientHeight};return In(()=>{const s=cc(()=>{const c=r.current;i(),c!==r.current&&t(r.current)}),a=mr(o.current);return a.addEventListener("resize",s),()=>{s.clear(),a.removeEventListener("resize",s)}},[t]),ae(()=>{i(),t(r.current)},[t]),l("div",{style:JM,...n,ref:o})}function e2(e){return He("MuiTabScrollButton",e)}const t2=Ye("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),n2=e=>{const{classes:t,orientation:n,disabled:r}=e;return Ue({root:["root",n,r&&"disabled"]},e2,t)},r2=G(Ar,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${t2.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),o2=Oe(function(t,n){const r=Ge({props:t,name:"MuiTabScrollButton"}),{className:o,slots:i={},slotProps:s={},direction:a,orientation:c,disabled:u,...d}=r,p=Bo(),f={isRtl:p,...r},h=n2(f),m=i.StartScrollButtonIcon??jM,g=i.EndScrollButtonIcon??YM,v=$n({elementType:m,externalSlotProps:s.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f}),b=$n({elementType:g,externalSlotProps:s.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f});return l(r2,{component:"div",className:pe(h.root,o),ref:n,role:null,ownerState:f,tabIndex:null,...d,style:{...d.style,...c==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${p?-90:90}deg)`}},children:a==="left"?l(m,{...v}):l(g,{...b})})});function i2(e){return He("MuiTabs",e)}const ru=Ye("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),Sm=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,xm=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,Ra=(e,t,n)=>{let r=!1,o=n(e,t);for(;o;){if(o===e.firstChild){if(r)return;r=!0}const i=o.disabled||o.getAttribute("aria-disabled")==="true";if(!o.hasAttribute("tabindex")||i)o=n(e,o);else{o.focus();return}}},s2=e=>{const{vertical:t,fixed:n,hideScrollbar:r,scrollableX:o,scrollableY:i,centered:s,scrollButtonsHideMobile:a,classes:c}=e;return Ue({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",o&&"scrollableX",i&&"scrollableY"],list:["list","flexContainer",t&&"flexContainerVertical",t&&"vertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[o&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},i2,c)},a2=G("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${ru.scrollButtons}`]:t.scrollButtons},{[`& .${ru.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})(ze(({theme:e})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.scrollButtonsHideMobile,style:{[`& .${ru.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}}}]}))),l2=G("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:e})=>e.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:e})=>e.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:e})=>e.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:e})=>e.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),c2=G("div",{name:"MuiTabs",slot:"List",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.list,t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})({display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.centered,style:{justifyContent:"center"}}]}),u2=G("span",{name:"MuiTabs",slot:"Indicator"})(ze(({theme:e})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(e.vars||e).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(e.vars||e).palette.secondary.main}},{props:({ownerState:t})=>t.vertical,style:{height:"100%",width:2,right:0}}]}))),d2=G(QM)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),Cm={},p2=Oe(function(t,n){const r=Ge({props:t,name:"MuiTabs"}),o=po(),i=Bo(),{"aria-label":s,"aria-labelledby":a,action:c,centered:u=!1,children:d,className:p,component:f="div",allowScrollButtonsMobile:h=!1,indicatorColor:m="primary",onChange:g,orientation:v="horizontal",ScrollButtonComponent:b,scrollButtons:S="auto",selectionFollowsFocus:y,slots:w={},slotProps:k={},TabIndicatorProps:C={},TabScrollButtonProps:T={},textColor:I="primary",value:E,variant:O="standard",visibleScrollbar:P=!1,...x}=r,_=O==="scrollable",$=v==="vertical",R=$?"scrollTop":"scrollLeft",M=$?"top":"left",A=$?"bottom":"right",D=$?"clientHeight":"clientWidth",z=$?"height":"width",W={...r,component:f,allowScrollButtonsMobile:h,indicatorColor:m,orientation:v,vertical:$,scrollButtons:S,textColor:I,variant:O,visibleScrollbar:P,fixed:!_,hideScrollbar:_&&!P,scrollableX:_&&!$,scrollableY:_&&$,centered:u&&!_,scrollButtonsHideMobile:!h},B=s2(W),Y=$n({elementType:w.StartScrollButtonIcon,externalSlotProps:k.startScrollButtonIcon,ownerState:W}),K=$n({elementType:w.EndScrollButtonIcon,externalSlotProps:k.endScrollButtonIcon,ownerState:W}),[q,N]=U(!1),[V,ne]=U(Cm),[Ce,ve]=U(!1),[J,Se]=U(!1),[we,Pe]=U(!1),[Re,xe]=U({overflow:"hidden",scrollbarWidth:0}),Be=new Map,Le=te(null),le=te(null),Xe={slots:w,slotProps:{indicator:C,scrollButton:T,...k}},$e=()=>{const Me=Le.current;let De;if(Me){const ot=Me.getBoundingClientRect();De={clientWidth:Me.clientWidth,scrollLeft:Me.scrollLeft,scrollTop:Me.scrollTop,scrollWidth:Me.scrollWidth,top:ot.top,bottom:ot.bottom,left:ot.left,right:ot.right}}let at;if(Me&&E!==!1){const ot=le.current.children;if(ot.length>0){const gt=ot[Be.get(E)];at=gt?gt.getBoundingClientRect():null}}return{tabsMeta:De,tabMeta:at}},Je=en(()=>{const{tabsMeta:Me,tabMeta:De}=$e();let at=0,ot;$?(ot="top",De&&Me&&(at=De.top-Me.top+Me.scrollTop)):(ot=i?"right":"left",De&&Me&&(at=(i?-1:1)*(De[ot]-Me[ot]+Me.scrollLeft)));const gt={[ot]:at,[z]:De?De[z]:0};if(typeof V[ot]!="number"||typeof V[z]!="number")ne(gt);else{const Jt=Math.abs(V[ot]-gt[ot]),fn=Math.abs(V[z]-gt[z]);(Jt>=1||fn>=1)&&ne(gt)}}),ye=(Me,{animation:De=!0}={})=>{De?XM(R,Le.current,Me,{duration:o.transitions.duration.standard}):Le.current[R]=Me},mt=Me=>{let De=Le.current[R];$?De+=Me:De+=Me*(i?-1:1),ye(De)},st=()=>{const Me=Le.current[D];let De=0;const at=Array.from(le.current.children);for(let ot=0;ot<at.length;ot+=1){const gt=at[ot];if(De+gt[D]>Me){ot===0&&(De=Me);break}De+=gt[D]}return De},fe=()=>{mt(-1*st())},ce=()=>{mt(st())},[ge,{onChange:Ae,...Ne}]=je("scrollbar",{className:pe(B.scrollableX,B.hideScrollbar),elementType:d2,shouldForwardComponentProp:!0,externalForwardedProps:Xe,ownerState:W}),Ee=Te(Me=>{Ae?.(Me),xe({overflow:null,scrollbarWidth:Me})},[Ae]),[me,L]=je("scrollButtons",{className:pe(B.scrollButtons,T.className),elementType:o2,externalForwardedProps:Xe,ownerState:W,additionalProps:{orientation:v,slots:{StartScrollButtonIcon:w.startScrollButtonIcon||w.StartScrollButtonIcon,EndScrollButtonIcon:w.endScrollButtonIcon||w.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:Y,endScrollButtonIcon:K}}}),F=()=>{const Me={};Me.scrollbarSizeListener=_?l(ge,{...Ne,onChange:Ee}):null;const at=_&&(S==="auto"&&(Ce||J)||S===!0);return Me.scrollButtonStart=at?l(me,{direction:i?"right":"left",onClick:fe,disabled:!Ce,...L}):null,Me.scrollButtonEnd=at?l(me,{direction:i?"left":"right",onClick:ce,disabled:!J,...L}):null,Me},H=en(Me=>{const{tabsMeta:De,tabMeta:at}=$e();if(!(!at||!De)){if(at[M]<De[M]){const ot=De[R]+(at[M]-De[M]);ye(ot,{animation:Me})}else if(at[A]>De[A]){const ot=De[R]+(at[A]-De[A]);ye(ot,{animation:Me})}}}),j=en(()=>{_&&S!==!1&&Pe(!we)});ae(()=>{const Me=cc(()=>{Le.current&&Je()});let De;const at=Jt=>{Jt.forEach(fn=>{fn.removedNodes.forEach(sn=>{De?.unobserve(sn)}),fn.addedNodes.forEach(sn=>{De?.observe(sn)})}),Me(),j()},ot=mr(Le.current);ot.addEventListener("resize",Me);let gt;return typeof ResizeObserver<"u"&&(De=new ResizeObserver(Me),Array.from(le.current.children).forEach(Jt=>{De.observe(Jt)})),typeof MutationObserver<"u"&&(gt=new MutationObserver(at),gt.observe(le.current,{childList:!0})),()=>{Me.clear(),ot.removeEventListener("resize",Me),gt?.disconnect(),De?.disconnect()}},[Je,j]),ae(()=>{const Me=Array.from(le.current.children),De=Me.length;if(typeof IntersectionObserver<"u"&&De>0&&_&&S!==!1){const at=Me[0],ot=Me[De-1],gt={root:Le.current,threshold:.99},Jt=zn=>{ve(!zn[0].isIntersecting)},fn=new IntersectionObserver(Jt,gt);fn.observe(at);const sn=zn=>{Se(!zn[0].isIntersecting)},Un=new IntersectionObserver(sn,gt);return Un.observe(ot),()=>{fn.disconnect(),Un.disconnect()}}},[_,S,we,d?.length]),ae(()=>{N(!0)},[]),ae(()=>{Je()}),ae(()=>{H(Cm!==V)},[H,V]),vr(c,()=>({updateIndicator:Je,updateScrollButtons:j}),[Je,j]);const[he,Ke]=je("indicator",{className:pe(B.indicator,C.className),elementType:u2,externalForwardedProps:Xe,ownerState:W,additionalProps:{style:V}}),lt=l(he,{...Ke});let Qe=0;const be=Vn.map(d,Me=>{if(!At(Me))return null;const De=Me.props.value===void 0?Qe:Me.props.value;Be.set(De,Qe);const at=De===E;return Qe+=1,$t(Me,{fullWidth:O==="fullWidth",indicator:at&&!q&&lt,selected:at,selectionFollowsFocus:y,onChange:g,textColor:I,value:De,...Qe===1&&E===!1&&!Me.props.tabIndex?{tabIndex:0}:{}})}),ke=Me=>{if(Me.altKey||Me.shiftKey||Me.ctrlKey||Me.metaKey)return;const De=le.current,at=Zt(De).activeElement;if(at.getAttribute("role")!=="tab")return;let gt=v==="horizontal"?"ArrowLeft":"ArrowUp",Jt=v==="horizontal"?"ArrowRight":"ArrowDown";switch(v==="horizontal"&&i&&(gt="ArrowRight",Jt="ArrowLeft"),Me.key){case gt:Me.preventDefault(),Ra(De,at,xm);break;case Jt:Me.preventDefault(),Ra(De,at,Sm);break;case"Home":Me.preventDefault(),Ra(De,null,Sm);break;case"End":Me.preventDefault(),Ra(De,null,xm);break}},re=F(),[ue,We]=je("root",{ref:n,className:pe(B.root,p),elementType:a2,externalForwardedProps:{...Xe,...x,component:f},ownerState:W}),[nt,et]=je("scroller",{ref:Le,className:B.scroller,elementType:l2,externalForwardedProps:Xe,ownerState:W,additionalProps:{style:{overflow:Re.overflow,[$?`margin${i?"Left":"Right"}`:"marginBottom"]:P?void 0:-Re.scrollbarWidth}}}),[Fe,wt]=je("list",{ref:le,className:pe(B.list,B.flexContainer),elementType:c2,externalForwardedProps:Xe,ownerState:W,getSlotProps:Me=>({...Me,onKeyDown:De=>{ke(De),Me.onKeyDown?.(De)}})});return l(ue,{...We,children:[re.scrollButtonStart,re.scrollbarSizeListener,l(nt,{...et,children:[l(Fe,{"aria-label":s,"aria-labelledby":a,"aria-orientation":v==="vertical"?"vertical":null,role:"tablist",...wt,children:be}),q&&lt]}),re.scrollButtonEnd]})});function f2(e){return He("MuiTextField",e)}Ye("MuiTextField",["root"]);const h2={standard:Ep,filled:$p,outlined:Rp},m2=e=>{const{classes:t}=e;return Ue({root:["root"]},f2,t)},g2=G(xn,{name:"MuiTextField",slot:"Root"})({}),pt=Oe(function(t,n){const r=Ge({props:t,name:"MuiTextField"}),{autoComplete:o,autoFocus:i=!1,children:s,className:a,color:c="primary",defaultValue:u,disabled:d=!1,error:p=!1,FormHelperTextProps:f,fullWidth:h=!1,helperText:m,id:g,InputLabelProps:v,inputProps:b,InputProps:S,inputRef:y,label:w,maxRows:k,minRows:C,multiline:T=!1,name:I,onBlur:E,onChange:O,onFocus:P,placeholder:x,required:_=!1,rows:$,select:R=!1,SelectProps:M,slots:A={},slotProps:D={},type:z,value:W,variant:B="outlined",...Y}=r,K={...r,autoFocus:i,color:c,disabled:d,error:p,fullWidth:h,multiline:T,required:_,select:R,variant:B},q=m2(K),N=Gr(g),V=m&&N?`${N}-helper-text`:void 0,ne=w&&N?`${N}-label`:void 0,Ce=h2[B],ve={slots:A,slotProps:{input:S,inputLabel:v,htmlInput:b,formHelperText:f,select:M,...D}},J={},Se=ve.slotProps.inputLabel;B==="outlined"&&(Se&&typeof Se.shrink<"u"&&(J.notched=Se.shrink),J.label=w),R&&((!M||!M.native)&&(J.id=void 0),J["aria-describedby"]=void 0);const[we,Pe]=je("root",{elementType:g2,shouldForwardComponentProp:!0,externalForwardedProps:{...ve,...Y},ownerState:K,className:pe(q.root,a),ref:n,additionalProps:{disabled:d,error:p,fullWidth:h,required:_,color:c,variant:B}}),[Re,xe]=je("input",{elementType:Ce,externalForwardedProps:ve,additionalProps:J,ownerState:K}),[Be,Le]=je("inputLabel",{elementType:Bs,externalForwardedProps:ve,ownerState:K}),[le,Xe]=je("htmlInput",{elementType:"input",externalForwardedProps:ve,ownerState:K}),[$e,Je]=je("formHelperText",{elementType:uE,externalForwardedProps:ve,ownerState:K}),[ye,mt]=je("select",{elementType:Pi,externalForwardedProps:ve,ownerState:K}),st=l(Re,{"aria-describedby":V,autoComplete:o,autoFocus:i,defaultValue:u,fullWidth:h,multiline:T,name:I,rows:$,maxRows:k,minRows:C,type:z,value:W,id:N,inputRef:y,onBlur:E,onChange:O,onFocus:P,placeholder:x,inputProps:Xe,slots:{input:A.htmlInput?le:void 0},...xe});return l(we,{...Pe,children:[w!=null&&w!==""&&l(Be,{htmlFor:N,id:ne,...Le,children:w}),R?l(ye,{"aria-describedby":V,id:N,labelId:ne,value:W,input:st,...mt,children:s}):st,m&&l($e,{id:V,...Je,children:m})]})}),Dp={categories:[],displayMode:"smart",minVisibleHeight:15,usePeriodField:!1},zp={displayMode:"habit",sourceBlockId:"",themePaths:[],enableLeveling:!0,maxDailyChecks:10,allowManualEdit:!0,showLevelProgress:!0},v2={view:"TableView",title:"è¡¨æ ¼è§†å›¾",collapsed:!1,rowField:"categoryKey",colField:"date"},Lp={defaultHourHeight:50,MAX_HOURS_PER_DAY:24,UNTRACKED_LABEL:"æœªè®°å½•",categories:{å·¥ä½œ:{color:"#60a5fa",files:["å·¥ä½œ","Work"]},å­¦ä¹ :{color:"#34d399",files:["å­¦ä¹ ","Study"]},ç”Ÿæ´»:{color:"#fbbf24",files:["ç”Ÿæ´»","Life"]}},progressOrder:["å·¥ä½œ","å­¦ä¹ ","ç”Ÿæ´»"]},y2={view:"BlockView",title:"å—è§†å›¾",collapsed:!1,fields:[],group:"categoryKey"},b2={view:"ExcelView",title:"æ•°æ®è¡¨æ ¼",collapsed:!1,fields:[]},w2={timeField:"date",titleField:"title",contentField:"content",groupByDay:!0,showWeekday:!0,maxContentLength:160,fields:["title","date"],groupFields:[]},fd={groupFields:["filename","categoryKey"],groupTitlePrefix:"",useMarkdownHeadingForGroup:!0,idTemplate:"ID {{index}}/{{filename}}#{{id}}",detailFields:["categoryKey","date","rating","pintu","content"],fieldLabels:{categoryKey:"åˆ†ç±»",date:"æ—¥æœŸ",rating:"è¯„åˆ†",pintu:"è¯„å›¾",content:"å†…å®¹"},fieldRender:{pintu:{type:"emojiOrLink"},content:{type:"content"}}},S2={groupFields:["date","categoryKey"],groupTitlePrefix:"",useMarkdownHeadingForGroup:!0,idTemplate:"ID {{index}}/{{filename}}#{{id}}",detailFields:["title","date","categoryKey","content"],fieldLabels:{title:"æ ‡é¢˜",date:"æ—¥æœŸ",categoryKey:"åˆ†ç±»",content:"å†…å®¹"},fieldRender:{content:{type:"content"}}},x2={groupFields:["categoryKey","date"],groupTitlePrefix:"",useMarkdownHeadingForGroup:!0,idTemplate:"ID {{index}}/{{filename}}#{{id}}",detailFields:["title","date","categoryKey","content"],fieldLabels:{title:"æ ‡é¢˜",date:"æ—¥æœŸ",categoryKey:"åˆ†ç±»",content:"å†…å®¹"},fieldRender:{content:{type:"content"}}},C2={groupFields:["period","categoryKey"],groupTitlePrefix:"",useMarkdownHeadingForGroup:!0,idTemplate:"ID {{index}}/{{filename}}#{{id}}",detailFields:["title","date","categoryKey","period","content"],fieldLabels:{title:"æ ‡é¢˜",date:"æ—¥æœŸ",categoryKey:"åˆ†ç±»",period:"å‘¨æœŸ",content:"å†…å®¹"},fieldRender:{content:{type:"content"}}},k2={groupFields:["date","categoryKey"],groupTitlePrefix:"",useMarkdownHeadingForGroup:!0,idTemplate:"ID {{index}}/{{filename}}#{{id}}",detailFields:["date","categoryKey","rating","content"],fieldLabels:{date:"æ—¥æœŸ",categoryKey:"åˆ†ç±»",rating:"è¯„åˆ†",content:"å†…å®¹"},fieldRender:{content:{type:"content"}}},_2={groupFields:["filename","categoryKey"],groupTitlePrefix:"",useMarkdownHeadingForGroup:!0,idTemplate:"ID {{index}}/{{filename}}#{{id}}",detailFields:["title","startTime","endTime","duration","categoryKey","content"],fieldLabels:{title:"æ ‡é¢˜",startTime:"å¼€å§‹æ—¶é—´",endTime:"ç»“æŸæ—¶é—´",duration:"æ—¶é•¿",categoryKey:"åˆ†ç±»",content:"å†…å®¹"},fieldRender:{content:{type:"content"}}},T2={groupFields:["categoryKey","date"],groupTitlePrefix:"",useMarkdownHeadingForGroup:!0,idTemplate:"ID {{index}}/{{filename}}#{{id}}",detailFields:["title","date","categoryKey","content"],fieldLabels:{title:"æ ‡é¢˜",date:"æ—¥æœŸ",categoryKey:"åˆ†ç±»",content:"å†…å®¹"},fieldRender:{content:{type:"content"}}};function I2({value:e,onChange:t,fieldOptions:n}){return l(qe,{spacing:2,children:[l(oe,{variant:"body1",color:"text.secondary",sx:{mb:1},children:"äº¤å‰è¡¨ï¼ˆTableViewï¼‰æ ¹æ®ä¸¤ä¸ªå­—æ®µæ¥åˆ›å»ºäºŒç»´è¡¨æ ¼ã€‚"}),l(qe,{direction:"row",spacing:2,alignItems:"center",children:[l(Cl,{freeSolo:!0,disablePortal:!0,fullWidth:!0,size:"small",disableClearable:!0,options:n,value:e.rowField??"",onChange:(r,o)=>t({rowField:o??""}),renderInput:r=>l(pt,{...r,label:"è¡Œå­—æ®µ",variant:"outlined"})}),l(Cl,{freeSolo:!0,disablePortal:!0,fullWidth:!0,size:"small",disableClearable:!0,options:n,value:e.colField??"",onChange:(r,o)=>t({colField:o??""}),renderInput:r=>l(pt,{...r,label:"åˆ—å­—æ®µ",variant:"outlined"})})]})]})}function $2(){return l(oe,{variant:"body1",color:"text.secondary",children:"å—è§†å›¾ï¼ˆBlockViewï¼‰æ²¡æœ‰ä¸“å±žé…ç½®é¡¹ã€‚å®ƒçš„è¡Œä¸ºä¸»è¦ç”±ä¸Šæ–¹çš„ **æ˜¾ç¤ºå­—æ®µ** å’Œ **åˆ†ç»„å­—æ®µ** æŽ§åˆ¶ã€‚"})}function E2(){return l(oe,{variant:"body1",color:"text.secondary",children:"æ•°æ®è¡¨æ ¼ï¼ˆExcelViewï¼‰æ²¡æœ‰ä¸“å±žé…ç½®é¡¹ã€‚å®ƒä¼šè‡ªåŠ¨å±•ç¤ºæ‰€æœ‰ **æ˜¾ç¤ºå­—æ®µ** ä¸­æŒ‡å®šçš„åˆ—ã€‚"})}const Ao=rt(l("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"})),Np=rt(l("path",{d:"M7 11v2h10v-2zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"})),cb=rt(l("path",{d:"m7 10 5 5 5-5z"}));function Qn({value:e,options:t,onChange:n,placeholder:r,fullWidth:o,sx:i}){const[s,a]=U(!1),c=te(null),u=t.find(p=>p.value===e)?.label||e;ae(()=>{function p(f){c.current&&!c.current.contains(f.target)&&a(!1)}return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[c]);const d=p=>{n(p),a(!1)};return l(de,{ref:c,sx:{position:"relative",width:o?"100%":"auto",...i},children:[l(de,{onClick:()=>a(!s),sx:{display:"flex",alignItems:"center",justifyContent:"space-between",height:"36px",border:"1px solid rgba(0,0,0,0.15)",borderRadius:"6px",padding:"6px 10px",cursor:"pointer",bgcolor:"#fff","&:hover":{borderColor:"rgba(0,0,0,0.4)"}},children:[l(oe,{sx:{fontSize:13,color:e?"text.primary":"text.secondary"},children:e?u:l("em",{children:r})}),l(cb,{sx:{color:"text.secondary",transform:s?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"}})]}),s&&l(de,{sx:{position:"absolute",top:"100%",left:0,right:0,mt:"4px",bgcolor:"background.paper",border:"1px solid rgba(0,0,0,0.1)",borderRadius:"6px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",maxHeight:"200px",overflowY:"auto",zIndex:1300},children:t.map(p=>l(de,{onClick:()=>d(p.value),sx:{padding:"8px 12px",fontSize:13,cursor:"pointer","&:hover":{bgcolor:"action.hover"},...e===p.value&&{bgcolor:"action.selected",fontWeight:500}},children:p.label},p.value))})]})}function P2(e){const t=new Set;return e.forEach(n=>{n.file?.basename&&t.add(n.file.basename)}),Array.from(t).sort((n,r)=>n.localeCompare(r,"zh-CN"))}function M2({value:e,onChange:t,dataStore:n}){const r={...Lp,...e},o=r.categories||{},i=r.progressOrder||[],s=ie(()=>{if(!n)return[];const f=n.queryItems();return P2(f)},[n]),a=f=>{t({...r,...f})},c=(f,h)=>{const m=(h.name||f).trim();if(m===f){const b={...o};b[f]={...b[f],...h},delete b[f].name,a({categories:b});return}const g={};for(const b of i)b===f?(g[m]={...o[f],...h},delete g[m].name):o[b]&&(g[b]=o[b]);const v=i.map(b=>b===f?m:b);a({categories:g,progressOrder:v})},u=()=>{let f="æ–°åˆ†ç±»",h=1;for(;o[f];)f=`æ–°åˆ†ç±»${h++}`;a({categories:{...o,[f]:{color:"#60a5fa",files:[]}},progressOrder:[...i,f]})},d=f=>{const{[f]:h,...m}=o,g=i.filter(v=>v!==f);a({categories:m,progressOrder:g})},p=(f,h)=>{const m=[...i],g=h==="up"?f-1:f+1;g<0||g>=m.length||([m[f],m[g]]=[m[g],m[f]],a({progressOrder:m}))};return l(qe,{spacing:2.5,children:[l(qe,{direction:"row",alignItems:"center",spacing:2,children:[l(oe,{sx:{width:"80px",flexShrink:0,fontWeight:500},children:"å°æ—¶é«˜åº¦"}),l(pt,{type:"number",size:"small",variant:"outlined",value:r.defaultHourHeight,onChange:f=>a({defaultHourHeight:Number(f.target.value)}),inputProps:{min:20,max:200},sx:{width:"120px"}})]}),l(qe,{spacing:1,children:[l(oe,{variant:"subtitle2",sx:{fontWeight:600},children:"åˆ†ç±»é…ç½® (å¯æŽ’åº)"}),l(oe,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"é€šè¿‡ `â–²â–¼` è°ƒæ•´åˆ†ç±»åœ¨è¿›åº¦æ¡ä¸­çš„æ˜¾ç¤ºé¡ºåºã€‚"}),i.map((f,h)=>{const m=o[f];if(!m)return null;const g=s.filter(v=>!(m.files||[]).includes(v)).map(v=>({value:v,label:v}));return l(de,{sx:{display:"grid",gridTemplateColumns:"auto auto 140px 1fr auto",gap:"12px",alignItems:"center",mb:1},children:[l(qe,{direction:"row",gridColumn:"1 / 2",children:[l(vt,{title:"ä¸Šç§»",children:l("span",{children:l(ht,{size:"small",disabled:h===0,onClick:()=>p(h,"up"),sx:{p:"4px",fontSize:"0.9rem"},children:"â–²"})})}),l(vt,{title:"ä¸‹ç§»",children:l("span",{children:l(ht,{size:"small",disabled:h===i.length-1,onClick:()=>p(h,"down"),sx:{p:"4px",fontSize:"0.9rem"},children:"â–¼"})})})]}),l(pt,{type:"color",size:"small",value:m.color||"#cccccc",onChange:v=>c(f,{color:v.target.value}),sx:{p:"2px",gridColumn:"2 / 3"}}),l(pt,{variant:"outlined",size:"small",defaultValue:f,onBlur:v=>c(f,{name:v.target.value.trim()}),sx:{gridColumn:"3 / 4"}}),l(de,{sx:{minWidth:0,gridColumn:"4 / 5"},children:l(qe,{direction:"row",flexWrap:"wrap",useFlexGap:!0,spacing:.5,alignItems:"center",children:[(m.files||[]).map(v=>l(vt,{title:`ç‚¹å‡»ç§»é™¤å…³é”®è¯: ${v}`,children:l(de,{onClick:()=>c(f,{files:(m.files||[]).filter(b=>b!==v)}),sx:{bgcolor:"action.hover",color:"text.primary",p:"3px 8px",borderRadius:"16px",fontSize:"0.8125rem",cursor:"pointer","&:hover":{bgcolor:"action.disabledBackground",textDecoration:"line-through"}},children:v})},v)),l(Qn,{value:"",options:g,placeholder:"+ å…³é”®è¯...",onChange:v=>c(f,{files:[...m.files||[],v]}),sx:{minWidth:120}})]})}),l(ht,{onClick:()=>d(f),size:"small",title:"åˆ é™¤æ­¤åˆ†ç±»",sx:{gridColumn:"5 / 6"},children:l(Np,{fontSize:"small"})})]},f)}),l(Ze,{startIcon:l(Ao,{}),onClick:u,size:"small",sx:{justifyContent:"flex-start",mt:1},children:"æ·»åŠ æ–°åˆ†ç±»"})]})]})}function O2(){return l("div",{class:"event-timeline-editor-description",children:[l("div",{class:"statistics-section-title",children:"äº‹ä»¶æ—¶é—´çº¿è§†å›¾"}),l("div",{class:"statistics-section-description",children:["äº‹ä»¶æ—¶é—´çº¿è§†å›¾æŒ‰æ—¶é—´é¡ºåºçºµå‘å±•ç¤ºäº‹ä»¶ï¼Œé‡‡ç”¨ä¸‰æ å¸ƒå±€ï¼š",l("br",{}),l("strong",{children:"[å·¦ä¾§æ—¥æœŸ] - [ä¸­é—´æ—¶é—´çº¿] - [å³ä¾§å†…å®¹å¡ç‰‡]"}),l("br",{}),l("br",{}),"ä¸»è¦ç‰¹æ€§ï¼š",l("br",{}),"â€¢ ",l("strong",{children:"åˆ†ç»„æ˜¾ç¤º"}),"ï¼šæ”¯æŒå¤šçº§å­—æ®µåˆ†ç»„ï¼ŒæŒ‰ä¸Šæ–¹çš„",l("strong",{children:"åˆ†ç»„å­—æ®µ"}),"é…ç½®",l("br",{}),"â€¢ ",l("strong",{children:"å¡ç‰‡æ¸²æŸ“"}),"ï¼šä»»åŠ¡ç±»åž‹ä½¿ç”¨ TaskRow ç»„ä»¶ï¼Œå…¶ä»–ç±»åž‹ä½¿ç”¨ BlockItem ç»„ä»¶",l("br",{}),"â€¢ ",l("strong",{children:"å­—æ®µæŽ§åˆ¶"}),"ï¼šæ˜¾ç¤ºå†…å®¹ç”±ä¸Šæ–¹çš„",l("strong",{children:"æ˜¾ç¤ºå­—æ®µ"}),"é…ç½®æŽ§åˆ¶",l("br",{}),"â€¢ ",l("strong",{children:"æ—¶é—´æŽ’åº"}),"ï¼šåŒç»„å†…äº‹ä»¶æŒ‰æ—¶é—´å‡åºè‡ªåŠ¨æŽ’åˆ—"]})]})}var ub=60,db=ub*60,pb=db*24,R2=pb*7,Mi=1e3,ou=ub*Mi,km=db*Mi,A2=pb*Mi,D2=R2*Mi,Tc="millisecond",li="second",ci="minute",ui="hour",Pn="day",io="week",En="month",Tl="quarter",qn="year",di="date",z2="YYYY-MM-DDTHH:mm:ssZ",_m="Invalid Date",L2=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,N2=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g;const F2={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var n=["th","st","nd","rd"],r=t%100;return"["+t+(n[(r-20)%10]||n[r]||n[0])+"]"}};var hd=function(t,n,r){var o=String(t);return!o||o.length>=n?t:""+Array(n+1-o.length).join(r)+t},B2=function(t){var n=-t.utcOffset(),r=Math.abs(n),o=Math.floor(r/60),i=r%60;return(n<=0?"+":"-")+hd(o,2,"0")+":"+hd(i,2,"0")},W2=function e(t,n){if(t.date()<n.date())return-e(n,t);var r=(n.year()-t.year())*12+(n.month()-t.month()),o=t.clone().add(r,En),i=n-o<0,s=t.clone().add(r+(i?-1:1),En);return+(-(r+(n-o)/(i?o-s:s-o))||0)},V2=function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},H2=function(t){var n={M:En,y:qn,w:io,d:Pn,D:di,h:ui,m:ci,s:li,ms:Tc,Q:Tl};return n[t]||String(t||"").toLowerCase().replace(/s$/,"")},U2=function(t){return t===void 0};const j2={s:hd,z:B2,m:W2,a:V2,p:H2,u:U2};var Ts="en",Eo={};Eo[Ts]=F2;var fb="$isDayjsObject",Fp=function(t){return t instanceof Ic||!!(t&&t[fb])},Il=function e(t,n,r){var o;if(!t)return Ts;if(typeof t=="string"){var i=t.toLowerCase();Eo[i]&&(o=i),n&&(Eo[i]=n,o=i);var s=t.split("-");if(!o&&s.length>1)return e(s[0])}else{var a=t.name;Eo[a]=t,o=a}return!r&&o&&(Ts=o),o||!r&&Ts},Ie=function(t,n){if(Fp(t))return t.clone();var r=typeof n=="object"?n:{};return r.date=t,r.args=arguments,new Ic(r)},Y2=function(t,n){return Ie(t,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})},Pt=j2;Pt.l=Il;Pt.i=Fp;Pt.w=Y2;var G2=function(t){var n=t.date,r=t.utc;if(n===null)return new Date(NaN);if(Pt.u(n))return new Date;if(n instanceof Date)return new Date(n);if(typeof n=="string"&&!/Z$/i.test(n)){var o=n.match(L2);if(o){var i=o[2]-1||0,s=(o[7]||"0").substring(0,3);return r?new Date(Date.UTC(o[1],i,o[3]||1,o[4]||0,o[5]||0,o[6]||0,s)):new Date(o[1],i,o[3]||1,o[4]||0,o[5]||0,o[6]||0,s)}}return new Date(n)},Ic=(function(){function e(n){this.$L=Il(n.locale,null,!0),this.parse(n),this.$x=this.$x||n.x||{},this[fb]=!0}var t=e.prototype;return t.parse=function(r){this.$d=G2(r),this.init()},t.init=function(){var r=this.$d;this.$y=r.getFullYear(),this.$M=r.getMonth(),this.$D=r.getDate(),this.$W=r.getDay(),this.$H=r.getHours(),this.$m=r.getMinutes(),this.$s=r.getSeconds(),this.$ms=r.getMilliseconds()},t.$utils=function(){return Pt},t.isValid=function(){return this.$d.toString()!==_m},t.isSame=function(r,o){var i=Ie(r);return this.startOf(o)<=i&&i<=this.endOf(o)},t.isAfter=function(r,o){return Ie(r)<this.startOf(o)},t.isBefore=function(r,o){return this.endOf(o)<Ie(r)},t.$g=function(r,o,i){return Pt.u(r)?this[o]:this.set(i,r)},t.unix=function(){return Math.floor(this.valueOf()/1e3)},t.valueOf=function(){return this.$d.getTime()},t.startOf=function(r,o){var i=this,s=Pt.u(o)?!0:o,a=Pt.p(r),c=function(b,S){var y=Pt.w(i.$u?Date.UTC(i.$y,S,b):new Date(i.$y,S,b),i);return s?y:y.endOf(Pn)},u=function(b,S){var y=[0,0,0,0],w=[23,59,59,999];return Pt.w(i.toDate()[b].apply(i.toDate("s"),(s?y:w).slice(S)),i)},d=this.$W,p=this.$M,f=this.$D,h="set"+(this.$u?"UTC":"");switch(a){case qn:return s?c(1,0):c(31,11);case En:return s?c(1,p):c(0,p+1);case io:{var m=this.$locale().weekStart||0,g=(d<m?d+7:d)-m;return c(s?f-g:f+(6-g),p)}case Pn:case di:return u(h+"Hours",0);case ui:return u(h+"Minutes",1);case ci:return u(h+"Seconds",2);case li:return u(h+"Milliseconds",3);default:return this.clone()}},t.endOf=function(r){return this.startOf(r,!1)},t.$set=function(r,o){var i,s=Pt.p(r),a="set"+(this.$u?"UTC":""),c=(i={},i[Pn]=a+"Date",i[di]=a+"Date",i[En]=a+"Month",i[qn]=a+"FullYear",i[ui]=a+"Hours",i[ci]=a+"Minutes",i[li]=a+"Seconds",i[Tc]=a+"Milliseconds",i)[s],u=s===Pn?this.$D+(o-this.$W):o;if(s===En||s===qn){var d=this.clone().set(di,1);d.$d[c](u),d.init(),this.$d=d.set(di,Math.min(this.$D,d.daysInMonth())).$d}else c&&this.$d[c](u);return this.init(),this},t.set=function(r,o){return this.clone().$set(r,o)},t.get=function(r){return this[Pt.p(r)]()},t.add=function(r,o){var i=this,s;r=Number(r);var a=Pt.p(o),c=function(f){var h=Ie(i);return Pt.w(h.date(h.date()+Math.round(f*r)),i)};if(a===En)return this.set(En,this.$M+r);if(a===qn)return this.set(qn,this.$y+r);if(a===Pn)return c(1);if(a===io)return c(7);var u=(s={},s[ci]=ou,s[ui]=km,s[li]=Mi,s)[a]||1,d=this.$d.getTime()+r*u;return Pt.w(d,this)},t.subtract=function(r,o){return this.add(r*-1,o)},t.format=function(r){var o=this,i=this.$locale();if(!this.isValid())return i.invalidDate||_m;var s=r||z2,a=Pt.z(this),c=this.$H,u=this.$m,d=this.$M,p=i.weekdays,f=i.months,h=i.meridiem,m=function(y,w,k,C){return y&&(y[w]||y(o,s))||k[w].slice(0,C)},g=function(y){return Pt.s(c%12||12,y,"0")},v=h||function(S,y,w){var k=S<12?"AM":"PM";return w?k.toLowerCase():k},b=function(y){switch(y){case"YY":return String(o.$y).slice(-2);case"YYYY":return Pt.s(o.$y,4,"0");case"M":return d+1;case"MM":return Pt.s(d+1,2,"0");case"MMM":return m(i.monthsShort,d,f,3);case"MMMM":return m(f,d);case"D":return o.$D;case"DD":return Pt.s(o.$D,2,"0");case"d":return String(o.$W);case"dd":return m(i.weekdaysMin,o.$W,p,2);case"ddd":return m(i.weekdaysShort,o.$W,p,3);case"dddd":return p[o.$W];case"H":return String(c);case"HH":return Pt.s(c,2,"0");case"h":return g(1);case"hh":return g(2);case"a":return v(c,u,!0);case"A":return v(c,u,!1);case"m":return String(u);case"mm":return Pt.s(u,2,"0");case"s":return String(o.$s);case"ss":return Pt.s(o.$s,2,"0");case"SSS":return Pt.s(o.$ms,3,"0");case"Z":return a}return null};return s.replace(N2,function(S,y){return y||b(S)||a.replace(":","")})},t.utcOffset=function(){return-Math.round(this.$d.getTimezoneOffset()/15)*15},t.diff=function(r,o,i){var s=this,a=Pt.p(o),c=Ie(r),u=(c.utcOffset()-this.utcOffset())*ou,d=this-c,p=function(){return Pt.m(s,c)},f;switch(a){case qn:f=p()/12;break;case En:f=p();break;case Tl:f=p()/3;break;case io:f=(d-u)/D2;break;case Pn:f=(d-u)/A2;break;case ui:f=d/km;break;case ci:f=d/ou;break;case li:f=d/Mi;break;default:f=d;break}return i?f:Pt.a(f)},t.daysInMonth=function(){return this.endOf(En).$D},t.$locale=function(){return Eo[this.$L]},t.locale=function(r,o){if(!r)return this.$L;var i=this.clone(),s=Il(r,o,!0);return s&&(i.$L=s),i},t.clone=function(){return Pt.w(this.$d,this)},t.toDate=function(){return new Date(this.valueOf())},t.toJSON=function(){return this.isValid()?this.toISOString():null},t.toISOString=function(){return this.$d.toISOString()},t.toString=function(){return this.$d.toUTCString()},e})(),hb=Ic.prototype;Ie.prototype=hb;[["$ms",Tc],["$s",li],["$m",ci],["$H",ui],["$W",Pn],["$M",En],["$y",qn],["$D",di]].forEach(function(e){hb[e[1]]=function(t){return this.$g(t,e[0],e[1])}});Ie.extend=function(e,t){return e.$i||(e(t,Ic,Ie),e.$i=!0),Ie};Ie.locale=Il;Ie.isDayjs=Fp;Ie.unix=function(e){return Ie(e*1e3)};Ie.en=Eo[Ts];Ie.Ls=Eo;Ie.p={};const K2=(function(e,t){var n=t.prototype;n.quarter=function(i){return this.$utils().u(i)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+(i-1)*3)};var r=n.add;n.add=function(i,s){i=Number(i);var a=this.$utils().p(s);return a===Tl?this.add(i*3,En):r.bind(this)(i,s)};var o=n.startOf;n.startOf=function(i,s){var a=this.$utils(),c=a.u(s)?!0:s,u=a.p(i);if(u===Tl){var d=this.quarter()-1;return c?this.month(d*3).startOf(En).startOf(Pn):this.month(d*3+2).endOf(En).endOf(Pn)}return o.bind(this)(i,s)}}),mb=(function(e,t,n){var r=t.prototype;r.week=function(o){if(o===void 0&&(o=null),o!==null)return this.add((o-this.week())*7,Pn);var i=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var s=n(this).startOf(qn).add(1,qn).date(i),a=n(this).endOf(io);if(s.isBefore(a))return 1}var c=n(this).startOf(qn).date(i),u=c.startOf(io).subtract(1,Tc),d=this.diff(u,io,!0);return d<0?n(this).startOf("week").week():Math.ceil(d)},r.weeks=function(o){return o===void 0&&(o=null),this.week(o)}});var Z2=function(t){return t.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(n,r,o){return r||o.slice(1)})},q2={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},X2=function(t,n){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(r,o,i){var s=i&&i.toUpperCase();return o||n[i]||q2[i]||Z2(n[s])})},J2=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,Tm=/\d/,os=/\d\d/,Q2=/\d{3}/,eO=/\d{4}/,cr=/\d\d?/,tO=/[+-]?\d+/,nO=/[+-]\d\d:?(\d\d)?|Z/,is=/\d*[^-_:/,()\s\d]+/,so={},gb=function(t){return t=+t,t+(t>68?1900:2e3)};function rO(e){if(!e||e==="Z")return 0;var t=e.match(/([+-]|\d\d)/g),n=+(t[1]*60)+(+t[2]||0);return n===0?0:t[0]==="+"?-n:n}var yn=function(t){return function(n){this[t]=+n}},Im=[nO,function(e){var t=this.zone||(this.zone={});t.offset=rO(e)}],iu=function(t){var n=so[t];return n&&(n.indexOf?n:n.s.concat(n.f))},$m=function(t,n){var r,o=so,i=o.meridiem;if(!i)r=t===(n?"pm":"PM");else for(var s=1;s<=24;s+=1)if(t.indexOf(i(s,0,n))>-1){r=s>12;break}return r},oO={A:[is,function(e){this.afternoon=$m(e,!1)}],a:[is,function(e){this.afternoon=$m(e,!0)}],Q:[Tm,function(e){this.month=(e-1)*3+1}],S:[Tm,function(e){this.milliseconds=+e*100}],SS:[os,function(e){this.milliseconds=+e*10}],SSS:[Q2,function(e){this.milliseconds=+e}],s:[cr,yn("seconds")],ss:[cr,yn("seconds")],m:[cr,yn("minutes")],mm:[cr,yn("minutes")],H:[cr,yn("hours")],h:[cr,yn("hours")],HH:[cr,yn("hours")],hh:[cr,yn("hours")],D:[cr,yn("day")],DD:[os,yn("day")],Do:[is,function(e){var t=so,n=t.ordinal,r=e.match(/\d+/);if(this.day=r[0],!!n)for(var o=1;o<=31;o+=1)n(o).replace(/\[|\]/g,"")===e&&(this.day=o)}],w:[cr,yn("week")],ww:[os,yn("week")],M:[cr,yn("month")],MM:[os,yn("month")],MMM:[is,function(e){var t=iu("months"),n=iu("monthsShort"),r=(n||t.map(function(o){return o.slice(0,3)})).indexOf(e)+1;if(r<1)throw new Error;this.month=r%12||r}],MMMM:[is,function(e){var t=iu("months"),n=t.indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],Y:[tO,yn("year")],YY:[os,function(e){this.year=gb(e)}],YYYY:[eO,yn("year")],Z:Im,ZZ:Im};function iO(e){var t=e.afternoon;if(t!==void 0){var n=e.hours;t?n<12&&(e.hours+=12):n===12&&(e.hours=0),delete e.afternoon}}function sO(e){e=X2(e,so&&so.formats);for(var t=e.match(J2),n=t.length,r=0;r<n;r+=1){var o=t[r],i=oO[o],s=i&&i[0],a=i&&i[1];a?t[r]={regex:s,parser:a}:t[r]=o.replace(/^\[|\]$/g,"")}return function(c){for(var u={},d=0,p=0;d<n;d+=1){var f=t[d];if(typeof f=="string")p+=f.length;else{var h=f.regex,m=f.parser,g=c.slice(p),v=h.exec(g),b=v[0];m.call(u,b),c=c.replace(b,"")}}return iO(u),u}}var aO=function(t,n,r,o){try{if(["x","X"].indexOf(n)>-1)return new Date((n==="X"?1e3:1)*t);var i=sO(n),s=i(t),a=s.year,c=s.month,u=s.day,d=s.hours,p=s.minutes,f=s.seconds,h=s.milliseconds,m=s.zone,g=s.week,v=new Date,b=u||(!a&&!c?v.getDate():1),S=a||v.getFullYear(),y=0;a&&!c||(y=c>0?c-1:v.getMonth());var w=d||0,k=p||0,C=f||0,T=h||0;if(m)return new Date(Date.UTC(S,y,b,w,k,C,T+m.offset*60*1e3));if(r)return new Date(Date.UTC(S,y,b,w,k,C,T));var I;return I=new Date(S,y,b,w,k,C,T),g&&(I=o(I).week(g).toDate()),I}catch{return new Date("")}};const lO=(function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(gb=e.parseTwoDigitYear);var r=t.prototype,o=r.parse;r.parse=function(i){var s=i.date,a=i.utc,c=i.args;this.$u=a;var u=c[1];if(typeof u=="string"){var d=c[2]===!0,p=c[3]===!0,f=d||p,h=c[2];p&&(h=c[2]),so=this.$locale(),!d&&h&&(so=n.Ls[h]),this.$d=aO(s,u,a,n),this.init(),h&&h!==!0&&(this.$L=this.locale(h).$L),f&&s!=this.format(u)&&(this.$d=new Date("")),so={}}else if(u instanceof Array)for(var m=u.length,g=1;g<=m;g+=1){c[1]=u[g-1];var v=n.apply(this,c);if(v.isValid()){this.$d=v.$d,this.$L=v.$L,this.init();break}g===m&&(this.$d=new Date(""))}else o.call(this,i)}});var cO="isoweek";const vb=(function(e,t,n){var r=function(c,u){var d=(u?n.utc:n)().year(c).startOf(qn),p=4-d.isoWeekday();return d.isoWeekday()>4&&(p+=7),d.add(p,Pn)},o=function(c){return c.add(4-c.isoWeekday(),Pn)},i=t.prototype;i.isoWeekYear=function(){var a=o(this);return a.year()},i.isoWeek=function(a){if(!this.$utils().u(a))return this.add((a-this.isoWeek())*7,Pn);var c=o(this),u=r(this.isoWeekYear(),this.$u);return c.diff(u,io)+1},i.isoWeekday=function(a){return this.$utils().u(a)?this.day()||7:this.day(this.day()%7?a:a-7)};var s=i.startOf;i.startOf=function(a,c){var u=this.$utils(),d=u.u(c)?!0:c,p=u.p(a);return p===cO?d?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):s.bind(this)(a,c)}}),uO=(function(e,t){t.prototype.isSameOrBefore=function(n,r){return this.isSame(n,r)||this.isBefore(n,r)}});Ie.extend(K2);Ie.extend(mb);Ie.extend(lO);Ie.extend(vb);Ie.extend(uO);const Aa=()=>Ie().format("YYYY-MM-DD"),fs=()=>Ie().format("HH:mm");function Em(e){if(isNaN(e)||e<0)return"00:00:00";const t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%60),o=i=>String(i).padStart(2,"0");return`${o(t)}:${o(n)}:${o(r)}`}const Cn=e=>{if(!e||!/^\d{1,2}:\d{2}$/.test(e))return null;const[t,n]=e.split(":").map(Number);return t*60+n},Tn=e=>{if(isNaN(e)||e<0)return"";const t=Math.floor(e/60)%24,n=e%60;return`${String(t).padStart(2,"0")}:${String(n).padStart(2,"0")}`};function Bp(e){const t=(e||"").replace(/\//g,"-"),n=Ie(t,["YYYY-MM-DD","YYYY-M-D","YYYY/MM/DD","YYYY/M/D"],!0);return n.isValid()?n.format("YYYY-MM-DD"):t}const dO="(\\d{4}[-/]\\d{2}[-/]\\d{2})";function pO(e,t){const n=Array.isArray(t)?t:[t];for(const r of n){const o=e.match(new RegExp(`${r}\\s*${dO}`));if(o)return Bp(o[1])}}function fO(e,t){switch(t){case"å¹´":return{startDate:e.startOf("year"),endDate:e.endOf("year")};case"å­£":return{startDate:e.startOf("quarter"),endDate:e.endOf("quarter")};case"æœˆ":return{startDate:e.startOf("month"),endDate:e.endOf("month")};case"å‘¨":return{startDate:e.startOf("isoWeek"),endDate:e.endOf("isoWeek")};default:return{startDate:e.startOf("day"),endDate:e.endOf("day")}}}const hO=["ä¸€","äºŒ","ä¸‰","å››"];function mO(e,t){switch(t){case"å¹´":return e.format("YYYYå¹´");case"å­£":return`${e.year()}å¹´${hO[e.quarter()-1]}å­£åº¦`;case"æœˆ":return e.format("YYYY-MM");case"å‘¨":{const n=e.isoWeekYear(),r=e.isoWeek();return`${n}-W${String(r).padStart(2,"0")}`}default:return e.format("YYYY-MM-DD")}}const Pm=e=>{const t=Ie().year(e).endOf("year");return t.isoWeek()===1?52:t.isoWeek()};function gO(e,t){if(!(!t||!t.isValid()))switch(e){case"å¹´":return t.year();case"å­£":return t.quarter();case"æœˆ":return t.month()+1;case"å‘¨":return t.isoWeek();default:return}}const vO=[{level:0,requiredChecks:0,icon:"ðŸŒ±",color:"#90EE90",title:"æ–°æ‰‹"},{level:1,requiredChecks:3,icon:"ðŸŒ¿",color:"#32CD32",title:"åˆå­¦è€…"},{level:2,requiredChecks:7,icon:"ðŸƒ",color:"#228B22",title:"åŠªåŠ›è€…"},{level:3,requiredChecks:30,icon:"ðŸŒ³",color:"#006400",title:"åšæŒè€…"},{level:4,requiredChecks:90,icon:"ðŸ‘‘",color:"#FFD700",title:"å¤§å¸ˆ"},{level:5,requiredChecks:365,icon:"ðŸ†",color:"#FF6B35",title:"çŽ‹è€…"},{level:6,requiredChecks:800,icon:"â­",color:"#8A2BE2",title:"è¶…ç¥ž"}];function yO(e,t){const n=t||vO,r=n.findLast(a=>e>=a.requiredChecks)||n[0],o=n.find(a=>a.level>r.level);let i=1,s;if(o){const a=e-r.requiredChecks,c=o.requiredChecks-r.requiredChecks;i=Math.max(0,Math.min(1,a/c)),s=o.requiredChecks}return{level:r.level,progress:i,config:r,nextConfig:o,totalChecks:e,nextRequirement:s}}function bO(e,t){let n=0;return e.forEach(r=>{r.levelCount!==void 0?n+=r.levelCount:r.countForLevel!==!1&&(n+=r.displayCount||1)}),yO(n,t)}function yb(e){return e.levelCount!==void 0?e.levelCount:e.countForLevel===!1?0:e.displayCount||1}function bb(e){return e.displayCount||1}function wO(e){const t=new Set;return e.forEach(n=>{const r=(n.categoryKey||"").split("/")[0];r&&t.add(r)}),Array.from(t).sort((n,r)=>n.localeCompare(r,"zh-CN"))}const SO=()=>`#${Math.floor(Math.random()*16777215).toString(16).padStart(6,"0")}`;function xO({value:e,onChange:t,dataStore:n}){const r={...Dp,...e},[o,i]=U(r.categories),s=ie(()=>{if(!n)return[];const d=n.queryItems();return wO(d)},[n]);ae(()=>{const d=new Set(r.categories.map(h=>h.name)),p=[...r.categories];let f=!1;s.forEach(h=>{d.has(h)||(p.push({name:h,color:SO()}),f=!0)}),f?(i(p),t({categories:p})):i(r.categories)},[s,r.categories]);const a=(d,p)=>{const f=[...o],h=p==="up"?d-1:d+1;h<0||h>=f.length||([f[d],f[h]]=[f[h],f[d]],i(f),t({categories:f}))},c=(d,p)=>{const f=[...o];f[d].color=p,i(f),t({categories:f})},u=(d,p)=>{const f=[...o];f[d].alias=p,i(f),t({categories:f})};return l("div",{class:"statistics-editor-container",children:[l("div",{class:"statistics-section",children:[l("div",{class:"statistics-section-title",children:"æ˜¾ç¤ºæ¨¡å¼"}),l("div",{class:"display-mode-options",children:[l("label",{class:"display-mode-label",children:[l("input",{class:"display-mode-input",type:"radio",name:"displayMode",value:"smart",checked:r.displayMode==="smart",onChange:()=>t({displayMode:"smart"})}),l("span",{class:"display-mode-text",children:"æ™ºèƒ½æ¨¡å¼"})]}),l("label",{class:"display-mode-label",children:[l("input",{class:"display-mode-input",type:"radio",name:"displayMode",value:"linear",checked:r.displayMode==="linear",onChange:()=>t({displayMode:"linear"})}),l("span",{class:"display-mode-text",children:"çº¿æ€§æ¨¡å¼"})]}),l("label",{class:"display-mode-label",children:[l("input",{class:"display-mode-input",type:"radio",name:"displayMode",value:"logarithmic",checked:r.displayMode==="logarithmic",onChange:()=>t({displayMode:"logarithmic"})}),l("span",{class:"display-mode-text",children:"å¯¹æ•°æ¨¡å¼"})]})]}),l("div",{class:"statistics-section-description",children:"æ™ºèƒ½æ¨¡å¼ï¼šè‡ªåŠ¨é€‰æ‹©æœ€ä½³æ˜¾ç¤ºæ–¹å¼ | çº¿æ€§æ¨¡å¼ï¼šæŒ‰å®žé™…æ¯”ä¾‹æ˜¾ç¤º | å¯¹æ•°æ¨¡å¼ï¼šé€‚åˆæ•°æ®å·®å¼‚å¾ˆå¤§çš„æƒ…å†µ"}),l("div",{class:"min-height-controls",children:[l("label",{class:"min-height-label",children:"æœ€å°å¯è§é«˜åº¦:"}),l("input",{class:"min-height-slider",type:"range",min:"10",max:"30",step:"1",value:r.minVisibleHeight||15,onChange:d=>t({minVisibleHeight:parseInt(d.target.value)})}),l("span",{class:"min-height-value",children:[r.minVisibleHeight||15,"%"]})]})]}),l("div",{class:"statistics-section",children:[l("div",{class:"categories-section-title",children:"åˆ†ç±»é…ç½®"}),l("div",{class:"categories-description",children:"æ¯ä¸ªåˆ†ç±»çš„é…ç½®ï¼šé¢œè‰²ã€åç§°ã€åˆ«åã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä¸Šä¸‹æŒ‰é’®è°ƒæ•´é¡ºåºã€‚"})]}),l("div",{children:o.map((d,p)=>l("div",{class:"category-item",children:[l("div",{class:"move-buttons-container",children:[l("button",{class:"move-button",title:"ä¸Šç§»",disabled:p===0,onClick:()=>a(p,"up"),children:"â†‘"}),l("button",{class:"move-button",title:"ä¸‹ç§»",disabled:p===o.length-1,onClick:()=>a(p,"down"),children:"â†“"})]}),l("input",{class:"color-picker",type:"color",value:d.color,onChange:f=>c(p,f.target.value)}),l("div",{class:"category-name",children:d.name}),l("input",{class:"alias-input",type:"text",placeholder:"åˆ«å",value:d.alias||"",onChange:f=>u(p,f.target.value)})]},d.name))})]})}function CO(e,t){return[...e,t]}function kO(e,t){return t<0||t>=e.length?e:e.filter((n,r)=>r!==t)}function _O(e,t,n){if(t<0||t>=e.length)return e;const r=[...e];return r[t]=n,r}function TO({value:e,onChange:t,placeholder:n="æ–°é¡¹ç›®",type:r="text"}){const o=e||[],i=(c,u)=>{t(_O(o,c,u))},s=()=>{t(CO(o,""))},a=c=>{t(kO(o,c))};return l(qe,{spacing:.5,children:[o.map((c,u)=>l(qe,{direction:"row",spacing:.5,alignItems:"center",children:[l(pt,{value:c,onInput:d=>i(u,d.target.value),placeholder:n,type:r,fullWidth:!0,sx:r==="color"?{"& .MuiInputBase-input":{padding:"4px 8px",height:"24px",cursor:"pointer"}}:{}}),l(ht,{onClick:()=>a(u),size:"small",color:"error",title:"åˆ é™¤æ­¤é¡¹",children:l(Np,{fontSize:"small"})})]},u)),l(qe,{direction:"row",justifyContent:"flex-start",children:l(ht,{onClick:s,size:"small",color:"primary",title:"æ·»åŠ æ–°é¡¹",children:l(Ao,{})})})]})}function Mm(e){if(e==null)return null;if(typeof e=="number")return e;const t=String(e).trim();if(/^\d{4}-\d{1,2}-\d{1,2}/.test(t)||/^\d{4}\/\d{1,2}\/\d{1,2}/.test(t)){const o=Date.parse(t.replace(/\//g,"-"));if(!Number.isNaN(o))return o}const r=Number(t);return!Number.isNaN(r)&&/\d/.test(t)&&!/[^\d.\-+eE]/.test(t)?r:t}function hs(e,t){if(e==null&&t==null)return 0;if(e==null)return 1;if(t==null)return-1;const n=Mm(e),r=Mm(t);return typeof n=="number"&&typeof r=="number"?n-r:String(e).localeCompare(String(t),"zh")}function $c(e,t=[]){return t.length?e.filter(n=>{if(t.length===0)return!0;if(t.length===1)return Da(n,t[0]);let r=Da(n,t[0]);for(let o=1;o<t.length;o++){const i=t[o],a=t[o-1].logic||"and";a==="and"?r=r&&Da(n,i):a==="or"&&(r=r||Da(n,i))}return r}):e}function Da(e,t){let n=Gt(e,t.field),r=t.value;if(t.field==="title")n=e.titleLower??String(n??"").toLowerCase(),r=String(r??"").toLowerCase();else if(t.field==="content")n=e.contentLower??String(n??"").toLowerCase(),r=String(r??"").toLowerCase();else if(t.field==="theme"){const o=e.themePathNormalized??e.theme??n;n=String(o??"").toLowerCase(),r=String(r??"").toLowerCase()}else if(t.field==="tags"){const o=e.tagsLower??(Array.isArray(n)?n.map(s=>String(s).toLowerCase()):[]),i=String(r??"").toLowerCase();if(t.op==="includes"||t.op==="=")return o.includes(i);if(t.op==="!=")return!o.includes(i);n=o.join(","),r=i}switch(t.op){case"=":return hs(n,r)===0;case"!=":return hs(n,r)!==0;case"includes":return Array.isArray(n)?n.some(o=>String(o).includes(String(r))):String(n).includes(String(r));case"regex":try{return new RegExp(String(r)).test(String(n))}catch{return!1}case">":return hs(n,r)>0;case"<":return hs(n,r)<0;default:return!1}}function wb(e,t=[]){return t.length?[...e].sort((n,r)=>{for(const o of t){const i=Gt(n,o.field),s=Gt(r,o.field);if(i==null&&s==null)continue;if(i==null)return o.dir==="asc"?1:-1;if(s==null)return o.dir==="asc"?-1:1;const a=hs(i,s);if(a!==0)return o.dir==="asc"?a:-a}return 0}):e}function IO(e){const t=(e.categoryKey||"").toLowerCase();return/\/(done|cancelled)\b/.test(t)}function $O(e,t,n){if(!t&&!n)return e;const r=t?Date.parse(t):null,o=n?Date.parse(n):null;return e.filter(i=>{const s=i.dateMs??(i.date?Date.parse((i.date||"").replace(/\//g,"-")):NaN);return isNaN(s)?!IO(i):!(r!==null&&s<r||o!==null&&s>o)})}function EO(e,t){if(!t.trim())return e;const n=t.trim().toLowerCase();return e.filter(r=>{const o=r.titleLower??(r.title||"").toLowerCase(),i=r.contentLower??(r.content||"").toLowerCase();return(o+" "+i).includes(n)})}function Om(e,t){return t?e.filter(n=>{const r=Gt(n,"period");return r==null||r===""||r===t}):e}function PO(e){const{items:t,dataSource:n,sourceBlock:r}=e,o=$c(t,n.filters||[]),i=new Set;return o.forEach(s=>{s.categoryKey===r.name&&s.theme&&i.add(s.theme)}),Array.from(i).sort((s,a)=>s.localeCompare(a,"zh-CN"))}function MO({value:e,onChange:t,module:n,dataStore:r}){const o={...zp,...e},i=pn(c=>c.settings.inputSettings.blocks),s=ie(()=>i.map(c=>({value:c.id,label:c.name})),[i]),a=()=>{if(!o.sourceBlockId){new _e.Notice("è¯·å…ˆé€‰æ‹©æº Block æ¨¡æ¿ã€‚");return}const c=n,u=i.find(f=>f.id===o.sourceBlockId);if(!u){new _e.Notice("æ‰¾ä¸åˆ°æ‰€é€‰çš„ Block æ¨¡æ¿ã€‚");return}const d=r.queryItems(),p=PO({items:d,dataSource:c,sourceBlock:u});t({themePaths:p}),new _e.Notice(`æ‰«æå®Œæˆï¼å·²è‡ªåŠ¨æ·»åŠ  ${p.length} ä¸ªä¸»é¢˜è·¯å¾„ï¼ˆæ¥è‡ªåˆ†ç±» "${u.name}"ï¼‰ã€‚`)};return l(qe,{spacing:2.5,children:l("div",{children:[l(qe,{direction:"row",alignItems:"center",spacing:2,sx:{mb:2},children:[l(oe,{sx:{width:"80px",flexShrink:0,fontWeight:500},children:"æº Block"}),l(de,{sx:{flexGrow:1},children:[l(Qn,{value:o.sourceBlockId,options:s,onChange:c=>t({sourceBlockId:c}),placeholder:"-- è¯·é€‰æ‹©ç”¨äºŽæ‰“å¡çš„ Block æ¨¡æ¿ --"}),l(oe,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.5},children:'è§†å›¾å°†ä»Žæ­¤ Block æ¨¡æ¿çš„"è¯„åˆ†"å­—æ®µä¸­è¯»å– Emoji/å›¾ç‰‡/é¢œè‰²æ˜ å°„ã€‚'})]})]}),l(qe,{direction:"row",alignItems:"flex-start",spacing:2,children:[l(oe,{sx:{width:"80px",flexShrink:0,fontWeight:500,pt:"8px"},children:"ä¸»é¢˜è·¯å¾„"}),l(de,{sx:{flexGrow:1},children:[l(TO,{value:o.themePaths,onChange:c=>t({themePaths:c}),placeholder:"ä¾‹å¦‚: ç”Ÿæ´»/å¥åº·, å·¥ä½œ/é¡¹ç›®"}),l(oe,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.5},children:"åœ¨æ­¤å¤„æ·»åŠ çš„æ¯ä¸ªä¸»é¢˜è·¯å¾„ï¼Œåœ¨å‘¨/æœˆè§†å›¾ä¸‹éƒ½ä¼šæˆä¸ºç‹¬ç«‹çš„ä¸€è¡Œã€‚ç•™ç©ºåˆ™æ˜¾ç¤ºæ‰€æœ‰æ‰“å¡ã€‚"}),l(Ze,{onClick:a,size:"small",sx:{mt:1},children:"ä»Žæ•°æ®æºæ‰«æå¹¶æ·»åŠ ä¸»é¢˜"})]})]})]})})}const Sb={TableView:{component:I2,defaultConfig:v2},BlockView:{component:$2,defaultConfig:y2},ExcelView:{component:E2,defaultConfig:b2},TimelineView:{component:M2,defaultConfig:Lp},EventTimelineView:{component:O2,defaultConfig:w2},StatisticsView:{component:xO,defaultConfig:Dp},HeatmapView:{component:MO,defaultConfig:zp}},OO=Object.fromEntries(Object.entries(Sb).map(([e,t])=>[e,t.component])),Rm=Object.fromEntries(Object.entries(Sb).map(([e,t])=>[e,t.defaultConfig]));class RO{_updateSettings;_getSettings;constructor(t,n){this._updateSettings=t,this._getSettings=n}addViewInstance=async(t,n=null)=>{await this._updateSettings(r=>{r.viewInstances.push({id:$r("view"),title:t,viewType:"BlockView",dataSourceId:"",viewConfig:JSON.parse(JSON.stringify(Rm.BlockView)),collapsed:!0,parentId:n})})};updateViewInstance=async(t,n)=>{await this._updateSettings(r=>{const o=r.viewInstances.find(i=>i.id===t);o&&n.viewType&&n.viewType!==o.viewType&&(n.viewConfig=JSON.parse(JSON.stringify(Rm[n.viewType]))),r.viewInstances=pr.updateById(r.viewInstances,t,n)})};deleteViewInstance=async t=>{await this._updateSettings(n=>{n.viewInstances=n.viewInstances.filter(r=>r.id!==t),n.layouts.forEach(r=>{r.viewInstanceIds=r.viewInstanceIds.filter(o=>o!==t)})})};moveViewInstance=async(t,n)=>{await this._updateSettings(r=>{r.viewInstances=jd(r.viewInstances,t,n)})};duplicateViewInstance=async t=>{await this._updateSettings(n=>{n.viewInstances=Bw(n.viewInstances,t,"title")})};getViewInstances=()=>this._getSettings().viewInstances;getViewInstance=t=>this._getSettings().viewInstances.find(n=>n.id===t);getViewInstancesByParent=t=>this._getSettings().viewInstances.filter(n=>n.parentId===t);batchUpdateViewInstances=async(t,n)=>{await this._updateSettings(r=>{let o=r.viewInstances;t.forEach(i=>{o=pr.updateById(o,i,n)}),r.viewInstances=o})};batchDeleteViewInstances=async t=>{await this._updateSettings(n=>{n.viewInstances=n.viewInstances.filter(r=>!t.includes(r.id)),n.layouts.forEach(r=>{r.viewInstanceIds=r.viewInstanceIds.filter(o=>!t.includes(o))})})}}class AO{_updateSettings;_getSettings;constructor(t,n){this._updateSettings=t,this._getSettings=n}addBlock=async t=>{await this._updateSettings(n=>{n.inputSettings.blocks.push({id:$r("blk"),name:t,fields:[],outputTemplate:"",targetFile:"",appendUnderHeader:""})})};updateBlock=async(t,n)=>{await this._updateSettings(r=>{r.inputSettings.blocks=pr.updateById(r.inputSettings.blocks,t,n)})};deleteBlock=async t=>{await this._updateSettings(n=>{n.inputSettings.blocks=pr.removeByIds(n.inputSettings.blocks,[t]),n.inputSettings.overrides=n.inputSettings.overrides.filter(r=>r.blockId!==t)})};moveBlock=async(t,n)=>{await this._updateSettings(r=>{r.inputSettings.blocks=jd(r.inputSettings.blocks,t,n)})};duplicateBlock=async t=>{await this._updateSettings(n=>{const r=n.inputSettings.blocks.findIndex(o=>o.id===t);if(r>-1){const o=n.inputSettings.blocks[r],i={...JSON.parse(JSON.stringify(o)),id:$r("blk"),name:`${o.name} (å‰¯æœ¬)`};n.inputSettings.blocks.splice(r+1,0,i)}})};getBlocks=()=>this._getSettings().inputSettings.blocks;getBlock=t=>this._getSettings().inputSettings.blocks.find(n=>n.id===t);batchUpdateBlocks=async(t,n)=>{await this._updateSettings(r=>{let o=r.inputSettings.blocks;t.forEach(i=>{o=pr.updateById(o,i,n)}),r.inputSettings.blocks=o})};batchDeleteBlocks=async t=>{await this._updateSettings(n=>{n.inputSettings.blocks=pr.removeByIds(n.inputSettings.blocks,t);const r=new Set(t);n.inputSettings.overrides=n.inputSettings.overrides.filter(o=>!r.has(o.blockId))})}}class DO{_updateSettings;_getSettings;constructor(t,n){this._updateSettings=t,this._getSettings=n}addGroup=async(t,n,r)=>{await this._updateSettings(o=>{const i={id:$r("group"),name:t,parentId:n,type:r};o.groups.push(i)})};updateGroup=async(t,n)=>{await this._updateSettings(r=>{const o=r.groups.find(i=>i.id===t);o&&Object.assign(o,n)})};deleteGroup=async t=>{await this._updateSettings(n=>{const r=n.groups.find(s=>s.id===t);if(!r)return;const o=r.parentId;n.groups.forEach(s=>{s.parentId===t&&(s.parentId=o)}),[n.viewInstances,n.layouts].forEach(s=>{s.forEach(a=>{a.parentId===t&&(a.parentId=o)})}),n.groups=n.groups.filter(s=>s.id!==t)})};duplicateGroup=async t=>{await this._updateSettings(n=>{const r=n.groups.find(i=>i.id===t);if(!r)return;const o=(i,s)=>{const a=n.groups.find(m=>m.id===i);if(!a)return;const c={...JSON.parse(JSON.stringify(a)),id:$r("group"),parentId:s,name:a.id===t?`${a.name} (å‰¯æœ¬)`:a.name};n.groups.push(c);const u=m=>{switch(m){case"viewInstance":return{items:n.viewInstances,prefix:"view"};case"layout":return{items:n.layouts,prefix:"layout"};default:return{items:[],prefix:"item"}}},{items:d,prefix:p}=u(a.type);d.filter(m=>m.parentId===i).forEach(m=>{const g={...JSON.parse(JSON.stringify(m)),id:$r(p),parentId:c.id};d.push(g)}),n.groups.filter(m=>m.parentId===i).forEach(m=>{o(m.id,c.id)})};o(t,r.parentId)})};moveItem=async(t,n)=>{await this._updateSettings(r=>{const i=[...r.groups,...r.viewInstances,...r.layouts].find(s=>s.id===t);if(i){if(t.startsWith("group_")){let s=n;for(;s;){if(s===t){console.error("ä¸èƒ½å°†åˆ†ç»„ç§»åŠ¨åˆ°å…¶è‡ªå·±çš„å­åˆ†ç»„ä¸­ã€‚");return}s=r.groups.find(a=>a.id===s)?.parentId??null}}i.parentId=n}})};reorderItems=async(t,n)=>{await this._updateSettings(r=>{const o=t.length>0?t[0].parentId:void 0;let i;n==="group"?i=r.groups:n==="viewInstance"?i=r.viewInstances:i=r.layouts;const a=[...i.filter(c=>c.parentId!==o),...t];n==="group"?r.groups=a:n==="viewInstance"?r.viewInstances=a:r.layouts=a})};batchUpdateGroups=async(t,n)=>{await this._updateSettings(r=>{t.forEach(o=>{const i=r.groups.find(s=>s.id===o);i&&Object.assign(i,n)})})};batchDeleteGroups=async t=>{for(const n of t)await this.deleteGroup(n)};batchMoveItems=async(t,n)=>{for(const r of t)await this.moveItem(r,n)};getGroups=()=>this._getSettings().groups;getGroup=t=>this._getSettings().groups.find(n=>n.id===t);getGroupsByParent=t=>this._getSettings().groups.filter(n=>n.parentId===t);getGroupsByType=t=>this._getSettings().groups.filter(n=>n.type===t);getChildGroups=t=>{const n=this._getSettings().groups,r=[],o=i=>{const s=n.filter(a=>a.parentId===i);r.push(...s),s.forEach(a=>o(a.id))};return o(t),r};canMoveToParent=(t,n)=>{if(!t.startsWith("group_")||n===null)return!0;if(t===n)return!1;const r=this._getSettings().groups;let o=n;for(;o;){if(o===t)return!1;o=r.find(i=>i.id===o)?.parentId??null}return!0};getGroupPath=t=>{const n=this._getSettings().groups,r=[];let o=t;for(;o;){const i=n.find(s=>s.id===o);if(!i)break;r.unshift(i),o=i.parentId??null}return r}}class zO{_updateSettings;_getSettings;constructor(t,n){this._updateSettings=t,this._getSettings=n}getSettings=()=>this._getSettings();updateInputSettings=async t=>{await this._updateSettings(n=>{n.inputSettings={...n.inputSettings,...t}})};getInputSettings=()=>this._getSettings().inputSettings;updateFloatingTimerEnabled=async t=>{await this._updateSettings(n=>{n.floatingTimerEnabled=t})};getFloatingTimerEnabled=()=>this._getSettings().floatingTimerEnabled;updateActiveThemePaths=async t=>{await this._updateSettings(n=>{n.activeThemePaths=t})};getActiveThemePaths=()=>this._getSettings().activeThemePaths||[];addActiveThemePath=async t=>{await this._updateSettings(n=>{n.activeThemePaths||(n.activeThemePaths=[]),n.activeThemePaths.includes(t)||n.activeThemePaths.push(t)})};removeActiveThemePath=async t=>{await this._updateSettings(n=>{n.activeThemePaths&&(n.activeThemePaths=n.activeThemePaths.filter(r=>r!==t))})};batchUpdateSettings=async t=>{await this._updateSettings(n=>{Object.assign(n,t)})}}var LO=Object.getOwnPropertyDescriptor,NO=(e,t,n,r)=>{for(var o=r>1?void 0:r?LO(t,n):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(o=s(o)||o);return o},Am=(e,t)=>(n,r)=>t(n,r,e);let Oi=class{_plugin;_state;_listeners=new Set;theme;layout;group;settings;timer;viewInstance;block;constructor(e,t){this.timer=t,this.timer.subscribe(this._notify.bind(this)),this.theme=new jw(this._updateSettingsAndPersist.bind(this),this.getSettings.bind(this)),this.layout=new Jw(this._updateSettingsAndPersist.bind(this),this.getSettings.bind(this)),this.group=new DO(this._updateSettingsAndPersist.bind(this),this.getSettings.bind(this)),this.settings=new zO(this._updateSettingsAndPersist.bind(this),this.getSettings.bind(this)),this.viewInstance=new RO(this._updateSettingsAndPersist.bind(this),this.getSettings.bind(this)),this.block=new AO(this._updateSettingsAndPersist.bind(this),this.getSettings.bind(this)),this._state={settings:e,isTimerWidgetVisible:e.floatingTimerEnabled,timer:this.timer}}setPlugin(e){this._plugin=e}getState(){return this._state}getSettings(){return this._state.settings}subscribe(e){return this._listeners.add(e),()=>this._listeners.delete(e)}_notify(){this._listeners.forEach(e=>e())}_updateSettingsAndPersist=async e=>{if(!this._plugin){console.error("AppStore: æ’ä»¶å®žä¾‹æœªè®¾ç½®ï¼Œæ— æ³•ä¿å­˜è®¾ç½®ã€‚");return}const t=JSON.parse(JSON.stringify(this._state.settings));e(t),this._state.settings=t;try{await this._plugin.saveData(this._state.settings)}catch(n){console.error("AppStore: ä¿å­˜è®¾ç½®å¤±è´¥",n)}this._notify()};_updateEphemeralState(e){e(this._state),this._notify()}toggleTimerWidgetVisibility=()=>{this._updateEphemeralState(e=>{e.isTimerWidgetVisible=!e.isTimerWidgetVisible})};updateFloatingTimerEnabled=async e=>{await this._updateSettingsAndPersist(t=>{t.floatingTimerEnabled=e}),this._updateEphemeralState(t=>{t.isTimerWidgetVisible=e})};setInitialTimers(e){this.timer.setInitialTimers(e)}addTimer=async e=>this.timer.addTimer(e);updateTimer=async e=>this.timer.updateTimer(e);removeTimer=async e=>this.timer.removeTimer(e);getTimers=()=>this.timer.getTimers();getActiveTimer=()=>this.timer.getActiveTimer();addGroup=async(e,t,n)=>this.group.addGroup(e,t,n);updateGroup=async(e,t)=>this.group.updateGroup(e,t);deleteGroup=async e=>this.group.deleteGroup(e);duplicateGroup=async e=>this.group.duplicateGroup(e);moveItem=async(e,t)=>this.group.moveItem(e,t);reorderItems=async(e,t)=>this.group.reorderItems(e,t);addViewInstance=async(e,t=null)=>this.viewInstance.addViewInstance(e,t);updateViewInstance=async(e,t)=>this.viewInstance.updateViewInstance(e,t);deleteViewInstance=async e=>this.viewInstance.deleteViewInstance(e);moveViewInstance=async(e,t)=>this.viewInstance.moveViewInstance(e,t);duplicateViewInstance=async e=>this.viewInstance.duplicateViewInstance(e);addLayout=async(e,t=null)=>this.layout.addLayout(e,t);updateLayout=async(e,t)=>this.layout.updateLayout(e,t);deleteLayout=async e=>this.layout.deleteLayout(e);moveLayout=async(e,t)=>this.layout.moveLayout(e,t);duplicateLayout=async e=>this.layout.duplicateLayout(e);updateInputSettings=async e=>this.settings.updateInputSettings(e);addBlock=async e=>this.block.addBlock(e);updateBlock=async(e,t)=>this.block.updateBlock(e,t);deleteBlock=async e=>this.block.deleteBlock(e);moveBlock=async(e,t)=>this.block.moveBlock(e,t);duplicateBlock=async e=>this.block.duplicateBlock(e);addTheme=async e=>this.theme.addTheme(e);updateTheme=async(e,t)=>this.theme.updateTheme(e,t);deleteTheme=async e=>this.theme.deleteTheme(e);batchUpdateThemes=async(e,t)=>this.theme.batchUpdateThemes(e,t);batchDeleteThemes=async e=>this.theme.batchDeleteThemes(e);batchUpdateThemeStatus=async(e,t)=>this.theme.batchUpdateThemeStatus(e,t);batchUpdateThemeIcon=async(e,t)=>this.theme.batchUpdateThemeIcon(e,t);batchSetOverrideStatus=async(e,t)=>this.theme.batchSetOverrideStatus(e,t);upsertOverride=async e=>this.theme.upsertOverride(e);deleteOverride=async(e,t)=>this.theme.deleteOverride(e,t);batchUpsertOverrides=async e=>this.theme.batchUpsertOverrides(e);batchDeleteOverrides=async e=>this.theme.batchDeleteOverrides(e)};Oi=NO([or(),Am(0,Ot(vv)),Am(1,Ot(Ms))],Oi);function pn(e){const t=Ir;if(!t){const i=new Ms({}),s={settings:ev,isTimerWidgetVisible:!0,timer:i};return console.warn("useStore åœ¨ AppStore æ³¨å†Œå‰è¢«è°ƒç”¨ã€‚è¿”å›žå®‰å…¨çš„å¤‡ç”¨çŠ¶æ€ã€‚"),e(s)}const n=Te(e,[]),[r,o]=U(()=>n(t.getState()));return ae(()=>{const i=t.subscribe(()=>{const a=n(t.getState());o(c=>Object.is(c,a)?c:(console.log("ä¸€ä¸ªç»„ä»¶å› å…¶è®¢é˜…çš„çŠ¶æ€å˜æ›´è€Œè®¡åˆ’é‡æ¸²æŸ“ã€‚",{componentHint:n.toString().slice(0,100)}),a))}),s=n(t.getState());return Object.is(r,s)||o(s),i},[t,n]),r}var FO=Object.getOwnPropertyDescriptor,BO=(e,t,n,r)=>{for(var o=r>1?void 0:r?FO(t,n):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(o=s(o)||o);return o},WO=(e,t)=>(n,r)=>t(n,r,e);const xb="PluginStorage";let md=class{constructor(e){this.app=e}async readJSON(e){const t=this.app.vault.getAbstractFileByPath(e);if(!t)return null;if(t instanceof _e.TFile){const n=await this.app.vault.read(t);try{return JSON.parse(n)}catch(r){return console.warn(`ThinkPlugin: è¯»å– JSON å¤±è´¥ (${e})`,r),null}}return console.warn(`ThinkPlugin: è¯»å– JSON å¤±è´¥ï¼Œç›®æ ‡ä¸æ˜¯æ–‡ä»¶ (${e})`),null}async writeJSON(e,t){const n=JSON.stringify(t,null,2);await this.ensureFolderFor(e);const r=this.app.vault.getAbstractFileByPath(e);if(r instanceof _e.TFile){await this.app.vault.modify(r,n);return}await this.app.vault.create(e,n)}async remove(e){const t=this.app.vault.getAbstractFileByPath(e);t instanceof _e.TFile&&await this.app.vault.delete(t)}async ensureFolderFor(e){const t=e.includes("/")?e.slice(0,e.lastIndexOf("/")):"";t&&await this.ensureFolder(t)}async ensureFolder(e){const t=e.split("/").filter(Boolean);let n="";for(const r of t){n=n?`${n}/${r}`:r;const o=this.app.vault.getAbstractFileByPath(n);if(!o)await this.app.vault.createFolder(n);else if(o instanceof _e.TFile)throw new Error(`è·¯å¾„å†²çªï¼š"${n}" æ˜¯æ–‡ä»¶ï¼Œæ— æ³•ä½œä¸ºæ–‡ä»¶å¤¹ã€‚`)}}};md=BO([or(),WO(0,Ot(Lr))],md);function VO(e,t){Sn.register(Lr,{useValue:e}),Sn.register(vv,{useValue:t}),Sn.register(xb,{useClass:md}),Sn.registerSingleton(Oi),Sn.register(yv,{useToken:Oi})}class Fi extends Error{type;timestamp;context;constructor(t,n="UNKNOWN",r){super(t),this.name=this.constructor.name,this.type=n,this.timestamp=Date.now(),this.context=r,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class HO extends Fi{constructor(t,n){super(t,"NETWORK",n)}}class UO extends Fi{constructor(t,n){super(t,"VALIDATION",n)}}class jO extends Fi{constructor(t,n){super(t,"PERMISSION",n)}}class YO extends Fi{constructor(t,n){super(t,"FILE_SYSTEM",n)}}class GO extends Fi{constructor(t,n){super(t,"SERVICE",n)}}class KO extends Fi{constructor(t,n){super(t,"PLUGIN",n)}}class pi{static instance;errorLogs=[];maxLogSize=100;constructor(){}static getInstance(){return pi.instance||(pi.instance=new pi),pi.instance}handle(t,n,r={}){const{showNotice:o=!0,logToConsole:i=!0,logToFile:s=!1,noticeTimeout:a=5e3,context:c}=r,u=t instanceof Error?t:new Error(String(t)),d=this.classifyError(u),p=c?`${n} - ${c}`:n,f={timestamp:Date.now(),type:d,message:u.message,context:p,stack:u.stack,details:t};if(this.addLogEntry(f),i&&this.logToConsole(f),o){const h=this.getUserFriendlyMessage(d,u);this.showNotice(h,a)}}classifyError(t){if(t instanceof HO)return"NETWORK";if(t instanceof UO)return"VALIDATION";if(t instanceof jO)return"PERMISSION";if(t instanceof YO)return"FILE_SYSTEM";if(t instanceof GO)return"SERVICE";if(t instanceof KO)return"PLUGIN";const n=t.message.toLowerCase();return n.includes("network")||n.includes("fetch")||n.includes("timeout")?"NETWORK":n.includes("permission")||n.includes("access denied")?"PERMISSION":n.includes("file")||n.includes("path")||n.includes("directory")?"FILE_SYSTEM":n.includes("invalid")||n.includes("validation")?"VALIDATION":"UNKNOWN"}getUserFriendlyMessage(t,n){const r=n.message;switch(t){case"NETWORK":return`ç½‘ç»œé”™è¯¯ï¼š${r}ã€‚è¯·æ£€æŸ¥æ‚¨çš„ç½‘ç»œè¿žæŽ¥ã€‚`;case"VALIDATION":return`æ•°æ®éªŒè¯å¤±è´¥ï¼š${r}`;case"PERMISSION":return`æƒé™ä¸è¶³ï¼š${r}ã€‚è¯·æ£€æŸ¥æ–‡ä»¶è®¿é—®æƒé™ã€‚`;case"FILE_SYSTEM":return`æ–‡ä»¶ç³»ç»Ÿé”™è¯¯ï¼š${r}`;case"SERVICE":return`æœåŠ¡é”™è¯¯ï¼š${r}`;case"PLUGIN":return`æ’ä»¶é”™è¯¯ï¼š${r}`;case"UNKNOWN":default:return`å‘ç”Ÿé”™è¯¯ï¼š${r}`}}showNotice(t,n){new _e.Notice(t,n)}logToConsole(t){const n=new Date(t.timestamp).toLocaleString(),r=`[ErrorHandler][${t.type}][${n}]`;console.group(r),console.error("Message:",t.message),t.context&&console.error("Context:",t.context),t.stack&&console.error("Stack:",t.stack),t.details&&console.error("Details:",t.details),console.groupEnd()}addLogEntry(t){this.errorLogs.push(t),this.errorLogs.length>this.maxLogSize&&this.errorLogs.shift()}getErrorLogs(t){return t?this.errorLogs.slice(-t):[...this.errorLogs]}clearLogs(){this.errorLogs=[]}getErrorStats(){const t={NETWORK:0,VALIDATION:0,PERMISSION:0,FILE_SYSTEM:0,SERVICE:0,PLUGIN:0,UNKNOWN:0};return this.errorLogs.forEach(n=>{t[n.type]++}),t}async safeAsync(t,n,r){try{return await t()}catch(o){return this.handle(o,n,r),null}}safe(t,n,r){try{return t()}catch(o){return this.handle(o,n,r),null}}}const ZO=pi.getInstance();async function gd(e,t,n){return ZO.safeAsync(e,t,n)}class fi{static instance;metrics=new Map;config;reportTimer=null;constructor(t={}){this.config={maxSamples:t.maxSamples??100,warningThreshold:t.warningThreshold??1e3,errorThreshold:t.errorThreshold??5e3,autoReport:t.autoReport??!1,reportInterval:t.reportInterval??6e4},this.config.autoReport&&this.startAutoReport()}static getInstance(t){return fi.instance||(fi.instance=new fi(t)),fi.instance}startMeasure(t){const n=performance.now(),r=`${t}-start-${Date.now()}`;if(typeof performance.mark=="function")try{performance.mark(r)}catch{}return()=>{const i=performance.now()-n;if(this.recordMetric(t,i),this.checkThreshold(t,i),typeof performance.measure=="function")try{const s=`${t}-end-${Date.now()}`;performance.mark(s),performance.measure(t,r,s)}catch{}return i}}async measureAsync(t,n){const r=this.startMeasure(t);try{const o=await n();return r(),o}catch(o){throw r(),o}}measure(t,n){const r=this.startMeasure(t);try{const o=n();return r(),o}catch(o){throw r(),o}}recordMetric(t,n){let r=this.metrics.get(t);r||(r={name:t,samples:[],count:0,min:1/0,max:-1/0,avg:0,median:0,p95:0,p99:0,totalTime:0,lastUpdated:Date.now()},this.metrics.set(t,r)),r.samples.push(n),r.count++,r.totalTime+=n,r.lastUpdated=Date.now(),r.samples.length>this.config.maxSamples&&r.samples.shift(),this.updateMetricStats(r)}updateMetricStats(t){const n=[...t.samples].sort((r,o)=>r-o);t.min=Math.min(...n),t.max=Math.max(...n),t.avg=t.totalTime/t.count,t.median=this.calculatePercentile(n,50),t.p95=this.calculatePercentile(n,95),t.p99=this.calculatePercentile(n,99)}calculatePercentile(t,n){if(t.length===0)return 0;const r=Math.ceil(n/100*t.length)-1;return t[Math.max(0,r)]}checkThreshold(t,n){n>=this.config.errorThreshold?console.error(`[Performance] SLOW: ${t} took ${n.toFixed(2)}ms (threshold: ${this.config.errorThreshold}ms)`):n>=this.config.warningThreshold&&console.warn(`[Performance] Warning: ${t} took ${n.toFixed(2)}ms (threshold: ${this.config.warningThreshold}ms)`)}getMetric(t){return this.metrics.get(t)}getAllMetrics(){return Array.from(this.metrics.values())}generateReport(){const t=this.getAllMetrics();let n=0,r=0,o="",i="",s=-1/0,a=1/0;return t.forEach(c=>{n+=c.count,r+=c.totalTime,c.avg>s&&(s=c.avg,o=c.name),c.avg<a&&(a=c.avg,i=c.name)}),{timestamp:Date.now(),metrics:t,summary:{totalOperations:n,totalTime:r,averageTime:n>0?r/n:0,slowestOperation:o,fastestOperation:i}}}printReport(){const t=this.generateReport();console.group("ðŸ“Š Performance Report"),console.log(`Generated at: ${new Date(t.timestamp).toLocaleString()}`),console.log(`
=== Summary ===`),console.log(`Total Operations: ${t.summary.totalOperations}`),console.log(`Total Time: ${t.summary.totalTime.toFixed(2)}ms`),console.log(`Average Time: ${t.summary.averageTime.toFixed(2)}ms`),console.log(`Slowest: ${t.summary.slowestOperation}`),console.log(`Fastest: ${t.summary.fastestOperation}`),console.log(`
=== Metrics ===`),console.table(t.metrics.map(n=>({Name:n.name,Count:n.count,"Avg (ms)":n.avg.toFixed(2),"Min (ms)":n.min.toFixed(2),"Max (ms)":n.max.toFixed(2),"P95 (ms)":n.p95.toFixed(2),"P99 (ms)":n.p99.toFixed(2)}))),console.groupEnd()}exportReport(){const t=this.generateReport();return JSON.stringify(t,null,2)}clearMetrics(){this.metrics.clear()}clearMetric(t){this.metrics.delete(t)}startAutoReport(){this.reportTimer===null&&(this.reportTimer=window.setInterval(()=>{this.printReport()},this.config.reportInterval))}stopAutoReport(){this.reportTimer!==null&&(clearInterval(this.reportTimer),this.reportTimer=null)}updateConfig(t){this.config={...this.config,...t},t.autoReport!==void 0&&(t.autoReport?this.startAutoReport():this.stopAutoReport())}getSlowOperations(t){const n=t??this.config.warningThreshold;return this.getAllMetrics().filter(r=>r.avg>=n)}getTopSlowOperations(t=10){return this.getAllMetrics().sort((n,r)=>r.avg-n.avg).slice(0,t)}reset(){this.clearMetrics(),this.stopAutoReport()}}const Cb=fi.getInstance();function ms(e){return Cb.startMeasure(e)}const qO="\\d{4}[-/]\\d{2}[-/]\\d{2}",$l=new RegExp(qO),XO=/#([\p{L}\p{N}_\/-]+)/gu,JO=/\(([^:ï¼š]+)::\s*([^)]+)\)/g,Dm=/^\s*-\s*\[[ xX-]\]/,QO=/^\s*-\s*\[x\]/i,eR=/^\s*-\s*\[-\]/;function tR(e){let t=e.replace(/^\s*-\s*\[[ xX-]\]\s*/,"").trim();t=t.replace(/#[\p{L}\p{N}_-]+/gu,"");let n=t.split(/[\s(]/).find(r=>r&&r.trim());return n=n?.replace(new RegExp("^\\p{Extended_Pictographic}\\uFE0F?","u"),"").trim(),n?n.trim():""}function Qo(e,t){return pO(e,t)}const nR=e=>QO.test(e),rR=e=>eR.test(e);function oR(e,t,n,r,o){const i=t;if(!Dm.test(i))return null;const s={id:`${e}#${n}`,title:"",content:i.trim(),type:"task",tags:[],recurrence:"none",created:0,modified:0,extra:{},categoryKey:"",folder:r,theme:void 0},a=nR(i)?"done":rR(i)?"cancelled":"open";s.categoryKey=a==="done"||a==="cancelled"?"å®Œæˆä»»åŠ¡":"æœªå®Œæˆä»»åŠ¡";const c=i.match(XO)||[];s.tags=c.map(k=>k.replace("#",""));const u=i.match(/ðŸ”\s*([^\nðŸ“…â³ðŸ›«âž•âœ…âŒ]*)/);u&&u[1]&&(s.recurrence=u[1].trim());let d;for(;(d=JO.exec(i))!==null;){const k=d[1].trim(),C=d[2].trim(),T=k.toLowerCase();if(["ä¸»é¢˜","æ ‡ç­¾","tag","tags"].includes(T))C.split(/[,ï¼Œ]/).forEach(I=>{const E=I.trim().replace(/^#/,"");E&&s.tags.push(E)});else if(["æ—¶é—´","time","start"].includes(T))s.startTime=C;else if(["ç»“æŸ","end"].includes(T))s.endTime=C;else if(["æ—¶é•¿","duration"].includes(T))s.duration=Number(C)||void 0;else{const I=Number(C);let E=C;C!==""&&!isNaN(I)?E=I:/^(true|false)$/i.test(C)&&(E=C.toLowerCase()==="true"),s.extra[k]=E}}s.tags=Array.from(new Set(s.tags));const p=Qo(i,Yt.done),f=Qo(i,Yt.cancelled),h=Qo(i,Yt.due),m=Qo(i,Yt.scheduled),g=Qo(i,Yt.start),v=Qo(i,Yt.created),b=k=>{if(k.includes("ðŸ”º"))return"highest";if(k.includes("â«"))return"high";if(k.includes("ðŸ”¼"))return"medium";if(k.includes("â½"))return"low";if(k.includes("â¬"))return"lowest";if(k.includes("ðŸ”½"))return"low"},S=i.replace(Dm,"").trim(),y=S.match(new RegExp("^(\\p{Extended_Pictographic}\\uFE0F?)","u"));let w=S;return y&&(s.icon=y[1],w=w.replace(new RegExp("^(?:\\p{Extended_Pictographic}\\uFE0F?\\s*)+","u"),"")),s.title=tR(w)||"",s.priority=b(i),v&&(s.createdDate=v),m&&(s.scheduledDate=m),g&&(s.startDate=g),h&&(s.dueDate=h),p&&(s.doneDate=p),f&&(s.cancelledDate=f),s.startISO=g||m||h||v,s.endISO=p||f||h,!s.startISO&&a==="open"&&(s.startISO=s.date=s.dueDate||s.scheduledDate||s.startDate||s.createdDate),s.endISO||(s.endISO=s.startISO),s.startISO&&(s.startMs=Date.parse(s.startISO)),s.endISO&&(s.endMs=Date.parse(s.endISO)),s}function iR(e,t,n,r,o){const i=t.slice(n+1,r);let s="",a=null,c;const u=[],d={};let p="",f=!1,h=null,m,g,v,b;for(let y=0;y<i.length;y++){const w=i[y],k=w.trim();if(f)p+=(p?`
`:"")+w;else{if(k==="")continue;const C=k.match(/^([^:ï¼š]{1,20})[:ï¼š]{1,2}\s*(.*)$/);if(C){const T=C[1].trim(),I=C[2]||"",E=T.toLowerCase();if(["åˆ†ç±»","ç±»åˆ«","category"].includes(E))a=I.trim();else if(["ä¸»é¢˜"].includes(E))b=I.trim();else if(["æ ‡ç­¾","tag","tags"].includes(E))u.push(...I.trim().split(/[,ï¼Œ]/).map(O=>O.trim().replace(/^#/,"")));else if(["æ—¥æœŸ","date"].includes(E))c=Bp(I.trim());else if(["å‘¨æœŸ","period"].includes(E))m=I.trim();else if(["è¯„åˆ†","rating"].includes(E))g=Number(I.trim())||void 0;else if(["å›¾æ ‡","icon"].includes(E))h=I.trim();else if(["è¯„å›¾","pintu"].includes(E))v=I.trim();else if(["å†…å®¹","content"].includes(E))f=!0,p=I;else{const O=Number(I.trim());let P=I.trim();P!==""&&!isNaN(O)?P=O:/^(true|false)$/i.test(P)&&(P=P.toLowerCase()==="true"),d[T]=P}}else f=!0,p=w}}p.trim()!==""?s=p.trim().split(/\r?\n/)[0]:u.length>0&&(s=u.join(", ")),s=s.replace(new RegExp("^(?:\\p{Extended_Pictographic}\\uFE0F?\\s*)+","u"),"").trim().slice(0,20),a||(a=o||"");const S={id:`${e}#${n+1}`,title:s||"",content:p.trim(),type:"block",tags:Array.from(new Set(u)),recurrence:"none",created:0,modified:0,extra:d,categoryKey:a,folder:o,theme:b};return h&&(S.icon=h),m&&(S.period=m),g&&(S.rating=g),v&&(S.pintu=v),S.startISO=c,S.endISO=c,S.startISO&&(S.startMs=Date.parse(S.startISO)),S.endISO&&(S.endMs=S.startMs),S.date=c,S.period&&S.date&&(S.periodCount=gO(S.period,Ie(S.date))),S}function sR(e,t=250){let n=0,r=null;return function(...o){const i=Date.now();i-n>=t?(n=i,e.apply(this,o)):(clearTimeout(r),r=setTimeout(()=>{n=Date.now(),e.apply(this,o)},t-(i-n)))}}var aR=Object.getOwnPropertyDescriptor,lR=(e,t,n,r)=>{for(var o=r>1?void 0:r?aR(t,n):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(o=s(o)||o);return o},cR=(e,t)=>(n,r)=>t(n,r,e);let vd=class{constructor(e){this.app=e}async readFile(e){return this.app.vault.read(e)}getMarkdownFiles(){return this.app.vault.getMarkdownFiles()}async writeFile(e,t){return this.app.vault.modify(e,t)}getByPath(e){return this.app.vault.getAbstractFileByPath(e)??null}async ensureFile(e,t=""){const n=this.getByPath(e);return n instanceof _e.TFile?n:this.app.vault.create(e,t)}onVault(e,t){return this.app.vault.on(e,t)}};vd=lR([or(),cR(0,Ot(Lr))],vd);const uR=["done","due","scheduled","start","created","end"];function zm(e){if(e.type==="block"){if(e.date){e.dateSource="block";const n=Date.parse(e.date);isNaN(n)||(e.dateMs=n)}e.categoryKey||(e.categoryKey="");return}const t={done:e.doneDate,due:e.dueDate,scheduled:e.scheduledDate,start:e.startDate??e.startISO,created:e.createdDate,end:e.endISO};for(const n of uR){const r=t[n];if(r){e.date=r,e.dateSource=n;const o=Date.parse(r);isNaN(o)||(e.dateMs=o);break}}e.categoryKey||(e.categoryKey="ä»»åŠ¡/open")}const dR=e=>e.replace(/\s*[\(\[]æ—¶é—´::[^)\]]*[\)\]]/g,"").replace(/\s*[\(\[]ç»“æŸ::[^)\]]*[\)\]]/g,"").replace(/\s*[\(\[]æ—¶é•¿::[^)\]]*[\)\]]/g,"").trim();function pR(e,t,n,r){let o=dR(e);const i=r?.duration,s=r?.startTime,a=r?.endTime,c=[];return s!==void 0?c.push(`(æ—¶é—´:: ${s})`):i===void 0&&a===void 0&&c.push(`(æ—¶é—´:: ${n})`),a!==void 0&&c.push(`(ç»“æŸ:: ${a})`),i!==void 0&&c.push(`(æ—¶é•¿:: ${i})`),o=[o,...c].join(" ").replace(/\s+/g," ").trim(),o=o.replace(/^(\s*-\s*)\[[ xX-]\]/,"$1[x]"),/^-\s*\[x\]/.test(o)||(o=`- [x] ${o.replace(/^-\s*\[.\]/,"").replace(/^-\s*/,"")}`),o=o.replace(new RegExp(`\\s*${Yt.done}\\s*${$l.source}$`),""),`${o.trim()} ${Yt.done} ${t}`}function Wp(e){const t=e.match(/ðŸ”\s*every\s+(\d+)?\s*(day|week|month|year)s?\s*(when done)?/i);if(!t)return null;const n=t[1]?parseInt(t[1],10):1,r=t[2].toLowerCase(),o=!!t[3];return{interval:n,unit:r,whenDone:o}}function fR(e,t,n){if(t)return n;const r=o=>{const i=new RegExp(`${o}\\s*(${$l.source})`),s=e.match(i);return s?Bp(s[1]):null};return r(Yt.due)||r(Yt.scheduled)||r(Yt.start)||n}function hR(e,t){let n=e.replace(/^(\s*-\s*)\[[ xX-]\]/,"$1[ ]").replace(new RegExp(`\\s*${Yt.done}\\s*${$l.source}`),"").replace(/\s*[\(\[]æ—¶é—´::[^)\]]*[\)\]]/g,"").replace(/\s*[\(\[]ç»“æŸ::[^)\]]*[\)\]]/g,"");const r=Wp(e);if(!r)return n.trim();const s=Ie(t,["YYYY-MM-DD","YYYY/MM/DD"]).add(r.interval,r.unit).format("YYYY-MM-DD"),a=c=>{const u=new RegExp(`${c}\\s*${$l.source}`);u.test(n)&&(n=n.replace(u,`${c} ${s}`))};return a(Yt.due),a(Yt.scheduled),a(Yt.start),n.trim()}function za(e,t,n,r){const o=pR(e,t,n,r),i=Wp(e);if(!i)return{completedLine:o};const s=fR(e,i.whenDone,t),a=hR(e,s);return{completedLine:o,nextTaskLine:a}}var mR=Object.getOwnPropertyDescriptor,gR=(e,t,n,r)=>{for(var o=r>1?void 0:r?mR(t,n):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(o=s(o)||o);return o};let Ri=class{themes=new Map;themeIdCounter=0;constructor(){}initializeDefaultThemes(){}addDefaultThemes(){this.addPredefinedTheme("å·¥ä½œ","ðŸ’¼"),this.addPredefinedTheme("ç”Ÿæ´»","ðŸ "),this.addPredefinedTheme("å­¦ä¹ ","ðŸ“š"),this.addPredefinedTheme("å¥åº·","ðŸ’ª"),this.addPredefinedTheme("é¡¹ç›®","ðŸ“")}generateThemeId(){return`theme_${++this.themeIdCounter}`}findParentTheme(e){const t=e.split("/");if(t.length<=1)return null;const n=t.slice(0,-1).join("/");return Array.from(this.themes.values()).find(o=>o.path===n)?.id||null}addPredefinedTheme(e,t){const n=Array.from(this.themes.values()).find(o=>o.path===e);if(n)return n.icon=t||n.icon,n.source="predefined",n.status="active",n.originallyPredefined=!0,n;const r={id:this.generateThemeId(),path:e,name:e.split("/").pop()||e,icon:t,parentId:this.findParentTheme(e),status:"active",source:"predefined",usageCount:0,order:this.themes.size,originallyPredefined:!0};return this.themes.set(r.id,r),r}discoverTheme(e){if(!e||e.trim()==="")throw new Error("ä¸»é¢˜è·¯å¾„ä¸èƒ½ä¸ºç©º");const t=Array.from(this.themes.values()).find(r=>r.path===e);if(t)return t.usageCount++,t.lastUsed=Date.now(),t;const n={id:this.generateThemeId(),path:e,name:e.split("/").pop()||e,parentId:this.findParentTheme(e),status:"inactive",source:"discovered",usageCount:1,lastUsed:Date.now(),order:this.themes.size};return this.themes.set(n.id,n),n}activateTheme(e){const t=Array.from(this.themes.values()).find(n=>n.path===e);t&&(t.status="active",t.source==="discovered"&&(t.source="predefined"))}deactivateTheme(e){const t=Array.from(this.themes.values()).find(n=>n.path===e);t&&!t.originallyPredefined&&(t.status="inactive")}getActiveThemes(){return Array.from(this.themes.values()).filter(e=>e.status==="active").sort((e,t)=>e.usageCount!==t.usageCount?t.usageCount-e.usageCount:e.lastUsed&&t.lastUsed?t.lastUsed-e.lastUsed:e.order-t.order)}getAllThemes(){const e=Array.from(this.themes.values());return{active:e.filter(t=>t.status==="active"),inactive:e.filter(t=>t.status==="inactive"),discovered:e.filter(t=>t.source==="discovered")}}extractTheme(e){return e.type==="task"||e.type==="block",e.theme||null}findThemeByPartialMatch(e){if(!e||e.trim()==="")return null;const t=e.trim().toLowerCase(),n=Array.from(this.themes.values());for(const r of n)if(r.path.toLowerCase()===t)return r.path;for(const r of n)if(r.path.split("/").pop()?.toLowerCase()===t)return r.path;for(const r of n)if(r.path.toLowerCase().endsWith("/"+t))return r.path;for(const r of n){const o=r.path.toLowerCase();if(new RegExp(`(^|/)${t}(/|$)`,"i").test(o))return r.path}for(const r of n){const o=r.path.split("/").pop()?.toLowerCase();if(o&&o.includes(t))return r.path}return null}scanDataForThemes(e){const t=new Set;for(const n of e){const r=this.extractTheme(n);r&&t.add(r)}for(const n of t)this.discoverTheme(n)}getThemeStats(){const e=Array.from(this.themes.values());return{total:e.length,active:e.filter(t=>t.status==="active").length,inactive:e.filter(t=>t.status==="inactive").length,predefined:e.filter(t=>t.source==="predefined").length,discovered:e.filter(t=>t.source==="discovered").length}}removeTheme(e){const t=Array.from(this.themes.values()).find(n=>n.path===e);return t&&!t.originallyPredefined?this.themes.delete(t.id):!1}updateThemeIcon(e,t){const n=Array.from(this.themes.values()).find(r=>r.path===e);n&&(n.icon=t)}getThemeHierarchy(){const e=new Map;for(const t of this.themes.values()){const n=t.parentId;e.has(n)||e.set(n,[]),e.get(n).push(t)}return e}clearThemes(){this.themes.clear(),this.themeIdCounter=0}exportThemes(){return Array.from(this.themes.values())}importThemes(e){for(const t of e)if(!this.themes.has(t.id)){this.themes.set(t.id,t);const n=parseInt(t.id.replace("theme_",""));!isNaN(n)&&n>this.themeIdCounter&&(this.themeIdCounter=n)}}getThemeByPath(e){return Array.from(this.themes.values()).find(t=>t.path===e)}updateThemeUsage(e){const t=this.getThemeByPath(e);t&&(t.usageCount++,t.lastUsed=Date.now())}};Ri=gR([or()],Ri);const su=1;function vR(e){return{id:e.id,filePath:e.file?.path||"",filename:e.filename??e.fileName,titleLower:e.title?.toLowerCase(),contentLower:e.content?.toLowerCase(),tagsLower:(e.tags||[]).map(t=>t.toLowerCase()),themePathNormalized:e.theme,dateMs:e.dateMs??e.startMs??e.endMs,categoryKey:e.categoryKey,created:e.created,modified:e.modified}}function yR(e){const t={id:e.id,title:"",content:"",type:"task",tags:e.tagsLower||[],theme:e.themePathNormalized,categoryKey:e.categoryKey,recurrence:"none",created:e.created,modified:e.modified,dateMs:e.dateMs,filename:e.filename,file:{path:e.filePath},extra:{}};return t.titleLower=e.titleLower??"",t.contentLower=e.contentLower??"",t.tagsLower=e.tagsLower??[],t.themePathNormalized=e.themePathNormalized,t}var bR=Object.getOwnPropertyDescriptor,wR=(e,t,n,r)=>{for(var o=r>1?void 0:r?bR(t,n):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(o=s(o)||o);return o},La=(e,t)=>(n,r)=>t(n,r,e);let Do=class{constructor(e,t,n,r){this.platform=e,this.app=t,this.themeManager=n,this.storage=r}items=[];fileIndex=new Map;changeListeners=new Set;queryCache=new Map;cache=null;dataVersion=0;_cacheSaveTimer=null;_perf={start:0,end:0,scannedFiles:0,scannedItems:0};async scanAll(){this.items=[],this.fileIndex.clear();const e=this.platform.getMarkdownFiles();for(const t of e){const n=await this.scanFile(t);this._perf.scannedFiles+=1,this._perf.scannedItems+=n.length}this.bumpVersion()}async initialScan(){return this.warmStart()}async warmStart(){this._perf={start:Date.now(),end:0,scannedFiles:0,scannedItems:0};let e=await this.storage.readJSON("Think/cache.json");(!e||e.schemaVersion!==su)&&(e={schemaVersion:su,files:{}}),this.cache=e;const t=this.platform.getMarkdownFiles(),n=new Set,r=[],o=[];for(const i of t){const s=i.path;n.add(s);const a=i.stat,c=e.files[s];c&&c.mtime===a.mtime&&c.size===a.size?r.push({path:s,cached:c}):o.push(i)}this.items=[],this.fileIndex.clear();for(const{path:i,cached:s}of r){const a=s.items.map(yR);this.fileIndex.set(i,a),this.items.push(...a)}for(const i of o){const s=await this.scanFile(i,{bumpVersion:!1});this._perf.scannedFiles+=1,this._perf.scannedItems+=s.length}for(const i of Object.keys(e.files))n.has(i)||delete e.files[i];this.bumpVersion(),this._perf.end=Date.now(),this._scheduleCacheSave(),this.notifyChange()}async scanFile(e,t={}){try{const r=(await this.platform.readFile(e)).split(/\r?\n/),o=e.path,i=e.parent?.name||"",s=[],c=this.app.metadataCache.getFileCache(e)?.headings||[];let u=0,d=[],p="";const f=e.name.toLowerCase().endsWith(".md")?e.name.slice(0,-3):e.name;for(let h=0;h<r.length;h++){const m=r[h];if(u<c.length&&c[u].position.start.line===h){const b=c[u].heading,S=b.match(/#([\p{L}\p{N}_\/-]+)/gu)||[];d=S.map(w=>w.replace("#","")).filter(Boolean);let y=b;for(const w of S)y=y.replace(w,"").trim();p=y||"",u++;continue}if(m.trim()==="<!-- start -->"){const v=r.indexOf("<!-- end -->",h+1);if(v!==-1){const b=iR(o,r,h,v,i);if(b){b.created=e.stat.ctime,b.modified=e.stat.mtime,p&&(b.header=p),b.tags=Array.from(new Set([...d,...b.tags])),b.filename=f,b.fileName=f,zm(b);const S=b.id.lastIndexOf("#"),y=S>=0?Number(b.id.slice(S+1)):void 0;if(b.file={path:o,line:y,basename:f},p){const w=this.themeManager.findThemeByPartialMatch(p);b.theme=w||p}b.titleLower=(b.title||"").toLowerCase(),b.contentLower=(b.content||"").toLowerCase(),b.tagsLower=(b.tags||[]).map(w=>w.toLowerCase()),b.themePathNormalized=b.theme||void 0,s.push(b)}h=v;continue}}const g=oR(o,m,h+1,i);if(g){if(g.tags=Array.from(new Set([...d,...g.tags])),g.created=e.stat.ctime,g.modified=e.stat.mtime,p){g.header=p;const v=this.themeManager.findThemeByPartialMatch(p);g.theme=v||p}g.filename=f,g.fileName=f,zm(g),g.file={path:o,line:h+1,basename:f},g.recurrenceInfo=Wp(g.content)||void 0,g.titleLower=(g.title||"").toLowerCase(),g.contentLower=(g.content||"").toLowerCase(),g.tagsLower=(g.tags||[]).map(v=>v.toLowerCase()),g.themePathNormalized=g.theme||void 0,s.push(g)}}return this.fileIndex.has(o)&&(this.items=this.items.filter(h=>h.id&&!h.id.startsWith(o+"#"))),this.fileIndex.set(o,s),this.items.push(...s),this.cache||(this.cache={schemaVersion:su,files:{}}),this.cache.files[o]={mtime:e.stat.mtime,size:e.stat.size,items:s.map(vR)},this._scheduleCacheSave(),t.bumpVersion!==!1&&this.bumpVersion(),s}catch(n){return console.error("ThinkPlugin: æ‰«ææ–‡ä»¶å¤±è´¥",e.path,n),[]}}removeFileItems(e){this.fileIndex.has(e)&&(this.fileIndex.delete(e),this.items=this.items.filter(t=>t.id&&!t.id.startsWith(e+"#"))),this.cache&&this.cache.files[e]&&(delete this.cache.files[e],this._scheduleCacheSave()),this.bumpVersion()}queryItems(e=[],t=[]){const n=this._makeQueryKey(e,t),r=this.queryCache.get(n);if(r)return r;const o=$c(this.items,e),i=wb(o,t);return this.queryCache.set(n,i),i}_makeQueryKey(e=[],t=[]){return JSON.stringify({f:e,s:t,v:this.dataVersion})}bumpVersion(){this.dataVersion++,this.queryCache.clear()}_emitChange(){this.changeListeners.forEach(e=>{try{e()}catch(t){console.error("ThinkPlugin: æ•°æ®å˜åŒ–é€šçŸ¥é”™è¯¯",t)}})}_emitThrottled=sR(()=>this._emitChange(),250);subscribe(e){this.changeListeners.add(e)}unsubscribe(e){this.changeListeners.delete(e)}notifyChange(){this._emitThrottled()}_scheduleCacheSave(e=1500){clearTimeout(this._cacheSaveTimer),this._cacheSaveTimer=setTimeout(async()=>{try{this.cache&&await this.storage.writeJSON("Think/cache.json",this.cache)}catch(t){console.warn("ThinkPlugin: å†™å…¥ç¼“å­˜å¤±è´¥",t)}},e)}async writePerformanceReport(e,t={}){try{const n="Think/performance-report.json",r=await this.storage.readJSON(n)||[],o={ts:Date.now(),stage:e,scannedFiles:this._perf.scannedFiles,scannedItems:this._perf.scannedItems,durationMs:Math.max(0,this._perf.end-this._perf.start),...t};r.push(o),await this.storage.writeJSON(n,r)}catch(n){console.warn("ThinkPlugin: å†™å…¥æ€§èƒ½æŠ¥å‘Šå¤±è´¥",n)}}};Do=wR([or(),La(0,Ot(vd)),La(1,Ot(Lr)),La(2,Ot(Ri)),La(3,Ot(xb))],Do);const kb=rt(l("path",{d:"m16 5-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2"})),SR=rt(l("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"})),Lm=ht;function xR({title:e,collapsed:t,children:n,onActionClick:r,onToggle:o,onExport:i,onSettingsClick:s}){return l("div",{class:"think-module",children:[l("div",{class:"module-header",onClick:c=>{c.target.closest(".module-header-actions")||o?.(c)},title:"ç‚¹å‡»æŠ˜å /å±•å¼€ï¼›Ctrl/âŒ˜ + ç‚¹å‡»ï¼šå…¨éƒ¨æŠ˜å /å±•å¼€",children:[l("span",{class:"module-title",children:e}),l("div",{class:"module-header-controls",children:[l("div",{class:"module-header-actions",children:[s&&l(vt,{title:"æ¨¡å—è®¾ç½®",children:l(Lm,{size:"small",onClick:c=>{c.stopPropagation(),s()},sx:{padding:"4px"},children:l(SR,{sx:{fontSize:"1rem"}})})}),i&&l(vt,{title:"å¯¼å‡ºä¸º Markdown",children:l(Lm,{size:"small",onClick:c=>{c.stopPropagation(),i()},sx:{padding:"4px"},children:l(kb,{sx:{fontSize:"1rem"}})})}),l("span",{class:"module-action-plus",title:"å¿«æ·è¾“å…¥",onClick:c=>{c.stopPropagation(),r?.()},children:"+"})]}),l("div",{class:"module-toggle",children:t?"â–¶":"â–¼"})]})]}),!t&&l("div",{class:"module-content",children:n})]})}const Ec=rt(l("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),Vp=rt(l("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),CR=rt(l("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"})),kR=rt(l("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}));function _R({option:e,onChange:t,onRemove:n,fieldType:r}){const[o,i]=U(e);ae(()=>{i(e)},[e]);const s=()=>{t(o)},a=r==="rating",c=a?"è¯„åˆ†æ•°å€¼":"é€‰é¡¹æ ‡ç­¾",u=a?"æ˜¾ç¤ºå†…å®¹ (Emoji/å›¾ç‰‡è·¯å¾„)":"é€‰é¡¹å€¼";return l(qe,{direction:"row",alignItems:"center",spacing:1.5,children:[l(pt,{label:c,value:o.label||"",onChange:d=>i(p=>({...p,label:d.target.value})),onBlur:s,size:"small",variant:"outlined",sx:{flex:1}}),l(pt,{label:u,value:o.value,onChange:d=>i(p=>({...p,value:d.target.value})),onBlur:s,size:"small",variant:"outlined",sx:{flex:1}}),l(vt,{title:"åˆ é™¤æ­¤é€‰é¡¹",children:l(ht,{onClick:n,size:"small",children:l(Np,{fontSize:"small"})})})]})}function TR({field:e,index:t,fieldCount:n,onUpdate:r,onRemove:o,onMove:i}){const[s,a]=U(e.label||e.key),[c,u]=U(!1);ae(()=>{a(e.label||e.key)},[e.label,e.key]);const d=()=>{const b=s.trim();b&&b!==(e.label||e.key)?r({key:b,label:b}):a(e.label||e.key),u(!1)},p=(b,S)=>{const y=[...e.options||[]];y[b]=S,r({options:y})},f=()=>{const b=[...e.options||[]];b.push({value:"ðŸ†•",label:String(b.length+1)}),r({options:b})},h=b=>{r({options:(e.options||[]).filter((S,y)=>y!==b)})},m=[{value:"text",label:"å•è¡Œæ–‡æœ¬"},{value:"textarea",label:"å¤šè¡Œæ–‡æœ¬"},{value:"number",label:"æ•°å­—"},{value:"date",label:"æ—¥æœŸ"},{value:"time",label:"æ—¶é—´"},{value:"select",label:"ä¸‹æ‹‰é€‰æ‹©"},{value:"radio",label:"å•é€‰æŒ‰é’®"},{value:"rating",label:"è¯„åˆ†"}],g=["select","radio","rating"].includes(e.type),v=["text","textarea","number","date","time"].includes(e.type);return l(de,{children:[l(qe,{direction:"row",spacing:2,alignItems:"center",children:[l(Qn,{value:e.type,options:m,onChange:b=>r({type:b}),sx:{minWidth:120,flexShrink:0}}),l(pt,{label:"å­—æ®µåç§°",placeholder:"ä¾‹å¦‚ï¼šä»»åŠ¡å†…å®¹",value:s,onChange:b=>a(b.target.value),onBlur:d,size:"small",variant:"outlined",sx:{flexGrow:1},title:"è¯¥åç§°å°†ä½œä¸ºè¡¨å•é¡¹çš„æ ‡é¢˜ï¼Œå¹¶åœ¨æ¨¡æ¿ä¸­é€šè¿‡ {{å­—æ®µåç§°}} çš„å½¢å¼å¼•ç”¨"}),e.type==="number"&&l(qe,{direction:"row",spacing:1,children:[l(pt,{label:"Min",type:"number",value:e.min??"",onChange:b=>r({min:b.target.value===""?void 0:Number(b.target.value)}),size:"small",variant:"outlined",sx:{width:80}}),l(pt,{label:"Max",type:"number",value:e.max??"",onChange:b=>r({max:b.target.value===""?void 0:Number(b.target.value)}),size:"small",variant:"outlined",sx:{width:80}})]}),l(qe,{direction:"row",children:[l(vt,{title:"ä¸Šç§»",children:l("span",{children:l(ht,{size:"small",disabled:t===0,onClick:()=>i("up"),children:l(CR,{sx:{fontSize:"1.1rem"}})})})}),l(vt,{title:"ä¸‹ç§»",children:l("span",{children:l(ht,{size:"small",disabled:t===n-1,onClick:()=>i("down"),children:l(kR,{sx:{fontSize:"1.1rem"}})})})})]}),l(vt,{title:"åˆ é™¤æ­¤å­—æ®µ",children:l(ht,{onClick:o,size:"small",color:"error",children:l(Vp,{})})})]}),v&&l(pt,{label:"é»˜è®¤å€¼",multiline:e.type==="textarea",rows:e.type==="textarea"?3:1,type:e.type==="date"||e.type==="time"?e.type:"text",value:e.defaultValue||"",onBlur:b=>r({defaultValue:b.target.value}),size:"small",variant:"outlined",fullWidth:!0,placeholder:"å¯ä½¿ç”¨ {{moment:YYYY-MM-DD}}ã€{{theme}} ç­‰æ¨¡æ¿å˜é‡",sx:{mt:1.5,ml:6}}),g&&l(de,{sx:{mt:2,pl:2,ml:6},children:[l(qe,{spacing:1.5,divider:l(dn,{flexItem:!0,sx:{borderStyle:"dashed"}}),children:(e.options||[]).map((b,S)=>l(_R,{option:b,onChange:y=>p(S,y),onRemove:()=>h(S),fieldType:e.type},S))}),l(Ze,{onClick:f,startIcon:l(Ec,{}),size:"small",sx:{alignSelf:"flex-start",mt:1.5},children:"æ·»åŠ é€‰é¡¹"})]})]})}function _b({fields:e=[],onChange:t}){const n=(s,a)=>{const c=[...e||[]];c[s]={...c[s],...a},t(c)},r=()=>{const s=`æ–°å­—æ®µ${(e||[]).length+1}`;t([...e||[],{id:`field_${Date.now().toString(36)}`,key:s,label:s,type:"text"}])},o=s=>{t((e||[]).filter((a,c)=>c!==s))},i=(s,a)=>{const c=[...e||[]],u=a==="up"?s-1:s+1;u<0||u>=c.length||([c[s],c[u]]=[c[u],c[s]],t(c))};return l(qe,{spacing:2,divider:l(dn,{sx:{my:1}}),children:[(e||[]).map((s,a)=>l(TR,{field:s,index:a,fieldCount:e.length,onUpdate:c=>n(a,c),onRemove:()=>o(a),onMove:c=>i(a,c)},s.id)),l(Ze,{onClick:r,startIcon:l(Ec,{}),variant:"contained",size:"small",sx:{alignSelf:"flex-start"},children:"æ·»åŠ å­—æ®µ"})]})}function Tb({block:e}){const t=ie(()=>{const r=[{value:"{{block}}",label:"block"},{value:"{{theme}}",label:"theme"},{value:"{{icon}}",label:"icon"},{value:"{{moment:YYYY-MM-DD}}",label:"moment:YYYY-MM-DD"}];return e.fields.forEach(o=>{const i=o.key||"untitled";r.push({value:`{{${i}}}`,label:`${i}`}),(o.type==="select"||o.type==="radio")&&r.push({value:`{{${i}.value}}`,label:`${i}.value`})}),r},[e]);return l(de,{sx:{maxWidth:220},children:l(Qn,{value:"",options:t,onChange:r=>{r&&(navigator.clipboard.writeText(r),new _e.Notice(`å·²å¤åˆ¶: ${r}`))},placeholder:"-- å¤åˆ¶å˜é‡ --"})})}function IR({isOpen:e,onClose:t,block:n,theme:r,existingOverride:o,appStore:i}){const[s,a]=U("inherit"),[c,u]=U({});ae(()=>{o?(a(o.disabled?"disabled":"override"),u(JSON.parse(JSON.stringify(o)))):(a("inherit"),u({fields:JSON.parse(JSON.stringify(n.fields)),outputTemplate:n.outputTemplate,targetFile:n.targetFile,appendUnderHeader:n.appendUnderHeader}))},[e,o,n]);const d=ie(()=>({...n,...c,fields:c.fields||n.fields}),[n,c]),p=()=>{if(s==="inherit")o&&i.deleteOverride(n.id,r.id),new _e.Notice(`å·²è®¾ä¸ºç»§æ‰¿ "${n.name}" çš„åŸºç¡€é…ç½®`);else{const h={blockId:n.id,themeId:r.id,disabled:s==="disabled",fields:s==="override"?c.fields:void 0,outputTemplate:s==="override"?c.outputTemplate:void 0,targetFile:s==="override"?c.targetFile:void 0,appendUnderHeader:s==="override"?c.appendUnderHeader:void 0};i.upsertOverride(h),new _e.Notice(`å·²ä¿å­˜ "${r.path}" å¯¹ "${n.name}" çš„é…ç½®`)}t()};if(!e)return null;const f=s!=="override";return l(vc,{open:e,onClose:t,fullWidth:!0,maxWidth:"md",disablePortal:!0,children:[l(wc,{children:l(oe,{children:["é…ç½®: ",l("strong",{children:r.path})," / ",l("span",{style:{color:"var(--color-accent)"},children:n.name})]})}),l(bc,{dividers:!0,children:l(qe,{spacing:3,children:[l(xn,{component:"fieldset",children:[l(qy,{component:"legend",children:"é…ç½®æ¨¡å¼"}),l(Ni,{row:!0,value:s,onChange:h=>a(h.target.value),children:[l(on,{value:"inherit",control:l(oo,{}),label:"ç»§æ‰¿"}),l(on,{value:"override",control:l(oo,{}),label:"è¦†å†™"}),l(on,{value:"disabled",control:l(oo,{}),label:"ç¦ç”¨"})]})]}),l("fieldset",{disabled:f,style:{border:"none",padding:0,margin:0,opacity:f?.6:1},children:l(qe,{spacing:3,children:[l(dn,{}),l(de,{children:[l(oe,{variant:"h6",sx:{fontSize:"1rem",fontWeight:600,mb:1},children:"è¾“å‡ºç›®æ ‡"}),l(qe,{spacing:2,children:[l(pt,{label:"ç›®æ ‡æ–‡ä»¶è·¯å¾„",value:c.targetFile||"",onChange:h=>u(m=>({...m,targetFile:h.target.value})),fullWidth:!0,variant:"outlined"}),l(pt,{label:"è¿½åŠ åˆ°æ ‡é¢˜ä¸‹ (å¯é€‰)",value:c.appendUnderHeader||"",onChange:h=>u(m=>({...m,appendUnderHeader:h.target.value})),fullWidth:!0,variant:"outlined"})]})]}),l(dn,{}),l(de,{children:[l(oe,{variant:"h6",sx:{fontSize:"1rem",fontWeight:600,mb:1.5},children:"è¡¨å•å­—æ®µ"}),l(_b,{fields:c.fields||[],onChange:h=>u(m=>({...m,fields:h}))})]}),l(dn,{}),l(de,{children:[l(qe,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:1},children:[l(oe,{variant:"h6",sx:{fontSize:"1rem",fontWeight:600},children:"è¾“å‡ºæ¨¡æ¿"}),l(Tb,{block:d})]}),l(pt,{multiline:!0,rows:8,value:c.outputTemplate||"",onChange:h=>u(m=>({...m,outputTemplate:h.target.value})),fullWidth:!0,variant:"outlined",sx:{fontFamily:"monospace","& textarea":{fontSize:"13px"}}})]})]})})]})}),l(yc,{children:[l(Ze,{onClick:t,children:"å–æ¶ˆ"}),l(Ze,{onClick:p,variant:"contained",children:"ä¿å­˜é…ç½®"})]})]})}function au(e){return e?e.trim().replace(/\/+/g,"/").replace(/^\/|\/$/g,""):""}function lu(e){if(!e||e.trim()==="")return{valid:!1,message:"è·¯å¾„ä¸èƒ½ä¸ºç©º"};if(/[<>:"|?*\\]/.test(e))return{valid:!1,message:"è·¯å¾„åŒ…å«éžæ³•å­—ç¬¦"};const n=e.split("/");for(const r of n){if(r.trim()==="")return{valid:!1,message:"è·¯å¾„æ®µä¸èƒ½ä¸ºç©º"};if(r.startsWith(".")||r.endsWith("."))return{valid:!1,message:"è·¯å¾„æ®µä¸èƒ½ä»¥ç‚¹å¼€å§‹æˆ–ç»“æŸ"}}return{valid:!0}}function Pc(e,t,n="",r=0){const o=[];return e.filter(s=>{const a=s.path;return n===""?!a.includes("/"):a.startsWith(n+"/")&&a.slice(n.length+1).indexOf("/")===-1}).forEach(s=>{const a=Pc(e.filter(c=>c.path.startsWith(s.path+"/")),t,s.path,r+1);o.push({theme:s,children:a,expanded:t.has(s.id),level:r})}),o}function Ib(e){const t=[e.theme.id];return e.children.forEach(n=>{t.push(...Ib(n))}),t}function $b(e,t){for(const n of e){if(n.theme.id===t)return n;const r=$b(n.children,t);if(r)return r}return null}class $R{appStore;themeManager;constructor(t){this.appStore=t.appStore,this.themeManager=t.themeManager||new Ri}getExtendedThemes(t){return t.map(n=>{const r=this.themeManager.getThemeByPath(n.path),o=n.source||r?.source||"predefined";return{...n,status:r?.status||"active",source:o,usageCount:r?.usageCount||0,lastUsed:r?.lastUsed}})}addTheme(t){const n=au(t),r=lu(n);return r.valid?this.appStore.getState().settings.inputSettings.themes.some(i=>i.path===n)?{success:!1,message:"ä¸»é¢˜è·¯å¾„å·²å­˜åœ¨"}:(this.appStore.addTheme(n),{success:!0}):{success:!1,message:r.message}}updateTheme(t,n){if(n.path){const r=au(n.path),o=lu(r);if(!o.valid)return{success:!1,message:o.message};if(this.appStore.getState().settings.inputSettings.themes.some(a=>a.id!==t&&a.path===r))return{success:!1,message:"ä¸»é¢˜è·¯å¾„å·²è¢«ä½¿ç”¨"};n.path=r}return this.appStore.updateTheme(t,n),{success:!0}}deleteTheme(t,n=!1){const r=this.appStore.getState().settings.inputSettings.themes,o=this.getExtendedThemes(r),i=Pc(o,new Set),s=$b(i,t);if(!s)return{success:!1,deletedCount:0};const a=[t];if(n){const c=Ib(s);a.push(...c.slice(1))}return a.forEach(c=>this.appStore.deleteTheme(c)),{success:!0,deletedCount:a.length}}async performBatchOperation(t,n){const r={success:0,failed:0,errors:[]},o=this.appStore.getState().settings.inputSettings.themes,i=this.getExtendedThemes(o);for(const s of n){const a=i.find(c=>c.id===s);if(!a){r.failed++,r.errors.push(`ä¸»é¢˜ ${s} ä¸å­˜åœ¨`);continue}try{switch(t){case"activate":this.themeManager.activateTheme(a.path),r.success++;break;case"archive":this.themeManager.deactivateTheme(a.path),r.success++;break;case"delete":a.source==="predefined"?(r.failed++,r.errors.push(`æ— æ³•åˆ é™¤é¢„å®šä¹‰ä¸»é¢˜ ${a.path}`)):(this.appStore.deleteTheme(s),r.success++);break}}catch(c){r.failed++,r.errors.push(`æ“ä½œ ${a.path} å¤±è´¥: ${c}`)}}return r}async updateThemeOverride(t,n,r){r===null?await this.appStore.deleteOverride(n,t):await this.appStore.upsertOverride({themeId:t,blockId:n,disabled:r.disabled||!1,outputTemplate:r.outputTemplate||"",targetFile:r.targetFile||"",appendUnderHeader:r.appendUnderHeader||""})}validatePath(t){return lu(au(t))}getThemeStatistics(t){const n=this.appStore.getState().settings.inputSettings.overrides,r=new Map;n.forEach(c=>{const u=r.get(c.themeId)||0;r.set(c.themeId,u+1)});const o=t.filter(c=>c.status==="active").length,i=t.filter(c=>c.status==="inactive").length,s=Array.from(r.keys()).length,a=t.reduce((c,u)=>!c||(u.usageCount||0)>(c.usageCount||0)?u:c,null);return{total:t.length,active:o,archived:i,withOverrides:s,mostUsed:a}}exportThemeConfigurations(t){const n=this.appStore.getState().settings.inputSettings.themes,r=this.appStore.getState().settings.inputSettings.overrides,o=n.filter(s=>t.includes(s.id)),i=r.filter(s=>t.includes(s.themeId));return{themes:o,overrides:i}}importThemeConfigurations(t){const n={imported:0,skipped:0,errors:[]},r=this.appStore.getState().settings.inputSettings.themes;return t.themes.forEach(o=>{if(r.some(s=>s.path===o.path))n.skipped++;else try{if(this.appStore.addTheme(o.path),o.icon){const s=this.appStore.getState().settings.inputSettings.themes.find(a=>a.path===o.path);s&&this.appStore.updateTheme(s.id,{icon:o.icon})}n.imported++}catch(s){n.errors.push(`å¯¼å…¥ä¸»é¢˜ ${o.path} å¤±è´¥: ${s}`)}}),t.overrides.forEach(async o=>{try{await this.appStore.upsertOverride(o)}catch(i){n.errors.push(`å¯¼å…¥è¦†ç›–é…ç½®å¤±è´¥: ${i}`)}}),n}getThemeManager(){return this.themeManager}groupThemesByStatus(t){const n=[],r=[];return t.forEach(o=>{o.theme.status==="active"?n.push(o):r.push(o)}),{activeThemes:n,archivedThemes:r}}}function Ws(e){return e.trim().replace(/[\/\\]+/g,"/").replace(/^\/+|\/+$/g,"").replace(/\/+/g,"/")}function ER(e,t){const n=Ws(e),r=Ws(t);if(n===r)return{isContained:!0,container:n,contained:r,reason:"å®Œå…¨åŒ¹é…"};const o=n.split("/"),i=r.split("/");if(n.includes("/")&&o[o.length-1]===r)return{isContained:!0,container:n,contained:r,reason:`"${r}"å·²åŒ…å«åœ¨"${n}"ä¸­`};if(r.includes("/")&&i[i.length-1]===n)return{isContained:!0,container:r,contained:n,reason:`"${n}"å·²åŒ…å«åœ¨"${r}"ä¸­`};const s=o.filter(a=>i.includes(a));if(s.length>0&&(o.length>1||i.length>1)){const a=o.length>i.length?n:r,c=o.length<=i.length?n:r;return{isContained:!0,container:a,contained:c,reason:`ä¸»é¢˜å¯èƒ½å­˜åœ¨è¯­ä¹‰é‡å ï¼šå…±åŒåŒ…å«"${s.join('", "')}"`}}return{isContained:!1}}function Nm(e,t){const n=Ws(e);if(!n)return{isDuplicate:!0,reason:"ä¸»é¢˜è·¯å¾„ä¸ºç©º",conflictWith:""};for(const r of t){const o=Ws(r),i=ER(n,o);if(i.isContained)return{isDuplicate:!0,reason:i.reason,conflictWith:r}}return{isDuplicate:!1}}function PR(e,t){const n={newThemes:[],totalScanned:e.length},r=Array.from(new Set(e.map(Ws))).filter(o=>o.trim()!=="");for(const o of r)Nm(o,t).isDuplicate||Nm(o,n.newThemes).isDuplicate||n.newThemes.push(o);return n}class MR{appStore;dataStore;themeManager;constructor(t){this.appStore=t.appStore,this.dataStore=t.dataStore,this.themeManager=t.themeManager||new Ri}extractThemesFromItems(t,n){const r=new Map;for(const o of t){if(!n.includeTasks&&o.type==="task"||!n.includeBlocks&&o.type==="block")continue;const i=this.themeManager.extractTheme(o);if(i&&i.trim()!==""){const s=i.trim(),a=r.get(s)||{count:0,sources:[]};a.count++,a.sources.push(`${o.type}:${o.id}`),r.set(s,a)}}if(n.minUsageCount>1)for(const[o,i]of r.entries())i.count<n.minUsageCount&&r.delete(o);return r}async scanThemesFromData(t={includeTasks:!0,includeBlocks:!0,minUsageCount:1}){const n=this.dataStore.queryItems(),r=this.extractThemesFromItems(n,t),o=Array.from(r.keys()),s=this.appStore.getState().settings.inputSettings.themes.map(u=>u.path),a=PR(o,s),c={totalItems:n.length,itemsWithThemes:n.filter(u=>!t.includeTasks&&u.type==="task"||!t.includeBlocks&&u.type==="block"?!1:this.themeManager.extractTheme(u)!==null).length,uniqueThemes:o.length,newThemes:a.newThemes.length,byType:{tasks:n.filter(u=>u.type==="task"&&t.includeTasks&&this.themeManager.extractTheme(u)!==null).length,blocks:n.filter(u=>u.type==="block"&&t.includeBlocks&&this.themeManager.extractTheme(u)!==null).length}};return{rawThemes:o,deduplicationResult:a,stats:c}}async importThemes(t){const n={imported:0,skipped:0,failed:0,errors:[]},r=this.appStore.getState().settings.inputSettings.themes,o=new Set(r.map(i=>i.path));for(const i of t)try{if(o.has(i)){n.skipped++;continue}await this.appStore.addTheme(i),n.imported++,this.themeManager.discoverTheme(i)}catch(s){n.failed++,n.errors.push(`å¯¼å…¥ä¸»é¢˜ "${i}" å¤±è´¥: ${s}`)}return n}async getThemeUsageDetails(t){const r=this.dataStore.queryItems().filter(s=>this.themeManager.extractTheme(s)===t),o={tasks:r.filter(s=>s.type==="task").length,blocks:r.filter(s=>s.type==="block").length},i=r.sort((s,a)=>(a.modified||0)-(s.modified||0)).slice(0,10);return{items:r,totalCount:r.length,byType:o,recentUsage:i}}async previewImport(t){const n=this.appStore.getState().settings.inputSettings.themes,r=new Set(n.map(a=>a.path)),o=[],i=[];for(const a of t)r.has(a)?i.push({theme:a,reason:"ä¸»é¢˜å·²å­˜åœ¨"}):!a||a.trim()===""?i.push({theme:a,reason:"ä¸»é¢˜è·¯å¾„ä¸ºç©º"}):o.push(a);const s=o.length*10;return{willImport:o,willSkip:i,estimatedTime:s}}async batchActivateThemes(t){for(const n of t)this.themeManager.activateTheme(n)}getDefaultScanConfig(){return{includeTasks:!0,includeBlocks:!0,minUsageCount:1}}validateScanConfig(t){const n=[],r={includeTasks:t.includeTasks??!0,includeBlocks:t.includeBlocks??!0,minUsageCount:t.minUsageCount??1};return!r.includeTasks&&!r.includeBlocks&&(n.push("å¿…é¡»è‡³å°‘åŒ…å«ä»»åŠ¡æˆ–Blockä¸­çš„ä¸€ç§ç±»åž‹"),r.includeTasks=!0),r.minUsageCount<1&&(n.push("æœ€å°ä½¿ç”¨æ¬¡æ•°å¿…é¡»å¤§äºŽç­‰äºŽ1"),r.minUsageCount=1),{isValid:n.length===0,errors:n,corrected:r}}}const Hp=rt(l("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"})),OR=rt(l("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}));function RR({mode:e,onToggleEditMode:t}){const n=e==="edit";return l(de,{sx:{display:"flex",justifyContent:"flex-end",mb:2},children:l(Ze,{variant:"outlined",onClick:t,startIcon:n?l(OR,{}):l(Hp,{}),children:n?"é€€å‡ºç¼–è¾‘æ¨¡å¼":"è¿›å…¥ç¼–è¾‘æ¨¡å¼"})})}function AR({editorState:e,onAction:t,onClearSelection:n}){const{selectionType:r,selectedThemes:o,selectedCells:i}=e;if(r==="none")return null;const s=r==="theme"?o.size:i.size;return l(de,{sx:{position:"sticky",top:0,zIndex:10,backgroundColor:"background.paper",padding:1,border:"1px solid",borderColor:"divider",borderRadius:1,mb:2,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l(qe,{direction:"row",spacing:2,alignItems:"center",children:[l(oe,{variant:"subtitle1",sx:{fontWeight:"bold"},children:["å·²é€‰æ‹© ",s," ",r==="theme"?"ä¸ªä¸»é¢˜":"ä¸ªé…ç½®"]}),l(dn,{orientation:"vertical",flexItem:!0}),r==="theme"&&l(qe,{direction:"row",spacing:1,children:[l(Ze,{size:"small",onClick:()=>t("activate"),children:"æ¿€æ´»"}),l(Ze,{size:"small",onClick:()=>t("archive"),children:"å½’æ¡£"}),l(Ze,{size:"small",onClick:()=>t("setIcon"),children:"è®¾ç½®å›¾æ ‡"}),l(Ze,{size:"small",color:"error",onClick:()=>t("delete"),children:"åˆ é™¤"})]}),r==="block"&&l(qe,{direction:"row",spacing:1,children:[l(Ze,{size:"small",onClick:()=>t("setInherit"),children:"è®¾ä¸ºç»§æ‰¿"}),l(Ze,{size:"small",onClick:()=>t("setOverride"),children:"è®¾ä¸ºè¦†ç›–"}),l(Ze,{size:"small",onClick:()=>t("setDisabled"),children:"è®¾ä¸ºç¦ç”¨"})]})]}),l(Ze,{size:"small",variant:"outlined",onClick:n,children:"å–æ¶ˆé€‰æ‹©"})]})}const Cr=rt(l("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),Up=rt(l("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),DR=rt(l("path",{d:"M22 5.18 10.59 16.6l-4.24-4.24 1.41-1.41 2.83 2.83 10-10zm-2.21 5.04c.13.57.21 1.17.21 1.78 0 4.42-3.58 8-8 8s-8-3.58-8-8 3.58-8 8-8c1.58 0 3.04.46 4.28 1.25l1.44-1.44C16.1 2.67 14.13 2 12 2 6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10c0-1.19-.22-2.33-.6-3.39z"})),zR=rt(l("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}));function Fm({value:e,onSave:t}){const[n,r]=U(e);return l(pt,{autoFocus:!0,fullWidth:!0,variant:"standard",value:n,onChange:s=>r(s.target.value),onBlur:()=>{n.trim()!==e&&t(n.trim())},onKeyDown:s=>{s.key==="Enter"&&s.target.blur(),s.key==="Escape"&&(r(e),s.target.blur())},sx:{"& .MuiInput-input":{py:"4px"}}})}const LR=lb,Na=ab,NR=ht,FR=vt,Bm=oe,BR=Wn,cu=de;function yd({node:e,blocks:t,overridesMap:n,onCellClick:r,appStore:o,onToggleExpand:i,editorState:s,onSelectionChange:a}){const{theme:c,children:u,expanded:d,level:p}=e,[f,h]=U(!1),[m,g]=U(!1),v=s.mode==="edit",b=s.selectedThemes.has(c.id);return s.selectionType==="theme"||s.selectionType,s.selectionType==="block"||s.selectionType,l(yt,{children:[l(LR,{hover:!0,sx:{opacity:c.status==="inactive"?.6:1,backgroundColor:b?"action.selected":"inherit"},children:[l(Na,{children:l(cu,{sx:{display:"flex",alignItems:"center",pl:p*2},children:[u.length>0&&l(NR,{size:"small",onClick:()=>i(c.id),sx:{mr:.5},children:d?l(Cr,{}):l(Up,{})}),u.length===0&&l(cu,{sx:{width:"28px"}}),l(cu,{sx:{flex:1,display:"flex",alignItems:"center",gap:1},children:[m?l(Fm,{value:c.icon||"",onSave:S=>{o.updateTheme(c.id,{icon:S}),g(!1)}}):l(Bm,{sx:{cursor:"text",width:"24px",textAlign:"center"},onDoubleClick:()=>g(!0),children:c.icon||" "}),f?l(Fm,{value:c.path,onSave:S=>{o.updateTheme(c.id,{path:S}),h(!1)}}):l(Bm,{onDoubleClick:()=>h(!0),sx:{cursor:"text"},children:c.path.split("/").pop()})]})]})}),l(Na,{align:"center",sx:{width:"100px"},children:v?l("input",{type:"checkbox",checked:b,onChange:S=>{console.log("ã€è°ƒè¯•ã€‘ä¸»é¢˜ Checkbox ç‚¹å‡»",{themeId:c.id,checked:S.target.checked}),a("theme",c.id,S.target.checked)},style:{margin:0,cursor:"pointer",transform:"scale(1.2)"}}):l(BR,{label:c.status==="active"?"æ¿€æ´»":"å½’æ¡£",size:"small",color:c.status==="active"?"success":"default"})}),t.map(S=>{const y=`${c.id}:${S.id}`,w=s.selectedCells.has(y);if(v)return l(Na,{align:"center",sx:{p:0,width:"60px"},children:l("input",{type:"checkbox",checked:w,onChange:I=>{console.log("ã€è°ƒè¯•ã€‘å•å…ƒæ ¼ Checkbox ç‚¹å‡»",{cellId:y,checked:I.target.checked}),a("block",y,I.target.checked)},style:{margin:0,cursor:"pointer",transform:"scale(1.2)"}})},S.id);const k=n.get(y);let C,T;return k?k.disabled?(C=l(zR,{sx:{fontSize:"1.4rem",color:"error.main"}}),T="å·²ç¦ç”¨"):(C=l(Hp,{sx:{fontSize:"1.4rem",color:"primary.main"}}),T="å·²è¦†å†™"):(C=l(DR,{sx:{fontSize:"1.4rem",color:"success.main"}}),T="ç»§æ‰¿"),l(Na,{align:"center",onClick:()=>r(S,c),sx:{cursor:"pointer","&:hover":{backgroundColor:"action.hover"},width:"60px"},children:l(FR,{title:T,children:l("span",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:C})})},S.id)})]}),d&&u.map(S=>l(yd,{node:S,blocks:t,overridesMap:n,onCellClick:r,appStore:o,onToggleExpand:i,editorState:s,onSelectionChange:a},S.theme.id))]})}function WR({blocks:e,activeThemes:t,archivedThemes:n,showArchived:r,overridesMap:o,editorState:i,appStore:s,onCellClick:a,onToggleExpand:c,onSelectionChange:u,onSelectAllThemes:d,onSelectBlockColumn:p}){const f=i.mode==="edit",h=i.selectionType==="theme",m=i.selectionType==="block",v=(r?[...t,...n]:t).map(x=>x.theme.id),b=i.selectedThemes.size,S=v.length,y=S>0&&b===S,w=b>0&&b<S,k=PM,C=UM,T=lb,I=ab,E=DM,O=oe,P=()=>{const x=[];return t.length>0&&(x.push(l(T,{children:l(I,{colSpan:e.length+2,sx:{backgroundColor:"action.hover",py:.5},children:l(O,{variant:"subtitle2",sx:{fontWeight:"bold"},children:["æ¿€æ´»ä¸»é¢˜ (",t.length,")"]})})},"active-header")),t.forEach(_=>{x.push(l(yd,{node:_,blocks:e,overridesMap:o,onCellClick:a,appStore:s,onToggleExpand:c,editorState:i,onSelectionChange:u},_.theme.id))})),r&&n.length>0&&(x.push(l(T,{children:l(I,{colSpan:e.length+2,sx:{backgroundColor:"action.hover",py:.5},children:l(O,{variant:"subtitle2",sx:{fontWeight:"bold"},children:["å½’æ¡£ä¸»é¢˜ (",n.length,")"]})})},"archived-header")),n.forEach(_=>{x.push(l(yd,{node:_,blocks:e,overridesMap:o,onCellClick:a,appStore:s,onToggleExpand:c,editorState:i,onSelectionChange:u},_.theme.id))})),x};return l(k,{size:"small",sx:{tableLayout:"auto","& th, & td":{whiteSpace:"nowrap",py:1,px:1.5}},children:[l(C,{children:l(T,{children:[l(I,{sx:{fontWeight:"bold",minWidth:"200px"},children:"ä¸»é¢˜è·¯å¾„"}),l(I,{align:"center",sx:{fontWeight:"bold",width:"100px"},children:l("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:[f&&l("input",{type:"checkbox",disabled:m,ref:x=>{x&&(x.indeterminate=w)},checked:y,onChange:x=>d(x.target.checked),style:{margin:0,cursor:m?"not-allowed":"pointer",transform:"scale(1.2)",opacity:m?.5:1}}),"çŠ¶æ€"]})}),e.map(x=>{const $=v.map(D=>`${D}:${x.id}`).filter(D=>i.selectedCells.has(D)).length,R=v.length,M=R>0&&$===R,A=$>0&&$<R;return l(I,{align:"center",sx:{fontWeight:"bold",width:"40px",minWidth:"40px"},children:[f&&l("input",{type:"checkbox",disabled:h,ref:D=>{D&&(D.indeterminate=A)},checked:M,onChange:D=>p(x.id,D.target.checked),style:{margin:"0 4px 0 0",cursor:h?"not-allowed":"pointer",transform:"scale(1.2)",opacity:h?.5:1}}),x.name]},x.id)})]})}),l(E,{children:P()})]})}const VR=rt(l("path",{d:"M19.8 10.7 4.2 5l-.7 1.9L17.6 12H5c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-5.5c0-.8-.5-1.6-1.2-1.8M7 17H5v-2h2zm12 0H9v-2h10z"})),Eb=rt(l("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"})),uu=rt(l("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"})),HR=rt(l("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"})),Bi=rt(l("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));function UR({open:e,onClose:t,onScan:n,onImport:r,initialConfig:o={}}){const[i,s]=U("config"),[a,c]=U({includeTasks:!0,includeBlocks:!0,minUsageCount:1,...o}),[u,d]=U(null),[p,f]=U(new Set),[h,m]=U(null),[g,v]=U(null),b=()=>{s("config"),d(null),f(new Set),m(null),v(null)};ae(()=>{e||b()},[e]),ae(()=>{u&&f(new Set(u.deduplicationResult.newThemes))},[u]);const S=async()=>{try{s("scanning"),v(null);const x=await n(a);d(x),s("results")}catch(x){v(`æ‰«æå¤±è´¥: ${x}`),s("config")}},y=async()=>{if(!(!u||p.size===0))try{s("importing"),v(null);const x=await r(Array.from(p));m(x),s("completed")}catch(x){v(`å¯¼å…¥å¤±è´¥: ${x}`),s("results")}},w=x=>{const _=new Set(p);_.has(x)?_.delete(x):_.add(x),f(_)},k=x=>{u&&f(x?new Set(u.deduplicationResult.newThemes):new Set)},C=ie(()=>u?{selected:p.size,total:u.deduplicationResult.newThemes.length}:{selected:0,total:0},[p,u]),T=()=>l(de,{children:[l(oe,{variant:"h6",gutterBottom:!0,children:"æ‰«æé…ç½®"}),l(oe,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"é…ç½®æ‰«æå‚æ•°ï¼Œå†³å®šä»Žå“ªäº›æ•°æ®æºæå–ä¸»é¢˜ä¿¡æ¯ã€‚"}),l(Sc,{sx:{mb:2},children:[l("label",{style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[l("input",{type:"checkbox",checked:a.includeTasks,onChange:x=>c(_=>({..._,includeTasks:x.target.checked})),style:{marginRight:"8px"}}),"åŒ…å«ä»»åŠ¡ä¸»é¢˜"]}),l("label",{style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[l("input",{type:"checkbox",checked:a.includeBlocks,onChange:x=>c(_=>({..._,includeBlocks:x.target.checked})),style:{marginRight:"8px"}}),"åŒ…å«Blockä¸»é¢˜"]})]}),l(de,{sx:{mb:2},children:[l(oe,{variant:"body2",gutterBottom:!0,children:["æœ€å°ä½¿ç”¨æ¬¡æ•°: ",a.minUsageCount]}),l("input",{type:"range",min:"1",max:"10",value:a.minUsageCount,onChange:x=>c(_=>({..._,minUsageCount:parseInt(x.target.value)})),style:{width:"100%"}}),l(oe,{variant:"caption",color:"text.secondary",children:"åªæ‰«æä½¿ç”¨æ¬¡æ•°ä¸å°‘äºŽæ­¤å€¼çš„ä¸»é¢˜"})]}),!a.includeTasks&&!a.includeBlocks&&l(_r,{severity:"warning",sx:{mt:2},children:"å¿…é¡»è‡³å°‘é€‰æ‹©ä¸€ç§æ•°æ®æºç±»åž‹"})]}),I=x=>{const _=mE,$=NI,R=VI;return l(_,{container:!0,spacing:2,sx:{mb:2},children:[l(_,{item:!0,xs:6,sm:3,children:l($,{variant:"outlined",children:l(R,{sx:{textAlign:"center",py:1},children:[l(oe,{variant:"h6",color:"primary",children:x.totalItems}),l(oe,{variant:"caption",children:"æ€»æ•°æ®é¡¹"})]})})}),l(_,{item:!0,xs:6,sm:3,children:l($,{variant:"outlined",children:l(R,{sx:{textAlign:"center",py:1},children:[l(oe,{variant:"h6",color:"primary",children:x.uniqueThemes}),l(oe,{variant:"caption",children:"å‘çŽ°ä¸»é¢˜"})]})})}),l(_,{item:!0,xs:6,sm:3,children:l($,{variant:"outlined",children:l(R,{sx:{textAlign:"center",py:1},children:[l(oe,{variant:"h6",color:"success.main",children:x.newThemes}),l(oe,{variant:"caption",children:"æ–°ä¸»é¢˜"})]})})})]})},E=()=>u?l(de,{children:[l(oe,{variant:"h6",gutterBottom:!0,children:"æ‰«æç»“æžœ"}),I(u.stats),u.deduplicationResult.newThemes.length>0&&l(de,{sx:{mb:2},children:[l(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[l(oe,{variant:"subtitle1",children:["æ–°å‘çŽ°çš„ä¸»é¢˜ (",C.selected,"/",C.total,")"]}),l("label",{style:{display:"flex",alignItems:"center"},children:[l("input",{type:"checkbox",checked:C.selected===C.total&&C.total>0,ref:x=>{x&&(x.indeterminate=C.selected>0&&C.selected<C.total)},onChange:x=>k(x.target.checked),style:{marginRight:"8px"}}),"å…¨é€‰"]})]}),l("div",{style:{marginLeft:"16px"},children:u.deduplicationResult.newThemes.map(x=>l("div",{style:{display:"flex",alignItems:"center",padding:"8px 0"},children:[l("input",{type:"checkbox",checked:p.has(x),onChange:()=>w(x),style:{marginRight:"12px"}}),l("span",{style:{fontSize:"14px"},children:x})]},x))})]}),u.deduplicationResult.newThemes.length===0&&l(_r,{severity:"info",children:"æ²¡æœ‰å‘çŽ°æ–°çš„ä¸»é¢˜ã€‚æ‰€æœ‰æ‰«æåˆ°çš„ä¸»é¢˜éƒ½å·²å­˜åœ¨äºŽç³»ç»Ÿä¸­ã€‚"})]}):null,O=()=>h?l(de,{children:[l(oe,{variant:"h6",gutterBottom:!0,children:"å¯¼å…¥å®Œæˆ"}),l(de,{sx:{display:"flex",gap:2,mb:2},children:[l(de,{sx:{flex:1,textAlign:"center",border:"1px solid",borderColor:"divider",borderRadius:1,p:1},children:[l(oe,{variant:"h6",color:"success.main",children:h.imported}),l(oe,{variant:"caption",children:"æˆåŠŸå¯¼å…¥"})]}),l(de,{sx:{flex:1,textAlign:"center",border:"1px solid",borderColor:"divider",borderRadius:1,p:1},children:[l(oe,{variant:"h6",color:"warning.main",children:h.skipped}),l(oe,{variant:"caption",children:"è·³è¿‡"})]}),l(de,{sx:{flex:1,textAlign:"center",border:"1px solid",borderColor:"divider",borderRadius:1,p:1},children:[l(oe,{variant:"h6",color:"error.main",children:h.failed}),l(oe,{variant:"caption",children:"å¤±è´¥"})]})]}),h.errors.length>0&&l(_r,{severity:"error",sx:{mb:2},children:[l(oe,{variant:"subtitle2",gutterBottom:!0,children:"å¯¼å…¥é”™è¯¯:"}),l("ul",{style:{margin:0,paddingLeft:"20px"},children:h.errors.map((x,_)=>l("li",{children:x},_))})]}),h.imported>0&&l(_r,{severity:"success",children:["æˆåŠŸå¯¼å…¥ ",h.imported," ä¸ªæ–°ä¸»é¢˜ï¼å®ƒä»¬çŽ°åœ¨å¯ä»¥åœ¨ä¸»é¢˜é…ç½®çŸ©é˜µä¸­ä½¿ç”¨ã€‚"]})]}):null,P=()=>{switch(i){case"config":return l(yt,{children:[l(Ze,{onClick:t,startIcon:l(Bi,{}),children:"å–æ¶ˆ"}),l(Ze,{onClick:S,variant:"contained",startIcon:l(uu,{}),disabled:!a.includeTasks&&!a.includeBlocks,children:"å¼€å§‹æ‰«æ"})]});case"scanning":return l(Ze,{disabled:!0,children:"æ‰«æä¸­..."});case"results":return l(yt,{children:[l(Ze,{onClick:()=>s("config"),startIcon:l(uu,{}),children:"é‡æ–°æ‰«æ"}),l(Ze,{onClick:t,children:"å–æ¶ˆ"}),l(Ze,{onClick:y,variant:"contained",startIcon:l(HR,{}),disabled:p.size===0,children:["å¯¼å…¥é€‰ä¸­ä¸»é¢˜ (",p.size,")"]})]});case"importing":return l(Ze,{disabled:!0,children:"å¯¼å…¥ä¸­..."});case"completed":return l(yt,{children:[l(Ze,{onClick:()=>s("config"),startIcon:l(uu,{}),children:"å†æ¬¡æ‰«æ"}),l(Ze,{onClick:t,variant:"contained",startIcon:l(Eb,{}),children:"å®Œæˆ"})]});default:return null}};return l(vc,{open:e,onClose:t,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{minHeight:"400px"}},children:[l(wc,{children:["æ‰«ææ•°æ®ä¸»é¢˜",i==="scanning"&&l(tm,{sx:{mt:1}}),i==="importing"&&l(tm,{sx:{mt:1}})]}),l(bc,{children:[g&&l(_r,{severity:"error",sx:{mb:2},children:g}),i==="config"&&T(),i==="scanning"&&l(de,{sx:{textAlign:"center",py:4},children:l(oe,{children:"æ­£åœ¨æ‰«ææ•°æ®ä¸­çš„ä¸»é¢˜..."})}),i==="results"&&E(),i==="importing"&&l(de,{sx:{textAlign:"center",py:4},children:l(oe,{children:"æ­£åœ¨å¯¼å…¥é€‰ä¸­çš„ä¸»é¢˜..."})}),i==="completed"&&O()]}),l(yc,{children:P()})]})}function jR({onScan:e,onImport:t,disabled:n=!1,children:r="æ‰«ææ•°æ®ä¸»é¢˜",tooltip:o="ä»Žæ•°æ®ä¸­æ‰«æå¹¶å¯¼å…¥æ–°ä¸»é¢˜"}){const[i,s]=U(!1);return l(yt,{children:[l(vt,{title:o,children:l(Ze,{onClick:()=>{s(!0)},disabled:n,variant:"outlined",size:"small",startIcon:l(VR,{}),children:r})}),l(UR,{open:i,onClose:()=>{s(!1)},onScan:e,onImport:t})]})}const Wm={mode:"view",selectionType:"none",selectedThemes:new Set,selectedCells:new Set};function YR(){const[e,t]=U(Wm),n=Te(()=>{t(c=>({...Wm,mode:c.mode==="view"?"edit":"view"}))},[]),r=Te(()=>{t(c=>({...c,selectionType:"none",selectedThemes:new Set,selectedCells:new Set}))},[]),o=Te((c,u,d)=>{t(p=>{let f=p.selectedThemes,h=p.selectedCells;p.selectionType!==c&&p.selectionType!=="none"&&(f=new Set,h=new Set);const m=new Set(f),g=new Set(h);c==="theme"?d?m.add(u):m.delete(u):d?g.add(u):g.delete(u);const v=m.size>0?"theme":g.size>0?"block":"none";return{...p,selectedThemes:m,selectedCells:g,selectionType:v}})},[]),i=Te((c,u)=>{t(d=>{const p=u?new Set(c):new Set;return{...d,selectedThemes:p,selectionType:p.size>0?"theme":"none",selectedCells:new Set}})},[]),s=Te((c,u,d)=>{t(p=>{const f=u.map(m=>`${m}:${c}`),h=new Set(p.selectedCells);return d?f.forEach(m=>h.add(m)):f.forEach(m=>h.delete(m)),{...p,selectedCells:h,selectionType:h.size>0?"block":"none",selectedThemes:new Set}})},[]),a=Te(()=>{const{selectionType:c,selectedThemes:u,selectedCells:d}=e;return c==="theme"?{count:u.size,type:"theme"}:c==="block"?{count:d.size,type:"block"}:{count:0,type:"none"}},[e]);return{editorState:e,toggleEditMode:n,handleSelectionChange:o,handleSelectAll:i,handleSelectBlockColumn:s,clearSelection:r,getSelectionStats:a}}class GR{appStore;themeManager;constructor(t){this.appStore=t.appStore,this.themeManager=t.themeManager}async executeBatchOperation(t){const{operation:n,targets:r}=t,o={success:0,failed:0,errors:[]};try{r.themeIds&&r.themeIds.length>0&&(await this.executeThemeOperation(n,r.themeIds,t.params),o.success=r.themeIds.length),r.cells&&r.cells.length>0&&(await this.executeCellOperation(n,r.cells,t.params),o.success+=r.cells.length),r.blockIds&&r.blockIds.length>0&&(await this.executeBlockOperation(n,r.blockIds,t.params),o.success+=r.blockIds.length)}catch(i){const s=(r.themeIds?.length||0)+(r.cells?.length||0)+(r.blockIds?.length||0);o.failed=s,o.errors.push(i instanceof Error?i.message:String(i))}return o}async executeThemeOperation(t,n,r){switch(t){case"activate":await this.batchActivateThemes(n);break;case"archive":await this.batchArchiveThemes(n);break;case"delete":await this.batchDeleteThemes(n);break;case"setIcon":r?.icon&&await this.batchSetThemeIcon(n,r.icon);break;case"editMode":break;default:throw new Error(`ä¸æ”¯æŒçš„ä¸»é¢˜æ“ä½œ: ${t}`)}}async executeCellOperation(t,n,r){const o=n.map(i=>`${i.themeId}:${i.blockId}`);return this.executeBlockOperation(t,o,r)}async executeBlockOperation(t,n,r){switch(t){case"setBlockInherit":await this.batchSetBlockInherit(n);break;case"setBlockOverride":await this.batchSetBlockOverride(n,r?.template);break;case"setBlockDisabled":await this.batchSetBlockDisabled(n);break;case"clearBlockOverrides":await this.batchSetBlockInherit(n);break;case"applyTemplate":r?.template&&await this.batchApplyTemplate(n,r.template);break;default:throw new Error(`ä¸æ”¯æŒçš„Blockæ“ä½œ: ${t}`)}}async batchActivateThemes(t){const{themes:n}=this.appStore.getSettings().inputSettings;for(const r of t){const o=n.find(i=>i.id===r);o&&await this.themeManager.activateTheme(o.path)}}async batchArchiveThemes(t){const{themes:n}=this.appStore.getSettings().inputSettings;for(const r of t){const o=n.find(i=>i.id===r);o&&await this.themeManager.deactivateTheme(o.path)}}async batchDeleteThemes(t){await this.appStore.batchDeleteThemes(t)}async batchSetThemeIcon(t,n){await this.appStore.batchUpdateThemes(t,{icon:n})}async batchSetBlockInherit(t){const n=[];for(const r of t){const[o,i]=r.split(":");o&&i&&n.push({blockId:i,themeId:o})}n.length>0&&await this.appStore.batchDeleteOverrides(n)}async batchSetBlockOverride(t,n){const r=[];for(const o of t){const[i,s]=o.split(":");i&&s&&r.push({themeId:i,blockId:s,disabled:!1,...n})}r.length>0&&await this.appStore.batchUpsertOverrides(r)}async batchSetBlockDisabled(t){const n=[];for(const r of t){const[o,i]=r.split(":");o&&i&&n.push({themeId:o,blockId:i,disabled:!0})}n.length>0&&await this.appStore.batchUpsertOverrides(n)}async batchApplyTemplate(t,n){await this.batchSetBlockOverride(t,n)}static getOperationTargetsFromSelection(t){const n={};return t.selectedThemes.size>0&&(n.themeIds=Array.from(t.selectedThemes)),t.selectedBlocks.size>0&&(n.blockIds=Array.from(t.selectedBlocks)),t.selectedCells.size>0&&(n.cells=Array.from(t.selectedCells).map(r=>{const[o,i]=r.split(":");return{themeId:o,blockId:i}}).filter(r=>r.themeId&&r.blockId)),n}}function KR({appStore:e,themeManager:t,onOperationComplete:n}){const[r,o]=U(!1);ie(()=>new GR({appStore:e,themeManager:t}),[e,t]);const i=Te(async s=>{if(!r){o(!0);try{const{operation:a,themeIds:c,cellIds:u,params:d}=s;if(c&&c.length>0)switch(a){case"activate":await e.batchUpdateThemeStatus(c,"active");break;case"archive":await e.batchUpdateThemeStatus(c,"archived");break;case"delete":confirm(`ç¡®å®šè¦åˆ é™¤ ${c.length} ä¸ªä¸»é¢˜å—ï¼Ÿ`)&&await e.batchDeleteThemes(c);break;case"setIcon":const p=prompt("è¯·è¾“å…¥æ–°çš„å›¾æ ‡:","ðŸ“");p!==null&&await e.batchUpdateThemeIcon(c,p);break}if(u&&u.length>0){const p=u.map(f=>{const[h,m]=f.split(":");return{themeId:h,blockId:m}});switch(a){case"setInherit":await e.batchDeleteOverrides(p);break;case"setDisabled":await e.batchSetOverrideStatus(p,"disabled");break;case"setOverride":console.log("æ‰¹é‡è¦†ç›–æ“ä½œéœ€è¦UIæ”¯æŒ");break}}n?.()}catch(a){console.error("æ‰¹é‡æ“ä½œå¤±è´¥:",a)}finally{o(!1)}}},[e,r,n]);return{isProcessing:r,executeBatchOperation:i}}function ZR({appStore:e,dataStore:t}){const{blocks:n,themes:r,overrides:o}=pn(B=>B.settings.inputSettings),[i,s]=U(""),[a,c]=U(!1),[u,d]=U(null),[p,f]=U(new Set),[h,m]=U(!1),{editorState:g,toggleEditMode:v,handleSelectionChange:b,clearSelection:S,handleSelectAll:y,handleSelectBlockColumn:w}=YR(),k=ie(()=>new Ri,[]),{executeBatchOperation:C}=KR({appStore:e,themeManager:k,onOperationComplete:S}),T=ie(()=>new $R({appStore:e,themeManager:k}),[e,k]),I=ie(()=>new MR({appStore:e,dataStore:t,themeManager:k}),[e,t,k]),E=ie(()=>T.getExtendedThemes(r),[r,T]),O=ie(()=>E.map(B=>B.id),[E]),P=ie(()=>Pc(E,p),[E,p]),{activeThemes:x,archivedThemes:_}=ie(()=>T.groupThemesByStatus(P),[P,T]),$=ie(()=>{const B=new Map;return o.forEach(Y=>B.set(`${Y.themeId}:${Y.blockId}`,Y)),B},[o]),R=B=>{const Y=new Set(p);Y.has(B)?Y.delete(B):Y.add(B),f(Y)},M=()=>{const B=i.trim();B&&!r.some(Y=>Y.path===B)&&(e.addTheme(B),s(""))},A=(B,Y)=>{if(g.mode==="edit"){const q=`${Y.id}:${B.id}`,N=g.selectedCells.has(q);b("block",q,!N);return}const K=$.get(`${Y.id}:${B.id}`)||null;d({block:B,theme:Y,override:K}),c(!0)},D=B=>{const{selectionType:Y,selectedThemes:K,selectedCells:q}=g;Y==="theme"?C({operation:B,themeIds:Array.from(K)}):Y==="block"&&C({operation:B,cellIds:Array.from(q)})},z=async B=>await I.scanThemesFromData(B),W=async B=>await I.importThemes(B);return l(de,{sx:{maxWidth:"1200px",mx:"auto",padding:2},children:[l(oe,{variant:"h4",gutterBottom:!0,children:"ä¸»é¢˜é…ç½®çŸ©é˜µ"}),l(oe,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"ç®¡ç†ä¸åŒä¸»é¢˜å¯¹å„ç±»Blockçš„é…ç½®ã€‚è¿›å…¥ç¼–è¾‘æ¨¡å¼ä»¥è¿›è¡Œæ‰¹é‡æ“ä½œã€‚"}),l(RR,{mode:g.mode,onToggleEditMode:v}),l(AR,{editorState:g,onAction:D,onClearSelection:S}),l(WR,{blocks:n,activeThemes:x,archivedThemes:_,showArchived:h,overridesMap:$,editorState:g,onCellClick:A,onToggleExpand:R,onSelectionChange:b,onSelectAllThemes:B=>y(O,B),onSelectBlockColumn:(B,Y)=>w(B,O,Y),appStore:e}),l(qe,{direction:"row",spacing:1,alignItems:"center",sx:{mt:2},children:[l(pt,{placeholder:"æ–°ä¸»é¢˜è·¯å¾„ (å¦‚: ä¸ªäºº/ä¹ æƒ¯)",value:i,onChange:B=>s(B.target.value),onKeyDown:B=>B.key==="Enter"&&M(),size:"small",variant:"outlined",sx:{flexGrow:1,maxWidth:"400px"}}),l(Ze,{onClick:M,variant:"outlined",size:"small",startIcon:l(Ec,{}),children:"æ·»åŠ ä¸»é¢˜"}),l(jR,{onScan:z,onImport:W})]}),u&&l(IR,{isOpen:a,onClose:()=>c(!1),block:u.block,theme:u.theme,existingOverride:u.override,appStore:e})]})}function Pb(e,t){const[n,r]=U(()=>{try{const i=window.localStorage.getItem(e);return i?JSON.parse(i):t}catch(i){return console.warn(`Error reading localStorage key "${e}":`,i),t}});return[n,i=>{try{r(i),window.localStorage.setItem(e,JSON.stringify(i))}catch(s){console.warn(`Error setting localStorage key "${e}":`,s)}}]}const qR=ac({palette:{mode:"light",primary:{main:"#7c3aed"},secondary:{main:"#6366f1"},background:{default:"#ffffff",paper:"#f8fafc"},text:{primary:"#1e293b",secondary:"#64748b"}},typography:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},components:{MuiPaper:{styleOverrides:{root:{backgroundColor:"#f8fafc",color:"#1e293b",".theme-dark &":{backgroundColor:"#1e293b",color:"#f1f5f9"}}}},MuiButton:{styleOverrides:{root:{textTransform:"none"}}},MuiTab:{styleOverrides:{root:{textTransform:"none",fontSize:"14px"}}}}}),XR=rt(l("path",{d:"m10 17 5-5-5-5z"})),JR=rt(l("path",{d:"M20 6h-8l-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m0 12H4V6h5.17l1.41 1.41.59.59H20zm-7.84-6H8v2h4.16l-1.59 1.59L11.99 17 16 13.01 11.99 9l-1.41 1.41z"})),Mb=rt(l("path",{d:"M14.12 10.47 12 12.59l-2.13-2.12-1.41 1.41L10.59 14l-2.12 2.12 1.41 1.41L12 15.41l2.12 2.12 1.41-1.41L13.41 14l2.12-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4zM6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8z"})),Ob=rt(l("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}));function QR({isOpen:e,onClose:t,title:n,children:r,actions:o,fullWidth:i=!0,maxWidth:s="sm"}){return e?l(vc,{open:e,onClose:t,fullWidth:i,maxWidth:s,disablePortal:!0,children:[l(wc,{children:l(qe,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[n,l(ht,{onClick:t,size:"small",children:l(Bi,{})})]})}),l(bc,{children:r}),o&&l(yc,{children:o})]}):null}const Rb=({group:e,allGroups:t,onSelect:n,selectedId:r,disabledIds:o,level:i=0})=>{const s=t.filter(c=>c.parentId===e.id),a=o.has(e.id);return l("div",{children:[l(Cc,{selected:r===e.id,onClick:()=>!a&&n(e.id),disabled:a,sx:{pl:2+i*2},children:l(kc,{primary:e.name})}),s.length>0&&l(de,{sx:{pl:2},children:s.map(c=>l(Rb,{group:c,allGroups:t,onSelect:n,selectedId:r,disabledIds:o,level:i+1},c.id))})]})};function eA({isOpen:e,onClose:t,itemToMove:n,groups:r,onConfirm:o}){const[i,s]=U(n.parentId),a=ie(()=>{const p=new Set;if(!n||!n.id.startsWith("group_"))return p;p.add(n.id);const f=h=>{r.forEach(m=>{m.parentId===h&&(p.add(m.id),f(m.id))})};return f(n.id),p},[n,r]),c=r.filter(p=>p.parentId===null),u=()=>{o(i),t()},d=l(Fragment,{children:[l(Ze,{onClick:t,children:"å–æ¶ˆ"}),l(Ze,{onClick:u,variant:"contained",disabled:i===n.parentId,children:"ç§»åŠ¨"})]});return l(QR,{isOpen:e,onClose:t,title:"ç§»åŠ¨åˆ°...",actions:d,maxWidth:"xs",children:[l(oe,{variant:"body2",sx:{mb:1},children:"è¯·é€‰æ‹©ç›®æ ‡ä½ç½®:"}),l(xc,{component:"nav",dense:!0,sx:{bgcolor:"action.hover",borderRadius:1,maxHeight:300,overflowY:"auto"},children:[l(Cc,{selected:i===null,onClick:()=>s(null),children:l(kc,{primary:"æ ¹ç›®å½• (æœªåˆ†ç»„)"})}),c.map(p=>l(Rb,{group:p,allGroups:r,onSelect:s,selectedId:i,disabledIds:a},p.id))]})]})}function Vm({node:e,children:t,...n}){const{onUpdateItemName:r,onDeleteItem:o,onOpenMoveDialog:i,onDuplicateItem:s}=n,[a,c]=U(!1),[u,d]=U(e.name);ae(()=>{d(e.name)},[e.name]);const p=()=>{u.trim()&&u!==e.name?r(e,u):d(e.name),c(!1)},f=h=>{h.key==="Enter"&&h.target.blur(),h.key==="Escape"&&(d(e.name),c(!1))};return l(de,{children:[l(qe,{direction:"row",alignItems:"center",sx:{pl:n.level*2,pr:1,minHeight:48,"&:hover .actions":{opacity:1},bgcolor:n.isExpanded&&!e.isGroup?"action.hover":"transparent",borderTopLeftRadius:n.isExpanded&&!e.isGroup?8:0,borderTopRightRadius:n.isExpanded&&!e.isGroup?8:0},children:[l(ht,{size:"small",onClick:n.onToggle,sx:{mr:.5},children:n.isExpanded?l(cb,{}):l(XR,{})}),a?l(pt,{autoFocus:!0,size:"small",variant:"standard",value:u,onChange:h=>d(h.target.value),onBlur:p,onKeyDown:f,sx:{flexGrow:1}}):l(oe,{onClick:n.onToggle,onDblClick:()=>c(!0),title:"å•å‡»å±•å¼€/æŠ˜å ï¼ŒåŒå‡»é‡å‘½å",sx:{flexGrow:1,cursor:"pointer",fontWeight:e.isGroup?600:500,color:e.isGroup?"primary.main":"text.primary"},children:e.name}),l(qe,{direction:"row",className:"actions",sx:{opacity:0,transition:"opacity 0.2s"},children:[l(vt,{title:"å¤åˆ¶",children:l("span",{children:l(ht,{size:"small",onClick:()=>s(e),children:l(Ob,{fontSize:"small"})})})}),l(vt,{title:"ç§»åŠ¨åˆ°...",children:l(ht,{size:"small",onClick:()=>i(e),children:l(JR,{fontSize:"small"})})}),l(vt,{title:"åˆ é™¤",children:l(ht,{size:"small",onClick:()=>o(e),sx:{color:"text.secondary","&:hover":{color:"error.main"}},children:l(Mb,{fontSize:"small"})})})]})]}),t]})}function Ab({groups:e,items:t,allGroups:n,parentId:r,level:o=0,renderItem:i,onAddItem:s,onAddGroup:a,onDeleteItem:c,onUpdateItemName:u,onDuplicateItem:d,appStore:p}){const[f,h]=U(()=>{const w={};return[...e,...t].forEach(k=>{w[k.id]=!0}),w}),[m,g]=U(null),v=w=>h(k=>({...k,[w]:!k[w]})),b=w=>{m&&p&&p.moveItem(m.id,w)},S=e.filter(w=>w.parentId===r),y=t.filter(w=>w.parentId===r);return l(de,{children:[S.map(w=>{const k={...w,isGroup:!0},C=!f[w.id];return l(de,{sx:{borderBottom:"1px solid rgba(0,0,0,0.08)"},children:l(Vm,{node:k,isExpanded:C,level:o,onToggle:()=>v(w.id),onUpdateItemName:u,onDeleteItem:c,onOpenMoveDialog:g,onDuplicateItem:d,children:l(Ls,{in:C,timeout:"auto",unmountOnExit:!0,children:l(Ab,{groups:e,items:t,allGroups:n,renderItem:i,onAddItem:s,onAddGroup:a,onDeleteItem:c,onUpdateItemName:u,onDuplicateItem:d,appStore:p,parentId:w.id,level:o+1})})})},w.id)}),y.map(w=>{const k=!f[w.id],C={...w,isGroup:!1,name:w.name||w.title};return l(de,{sx:{borderBottom:"1px solid rgba(0,0,0,0.08)"},children:l(Vm,{node:C,isExpanded:k,level:o,onToggle:()=>v(w.id),onUpdateItemName:u,onDeleteItem:c,onOpenMoveDialog:g,onDuplicateItem:d,children:l(Ls,{in:k,timeout:"auto",unmountOnExit:!0,children:l(de,{sx:{bgcolor:"action.hover",borderTop:"1px solid rgba(0,0,0,0.05)"},children:i(w)})})})},w.id)}),o===0&&l(qe,{direction:"row",spacing:1,sx:{mt:2,pl:1},children:[l(Ze,{onClick:()=>s(r),startIcon:l(Ao,{}),size:"small",children:"æ·»åŠ æ–°é¡¹"}),l(Ze,{onClick:()=>a(r),startIcon:l(Ao,{}),size:"small",children:"æ·»åŠ åˆ†ç»„"})]}),m&&l(eA,{isOpen:!!m,onClose:()=>g(null),itemToMove:m,groups:n,onConfirm:b})]})}const tA=({title:e,placeholder:t,initialValue:n,onSubmit:r,onCancel:o})=>{const[i,s]=U(n||""),a=()=>{i.trim()&&r(i.trim())};return l("div",{class:"think-modal",children:[l("h3",{children:e}),l(pt,{autoFocus:!0,fullWidth:!0,variant:"outlined",placeholder:t,value:i,onChange:u=>s(u.target.value),onKeyDown:u=>{u.key==="Enter"&&(u.currentTarget.blur(),a())},sx:{mt:2}}),l("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"1.5rem",gap:"8px"},children:[l(Ze,{onClick:a,variant:"contained",children:"ç¡®è®¤"}),l(Ze,{onClick:o,children:"å–æ¶ˆ"})]})]})};class Hm extends _e.Modal{constructor(t,n,r,o,i){super(t),this.title=n,this.placeholder=r,this.initialValue=o,this.onSubmitCallback=i}onOpen(){this.contentEl.empty(),er(l(tA,{title:this.title,placeholder:this.placeholder,initialValue:this.initialValue,onSubmit:t=>{this.onSubmitCallback(t),this.close()},onCancel:()=>this.close()}),this.contentEl)}onClose(){unmountComponentAtNode(this.containerEl)}}const nA=({app:e,appStore:t,type:n,itemNoun:r})=>{const o={dataSource:Fc.NEW_DATASOURCE,viewInstance:Fc.NEW_VIEW,layout:Fc.NEW_LAYOUT}[n],i=Te(p=>{new Hm(e,`åˆ›å»ºæ–°${r}`,`è¯·è¾“å…¥æ–°${r}çš„åç§°...`,o,f=>{switch(n){case"dataSource":t.addDataSource(f,p);break;case"viewInstance":t.addViewInstance(f,p);break;case"layout":t.addLayout(f,p);break}}).open()},[e,n,r,o,t]),s=Te(p=>{new Hm(e,"åˆ›å»ºæ–°åˆ†ç»„","è¯·è¾“å…¥åˆ†ç»„åç§°...","æ–°åˆ†ç»„",f=>t.addGroup(f,p,n)).open()},[e,n,t]),a=Te(p=>{const f=p.isGroup?`ç¡®è®¤åˆ é™¤åˆ†ç»„ "${p.name}" å—ï¼Ÿ
å…¶å†…éƒ¨æ‰€æœ‰å†…å®¹å°†è¢«ç§»è‡³ä¸Šä¸€çº§ã€‚`:`ç¡®è®¤åˆ é™¤${r} "${p.name}" å—ï¼Ÿ
ç›¸å…³çš„å¼•ç”¨å¯èƒ½ä¼šå¤±æ•ˆã€‚`;if(confirm(f))if(p.isGroup)t.deleteGroup(p.id);else switch(n){case"dataSource":t.deleteDataSource(p.id);break;case"viewInstance":t.deleteViewInstance(p.id);break;case"layout":t.deleteLayout(p.id);break}},[n,r,t]),c=Te((p,f)=>{if(p.isGroup)t.updateGroup(p.id,{name:f});else switch(n){case"dataSource":t.updateDataSource(p.id,{name:f});break;case"viewInstance":t.updateViewInstance(p.id,{title:f});break;case"layout":t.updateLayout(p.id,{name:f});break}},[n,t]),u=Te((p,f)=>{if(!p.isGroup)switch(n){case"dataSource":t.moveDataSource(p.id,f);break;case"viewInstance":t.moveViewInstance(p.id,f);break;case"layout":t.moveLayout(p.id,f);break}},[n,t]),d=Te(p=>{if(p.isGroup)t.duplicateGroup(p.id);else switch(n){case"dataSource":t.duplicateDataSource(p.id);break;case"viewInstance":t.duplicateViewInstance(p.id);break;case"layout":t.duplicateLayout(p.id);break}},[n,t]);return{onAddItem:i,onAddGroup:s,onDeleteItem:a,onUpdateItemName:c,onMoveItem:u,onDuplicateItem:d}};function rA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ie(()=>r=>{t.forEach(o=>o(r))},t)}const Mc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Wi(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function jp(e){return"nodeType"in e}function An(e){var t,n;return e?Wi(e)?e:jp(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Yp(e){const{Document:t}=An(e);return e instanceof t}function ua(e){return Wi(e)?!1:e instanceof An(e).HTMLElement}function Db(e){return e instanceof An(e).SVGElement}function Vi(e){return e?Wi(e)?e.document:jp(e)?Yp(e)?e:ua(e)||Db(e)?e.ownerDocument:document:document:document}const zr=Mc?Yr:ae;function Gp(e){const t=te(e);return zr(()=>{t.current=e}),Te(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function oA(){const e=te(null),t=Te((r,o)=>{e.current=setInterval(r,o)},[]),n=Te(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Vs(e,t){t===void 0&&(t=[e]);const n=te(e);return zr(()=>{n.current!==e&&(n.current=e)},t),n}function da(e,t){const n=te();return ie(()=>{const r=e(n.current);return n.current=r,r},[...t])}function El(e){const t=Gp(e),n=te(null),r=Te(o=>{o!==n.current&&t?.(o,n.current),n.current=o},[]);return[n,r]}function bd(e){const t=te();return ae(()=>{t.current=e},[e]),t.current}let du={};function pa(e,t){return ie(()=>{if(t)return t;const n=du[e]==null?0:du[e]+1;return du[e]=n,e+"-"+n},[e,t])}function zb(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((i,s)=>{const a=Object.entries(s);for(const[c,u]of a){const d=i[c];d!=null&&(i[c]=d+e*u)}return i},{...t})}}const yi=zb(1),Pl=zb(-1);function iA(e){return"clientX"in e&&"clientY"in e}function Kp(e){if(!e)return!1;const{KeyboardEvent:t}=An(e.target);return t&&e instanceof t}function sA(e){if(!e)return!1;const{TouchEvent:t}=An(e.target);return t&&e instanceof t}function wd(e){if(sA(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return iA(e)?{x:e.clientX,y:e.clientY}:null}const Hs=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Hs.Translate.toString(e),Hs.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Um="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function aA(e){return e.matches(Um)?e:e.querySelector(Um)}const lA={display:"none"};function cA(e){let{id:t,value:n}=e;return Mt.createElement("div",{id:t,style:lA},n)}function uA(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Mt.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function dA(){const[e,t]=U("");return{announce:Te(r=>{r!=null&&t(r)},[]),announcement:e}}const Lb=Ut(null);function pA(e){const t=bt(Lb);ae(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function fA(){const[e]=U(()=>new Set),t=Te(r=>(e.add(r),()=>e.delete(r)),[e]);return[Te(r=>{let{type:o,event:i}=r;e.forEach(s=>{var a;return(a=s[o])==null?void 0:a.call(s,i)})},[e]),t]}const hA={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},mA={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function gA(e){let{announcements:t=mA,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=hA}=e;const{announce:i,announcement:s}=dA(),a=pa("DndLiveRegion"),[c,u]=U(!1);if(ae(()=>{u(!0)},[]),pA(ie(()=>({onDragStart(p){let{active:f}=p;i(t.onDragStart({active:f}))},onDragMove(p){let{active:f,over:h}=p;t.onDragMove&&i(t.onDragMove({active:f,over:h}))},onDragOver(p){let{active:f,over:h}=p;i(t.onDragOver({active:f,over:h}))},onDragEnd(p){let{active:f,over:h}=p;i(t.onDragEnd({active:f,over:h}))},onDragCancel(p){let{active:f,over:h}=p;i(t.onDragCancel({active:f,over:h}))}}),[i,t])),!c)return null;const d=Mt.createElement(Mt.Fragment,null,Mt.createElement(cA,{id:r,value:o.draggable}),Mt.createElement(uA,{id:a,announcement:s}));return n?Ul(d,n):d}var rn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(rn||(rn={}));function Ml(){}const gr=Object.freeze({x:0,y:0});function vA(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function yA(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function bA(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function wA(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function jm(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Nb=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=jm(t,t.left,t.top),i=[];for(const s of r){const{id:a}=s,c=n.get(a);if(c){const u=vA(jm(c),o);i.push({id:a,data:{droppableContainer:s,value:u}})}}return i.sort(yA)};function SA(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),s=o-r,a=i-n;if(r<o&&n<i){const c=t.width*t.height,u=e.width*e.height,d=s*a,p=d/(c+u-d);return Number(p.toFixed(4))}return 0}const xA=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const i of r){const{id:s}=i,a=n.get(s);if(a){const c=SA(a,t);c>0&&o.push({id:s,data:{droppableContainer:i,value:c}})}}return o.sort(bA)};function CA(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Fb(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:gr}function kA(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.reduce((s,a)=>({...s,top:s.top+e*a.y,bottom:s.bottom+e*a.y,left:s.left+e*a.x,right:s.right+e*a.x}),{...n})}}const _A=kA(1);function TA(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function IA(e,t,n){const r=TA(t);if(!r)return e;const{scaleX:o,scaleY:i,x:s,y:a}=r,c=e.left-s-(1-o)*parseFloat(n),u=e.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),d=o?e.width/o:e.width,p=i?e.height/i:e.height;return{width:d,height:p,top:u,right:c+d,bottom:u+p,left:c}}const $A={ignoreTransform:!1};function Hi(e,t){t===void 0&&(t=$A);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=An(e).getComputedStyle(e);u&&(n=IA(n,u,d))}const{top:r,left:o,width:i,height:s,bottom:a,right:c}=n;return{top:r,left:o,width:i,height:s,bottom:a,right:c}}function Ym(e){return Hi(e,{ignoreTransform:!0})}function EA(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function PA(e,t){return t===void 0&&(t=An(e).getComputedStyle(e)),t.position==="fixed"}function MA(e,t){t===void 0&&(t=An(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const i=t[o];return typeof i=="string"?n.test(i):!1})}function Zp(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(Yp(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!ua(o)||Db(o)||n.includes(o))return n;const i=An(e).getComputedStyle(o);return o!==e&&MA(o,i)&&n.push(o),PA(o,i)?n:r(o.parentNode)}return e?r(e):n}function Bb(e){const[t]=Zp(e,1);return t??null}function pu(e){return!Mc||!e?null:Wi(e)?e:jp(e)?Yp(e)||e===Vi(e).scrollingElement?window:ua(e)?e:null:null}function Wb(e){return Wi(e)?e.scrollX:e.scrollLeft}function Vb(e){return Wi(e)?e.scrollY:e.scrollTop}function Sd(e){return{x:Wb(e),y:Vb(e)}}var cn;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(cn||(cn={}));function Hb(e){return!Mc||!e?!1:e===document.scrollingElement}function Ub(e){const t={x:0,y:0},n=Hb(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,s=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:o,isLeft:i,isBottom:s,isRight:a,maxScroll:r,minScroll:t}}const OA={x:.2,y:.2};function RA(e,t,n,r,o){let{top:i,left:s,right:a,bottom:c}=n;r===void 0&&(r=10),o===void 0&&(o=OA);const{isTop:u,isBottom:d,isLeft:p,isRight:f}=Ub(e),h={x:0,y:0},m={x:0,y:0},g={height:t.height*o.y,width:t.width*o.x};return!u&&i<=t.top+g.height?(h.y=cn.Backward,m.y=r*Math.abs((t.top+g.height-i)/g.height)):!d&&c>=t.bottom-g.height&&(h.y=cn.Forward,m.y=r*Math.abs((t.bottom-g.height-c)/g.height)),!f&&a>=t.right-g.width?(h.x=cn.Forward,m.x=r*Math.abs((t.right-g.width-a)/g.width)):!p&&s<=t.left+g.width&&(h.x=cn.Backward,m.x=r*Math.abs((t.left+g.width-s)/g.width)),{direction:h,speed:m}}function AA(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:s}=window;return{top:0,left:0,right:i,bottom:s,width:i,height:s}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function jb(e){return e.reduce((t,n)=>yi(t,Sd(n)),gr)}function DA(e){return e.reduce((t,n)=>t+Wb(n),0)}function zA(e){return e.reduce((t,n)=>t+Vb(n),0)}function LA(e,t){if(t===void 0&&(t=Hi),!e)return;const{top:n,left:r,bottom:o,right:i}=t(e);Bb(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const NA=[["x",["left","right"],DA],["y",["top","bottom"],zA]];class qp{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Zp(n),o=jb(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,s,a]of NA)for(const c of s)Object.defineProperty(this,c,{get:()=>{const u=a(r),d=o[i]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Is{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function FA(e){const{EventTarget:t}=An(e);return e instanceof t?e:Vi(e)}function fu(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Kn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Kn||(Kn={}));function Gm(e){e.preventDefault()}function BA(e){e.stopPropagation()}var kt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(kt||(kt={}));const Yb={start:[kt.Space,kt.Enter],cancel:[kt.Esc],end:[kt.Space,kt.Enter,kt.Tab]},WA=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case kt.Right:return{...n,x:n.x+25};case kt.Left:return{...n,x:n.x-25};case kt.Down:return{...n,y:n.y+25};case kt.Up:return{...n,y:n.y-25}}};class Gb{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Is(Vi(n)),this.windowListeners=new Is(An(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Kn.Resize,this.handleCancel),this.windowListeners.add(Kn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Kn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&LA(r),n(gr)}handleKeyDown(t){if(Kp(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:i=Yb,coordinateGetter:s=WA,scrollBehavior:a="smooth"}=o,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:gr;this.referenceCoordinates||(this.referenceCoordinates=d);const p=s(t,{active:n,context:r.current,currentCoordinates:d});if(p){const f=Pl(p,d),h={x:0,y:0},{scrollableAncestors:m}=r.current;for(const g of m){const v=t.code,{isTop:b,isRight:S,isLeft:y,isBottom:w,maxScroll:k,minScroll:C}=Ub(g),T=AA(g),I={x:Math.min(v===kt.Right?T.right-T.width/2:T.right,Math.max(v===kt.Right?T.left:T.left+T.width/2,p.x)),y:Math.min(v===kt.Down?T.bottom-T.height/2:T.bottom,Math.max(v===kt.Down?T.top:T.top+T.height/2,p.y))},E=v===kt.Right&&!S||v===kt.Left&&!y,O=v===kt.Down&&!w||v===kt.Up&&!b;if(E&&I.x!==p.x){const P=g.scrollLeft+f.x,x=v===kt.Right&&P<=k.x||v===kt.Left&&P>=C.x;if(x&&!f.y){g.scrollTo({left:P,behavior:a});return}x?h.x=g.scrollLeft-P:h.x=v===kt.Right?g.scrollLeft-k.x:g.scrollLeft-C.x,h.x&&g.scrollBy({left:-h.x,behavior:a});break}else if(O&&I.y!==p.y){const P=g.scrollTop+f.y,x=v===kt.Down&&P<=k.y||v===kt.Up&&P>=C.y;if(x&&!f.x){g.scrollTo({top:P,behavior:a});return}x?h.y=g.scrollTop-P:h.y=v===kt.Down?g.scrollTop-k.y:g.scrollTop-C.y,h.y&&g.scrollBy({top:-h.y,behavior:a});break}}this.handleMove(t,yi(Pl(p,this.referenceCoordinates),h))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Gb.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Yb,onActivation:o}=t,{active:i}=n;const{code:s}=e.nativeEvent;if(r.start.includes(s)){const a=i.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),o?.({event:e.nativeEvent}),!0)}return!1}}];function Km(e){return!!(e&&"distance"in e)}function Zm(e){return!!(e&&"delay"in e)}class Xp{constructor(t,n,r){var o;r===void 0&&(r=FA(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:s}=i;this.props=t,this.events=n,this.document=Vi(s),this.documentListeners=new Is(this.document),this.listeners=new Is(r),this.windowListeners=new Is(An(s)),this.initialCoordinates=(o=wd(i))!=null?o:gr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Kn.Resize,this.handleCancel),this.windowListeners.add(Kn.DragStart,Gm),this.windowListeners.add(Kn.VisibilityChange,this.handleCancel),this.windowListeners.add(Kn.ContextMenu,Gm),this.documentListeners.add(Kn.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Zm(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Km(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:o}=this.props;o(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Kn.Click,BA,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Kn.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:i}=this,{onMove:s,options:{activationConstraint:a}}=i;if(!o)return;const c=(n=wd(t))!=null?n:gr,u=Pl(o,c);if(!r&&a){if(Km(a)){if(a.tolerance!=null&&fu(u,a.tolerance))return this.handleCancel();if(fu(u,a.distance))return this.handleStart()}if(Zm(a)&&fu(u,a.tolerance))return this.handleCancel();this.handlePending(a,u);return}t.cancelable&&t.preventDefault(),s(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===kt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const VA={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Kb extends Xp{constructor(t){const{event:n}=t,r=Vi(n.target);super(t,VA,r)}}Kb.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const HA={move:{name:"mousemove"},end:{name:"mouseup"}};var xd;(function(e){e[e.RightClick=2]="RightClick"})(xd||(xd={}));class UA extends Xp{constructor(t){super(t,HA,Vi(t.event.target))}}UA.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===xd.RightClick?!1:(r?.({event:n}),!0)}}];const hu={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class jA extends Xp{constructor(t){super(t,hu)}static setup(){return window.addEventListener(hu.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(hu.move.name,t)};function t(){}}}jA.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r?.({event:n}),!0)}}];var $s;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})($s||($s={}));var Ol;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ol||(Ol={}));function YA(e){let{acceleration:t,activator:n=$s.Pointer,canScroll:r,draggingRect:o,enabled:i,interval:s=5,order:a=Ol.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:p,threshold:f}=e;const h=KA({delta:p,disabled:!i}),[m,g]=oA(),v=te({x:0,y:0}),b=te({x:0,y:0}),S=ie(()=>{switch(n){case $s.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case $s.DraggableRect:return o}},[n,o,c]),y=te(null),w=Te(()=>{const C=y.current;if(!C)return;const T=v.current.x*b.current.x,I=v.current.y*b.current.y;C.scrollBy(T,I)},[]),k=ie(()=>a===Ol.TreeOrder?[...u].reverse():u,[a,u]);ae(()=>{if(!i||!u.length||!S){g();return}for(const C of k){if(r?.(C)===!1)continue;const T=u.indexOf(C),I=d[T];if(!I)continue;const{direction:E,speed:O}=RA(C,I,S,t,f);for(const P of["x","y"])h[P][E[P]]||(O[P]=0,E[P]=0);if(O.x>0||O.y>0){g(),y.current=C,m(w,s),v.current=O,b.current=E;return}}v.current={x:0,y:0},b.current={x:0,y:0},g()},[t,w,r,g,i,s,JSON.stringify(S),JSON.stringify(h),m,u,k,d,JSON.stringify(f)])}const GA={x:{[cn.Backward]:!1,[cn.Forward]:!1},y:{[cn.Backward]:!1,[cn.Forward]:!1}};function KA(e){let{delta:t,disabled:n}=e;const r=bd(t);return da(o=>{if(n||!r||!o)return GA;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[cn.Backward]:o.x[cn.Backward]||i.x===-1,[cn.Forward]:o.x[cn.Forward]||i.x===1},y:{[cn.Backward]:o.y[cn.Backward]||i.y===-1,[cn.Forward]:o.y[cn.Forward]||i.y===1}}},[n,t,r])}function ZA(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return da(o=>{var i;return t==null?null:(i=r??o)!=null?i:null},[r,t])}function qA(e,t){return ie(()=>e.reduce((n,r)=>{const{sensor:o}=r,i=o.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,r)}));return[...n,...i]},[]),[e,t])}var Us;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Us||(Us={}));var Cd;(function(e){e.Optimized="optimized"})(Cd||(Cd={}));const qm=new Map;function XA(e,t){let{dragging:n,dependencies:r,config:o}=t;const[i,s]=U(null),{frequency:a,measure:c,strategy:u}=o,d=te(e),p=v(),f=Vs(p),h=Te(function(b){b===void 0&&(b=[]),!f.current&&s(S=>S===null?b:S.concat(b.filter(y=>!S.includes(y))))},[f]),m=te(null),g=da(b=>{if(p&&!n)return qm;if(!b||b===qm||d.current!==e||i!=null){const S=new Map;for(let y of e){if(!y)continue;if(i&&i.length>0&&!i.includes(y.id)&&y.rect.current){S.set(y.id,y.rect.current);continue}const w=y.node.current,k=w?new qp(c(w),w):null;y.rect.current=k,k&&S.set(y.id,k)}return S}return b},[e,i,n,p,c]);return ae(()=>{d.current=e},[e]),ae(()=>{p||h()},[n,p]),ae(()=>{i&&i.length>0&&s(null)},[JSON.stringify(i)]),ae(()=>{p||typeof a!="number"||m.current!==null||(m.current=setTimeout(()=>{h(),m.current=null},a))},[a,p,h,...r]),{droppableRects:g,measureDroppableContainers:h,measuringScheduled:i!=null};function v(){switch(u){case Us.Always:return!1;case Us.BeforeDragging:return n;default:return!n}}}function Zb(e,t){return da(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function JA(e,t){return Zb(e,t)}function QA(e){let{callback:t,disabled:n}=e;const r=Gp(t),o=ie(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return ae(()=>()=>o?.disconnect(),[o]),o}function Oc(e){let{callback:t,disabled:n}=e;const r=Gp(t),o=ie(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return ae(()=>()=>o?.disconnect(),[o]),o}function eD(e){return new qp(Hi(e),e)}function Xm(e,t,n){t===void 0&&(t=eD);const[r,o]=U(null);function i(){o(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const s=QA({callback(c){if(e)for(const u of c){const{type:d,target:p}=u;if(d==="childList"&&p instanceof HTMLElement&&p.contains(e)){i();break}}}}),a=Oc({callback:i});return zr(()=>{i(),e?(a?.observe(e),s?.observe(document.body,{childList:!0,subtree:!0})):(a?.disconnect(),s?.disconnect())},[e]),r}function tD(e){const t=Zb(e);return Fb(e,t)}const Jm=[];function nD(e){const t=te(e),n=da(r=>e?r&&r!==Jm&&e&&t.current&&e.parentNode===t.current.parentNode?r:Zp(e):Jm,[e]);return ae(()=>{t.current=e},[e]),n}function rD(e){const[t,n]=U(null),r=te(e),o=Te(i=>{const s=pu(i.target);s&&n(a=>a?(a.set(s,Sd(s)),new Map(a)):null)},[]);return ae(()=>{const i=r.current;if(e!==i){s(i);const a=e.map(c=>{const u=pu(c);return u?(u.addEventListener("scroll",o,{passive:!0}),[u,Sd(u)]):null}).filter(c=>c!=null);n(a.length?new Map(a):null),r.current=e}return()=>{s(e),s(i)};function s(a){a.forEach(c=>{const u=pu(c);u?.removeEventListener("scroll",o)})}},[o,e]),ie(()=>e.length?t?Array.from(t.values()).reduce((i,s)=>yi(i,s),gr):jb(e):gr,[e,t])}function Qm(e,t){t===void 0&&(t=[]);const n=te(null);return ae(()=>{n.current=null},t),ae(()=>{const r=e!==gr;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Pl(e,n.current):gr}function oD(e){ae(()=>{if(!Mc)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function iD(e,t){return ie(()=>e.reduce((n,r)=>{let{eventName:o,handler:i}=r;return n[o]=s=>{i(s,t)},n},{}),[e,t])}function qb(e){return ie(()=>e?EA(e):null,[e])}const eg=[];function sD(e,t){t===void 0&&(t=Hi);const[n]=e,r=qb(n?An(n):null),[o,i]=U(eg);function s(){i(()=>e.length?e.map(c=>Hb(c)?r:new qp(t(c),c)):eg)}const a=Oc({callback:s});return zr(()=>{a?.disconnect(),s(),e.forEach(c=>a?.observe(c))},[e]),o}function aD(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return ua(t)?t:e}function lD(e){let{measure:t}=e;const[n,r]=U(null),o=Te(u=>{for(const{target:d}of u)if(ua(d)){r(p=>{const f=t(d);return p?{...p,width:f.width,height:f.height}:f});break}},[t]),i=Oc({callback:o}),s=Te(u=>{const d=aD(u);i?.disconnect(),d&&i?.observe(d),r(d?t(d):null)},[t,i]),[a,c]=El(s);return ie(()=>({nodeRef:a,rect:n,setRef:c}),[n,a,c])}const cD=[{sensor:Kb,options:{}},{sensor:Gb,options:{}}],uD={current:{}},al={draggable:{measure:Ym},droppable:{measure:Ym,strategy:Us.WhileDragging,frequency:Cd.Optimized},dragOverlay:{measure:Hi}};class Es extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const dD={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Es,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ml},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:al,measureDroppableContainers:Ml,windowRect:null,measuringScheduled:!1},pD={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ml,draggableNodes:new Map,over:null,measureDroppableContainers:Ml},Rc=Ut(pD),Xb=Ut(dD);function fD(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Es}}}function hD(e,t){switch(t.type){case rn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case rn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case rn.DragEnd:case rn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case rn.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new Es(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case rn.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new Es(e.droppable.containers);return s.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:s}}}case rn.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new Es(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function mD(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=bt(Rc),i=bd(r),s=bd(n?.id);return ae(()=>{if(!t&&!r&&i&&s!=null){if(!Kp(i)||document.activeElement===i.target)return;const a=o.get(s);if(!a)return;const{activatorNode:c,node:u}=a;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const p=aA(d);if(p){p.focus();break}}})}},[r,t,o,s,i]),null}function gD(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,i)=>i({transform:o,...r}),n):n}function vD(e){return ie(()=>({draggable:{...al.draggable,...e?.draggable},droppable:{...al.droppable,...e?.droppable},dragOverlay:{...al.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function yD(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const i=te(!1),{x:s,y:a}=typeof o=="boolean"?{x:o,y:o}:o;zr(()=>{if(!s&&!a||!t){i.current=!1;return}if(i.current||!r)return;const u=t?.node.current;if(!u||u.isConnected===!1)return;const d=n(u),p=Fb(d,r);if(s||(p.x=0),a||(p.y=0),i.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const f=Bb(u);f&&f.scrollBy({top:p.y,left:p.x})}},[t,s,a,r,n])}const Jb=Ut({...gr,scaleX:1,scaleY:1});var Xr;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Xr||(Xr={}));const Qb=Hl(function(t){var n,r,o,i;let{id:s,accessibility:a,autoScroll:c=!0,children:u,sensors:d=cD,collisionDetection:p=xA,measuring:f,modifiers:h,...m}=t;const g=Qs(hD,void 0,fD),[v,b]=g,[S,y]=fA(),[w,k]=U(Xr.Uninitialized),C=w===Xr.Initialized,{draggable:{active:T,nodes:I,translate:E},droppable:{containers:O}}=v,P=T!=null?I.get(T):null,x=te({initial:null,translated:null}),_=ie(()=>{var re;return T!=null?{id:T,data:(re=P?.data)!=null?re:uD,rect:x}:null},[T,P]),$=te(null),[R,M]=U(null),[A,D]=U(null),z=Vs(m,Object.values(m)),W=pa("DndDescribedBy",s),B=ie(()=>O.getEnabled(),[O]),Y=vD(f),{droppableRects:K,measureDroppableContainers:q,measuringScheduled:N}=XA(B,{dragging:C,dependencies:[E.x,E.y],config:Y.droppable}),V=ZA(I,T),ne=ie(()=>A?wd(A):null,[A]),Ce=ke(),ve=JA(V,Y.draggable.measure);yD({activeNode:T!=null?I.get(T):null,config:Ce.layoutShiftCompensation,initialRect:ve,measure:Y.draggable.measure});const J=Xm(V,Y.draggable.measure,ve),Se=Xm(V?V.parentElement:null),we=te({activatorEvent:null,active:null,activeNode:V,collisionRect:null,collisions:null,droppableRects:K,draggableNodes:I,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Pe=O.getNodeFor((n=we.current.over)==null?void 0:n.id),Re=lD({measure:Y.dragOverlay.measure}),xe=(r=Re.nodeRef.current)!=null?r:V,Be=C?(o=Re.rect)!=null?o:J:null,Le=!!(Re.nodeRef.current&&Re.rect),le=tD(Le?null:J),Xe=qb(xe?An(xe):null),$e=nD(C?Pe??V:null),Je=sD($e),ye=gD(h,{transform:{x:E.x-le.x,y:E.y-le.y,scaleX:1,scaleY:1},activatorEvent:A,active:_,activeNodeRect:J,containerNodeRect:Se,draggingNodeRect:Be,over:we.current.over,overlayNodeRect:Re.rect,scrollableAncestors:$e,scrollableAncestorRects:Je,windowRect:Xe}),mt=ne?yi(ne,E):null,st=rD($e),fe=Qm(st),ce=Qm(st,[J]),ge=yi(ye,fe),Ae=Be?_A(Be,ye):null,Ne=_&&Ae?p({active:_,collisionRect:Ae,droppableRects:K,droppableContainers:B,pointerCoordinates:mt}):null,Ee=wA(Ne,"id"),[me,L]=U(null),F=Le?ye:yi(ye,ce),H=CA(F,(i=me?.rect)!=null?i:null,J),j=te(null),he=Te((re,ue)=>{let{sensor:We,options:nt}=ue;if($.current==null)return;const et=I.get($.current);if(!et)return;const Fe=re.nativeEvent,wt=new We({active:$.current,activeNode:et,event:Fe,options:nt,context:we,onAbort(De){if(!I.get(De))return;const{onDragAbort:ot}=z.current,gt={id:De};ot?.(gt),S({type:"onDragAbort",event:gt})},onPending(De,at,ot,gt){if(!I.get(De))return;const{onDragPending:fn}=z.current,sn={id:De,constraint:at,initialCoordinates:ot,offset:gt};fn?.(sn),S({type:"onDragPending",event:sn})},onStart(De){const at=$.current;if(at==null)return;const ot=I.get(at);if(!ot)return;const{onDragStart:gt}=z.current,Jt={activatorEvent:Fe,active:{id:at,data:ot.data,rect:x}};ii(()=>{gt?.(Jt),k(Xr.Initializing),b({type:rn.DragStart,initialCoordinates:De,active:at}),S({type:"onDragStart",event:Jt}),M(j.current),D(Fe)})},onMove(De){b({type:rn.DragMove,coordinates:De})},onEnd:Me(rn.DragEnd),onCancel:Me(rn.DragCancel)});j.current=wt;function Me(De){return async function(){const{active:ot,collisions:gt,over:Jt,scrollAdjustedTranslate:fn}=we.current;let sn=null;if(ot&&fn){const{cancelDrop:Un}=z.current;sn={activatorEvent:Fe,active:ot,collisions:gt,delta:fn,over:Jt},De===rn.DragEnd&&typeof Un=="function"&&await Promise.resolve(Un(sn))&&(De=rn.DragCancel)}$.current=null,ii(()=>{b({type:De}),k(Xr.Uninitialized),L(null),M(null),D(null),j.current=null;const Un=De===rn.DragEnd?"onDragEnd":"onDragCancel";if(sn){const zn=z.current[Un];zn?.(sn),S({type:Un,event:sn})}})}}},[I]),Ke=Te((re,ue)=>(We,nt)=>{const et=We.nativeEvent,Fe=I.get(nt);if($.current!==null||!Fe||et.dndKit||et.defaultPrevented)return;const wt={active:Fe};re(We,ue.options,wt)===!0&&(et.dndKit={capturedBy:ue.sensor},$.current=nt,he(We,ue))},[I,he]),lt=qA(d,Ke);oD(d),zr(()=>{J&&w===Xr.Initializing&&k(Xr.Initialized)},[J,w]),ae(()=>{const{onDragMove:re}=z.current,{active:ue,activatorEvent:We,collisions:nt,over:et}=we.current;if(!ue||!We)return;const Fe={active:ue,activatorEvent:We,collisions:nt,delta:{x:ge.x,y:ge.y},over:et};ii(()=>{re?.(Fe),S({type:"onDragMove",event:Fe})})},[ge.x,ge.y]),ae(()=>{const{active:re,activatorEvent:ue,collisions:We,droppableContainers:nt,scrollAdjustedTranslate:et}=we.current;if(!re||$.current==null||!ue||!et)return;const{onDragOver:Fe}=z.current,wt=nt.get(Ee),Me=wt&&wt.rect.current?{id:wt.id,rect:wt.rect.current,data:wt.data,disabled:wt.disabled}:null,De={active:re,activatorEvent:ue,collisions:We,delta:{x:et.x,y:et.y},over:Me};ii(()=>{L(Me),Fe?.(De),S({type:"onDragOver",event:De})})},[Ee]),zr(()=>{we.current={activatorEvent:A,active:_,activeNode:V,collisionRect:Ae,collisions:Ne,droppableRects:K,draggableNodes:I,draggingNode:xe,draggingNodeRect:Be,droppableContainers:O,over:me,scrollableAncestors:$e,scrollAdjustedTranslate:ge},x.current={initial:Be,translated:Ae}},[_,V,Ne,Ae,I,xe,Be,K,O,me,$e,ge]),YA({...Ce,delta:E,draggingRect:Ae,pointerCoordinates:mt,scrollableAncestors:$e,scrollableAncestorRects:Je});const Qe=ie(()=>({active:_,activeNode:V,activeNodeRect:J,activatorEvent:A,collisions:Ne,containerNodeRect:Se,dragOverlay:Re,draggableNodes:I,droppableContainers:O,droppableRects:K,over:me,measureDroppableContainers:q,scrollableAncestors:$e,scrollableAncestorRects:Je,measuringConfiguration:Y,measuringScheduled:N,windowRect:Xe}),[_,V,J,A,Ne,Se,Re,I,O,K,me,q,$e,Je,Y,N,Xe]),be=ie(()=>({activatorEvent:A,activators:lt,active:_,activeNodeRect:J,ariaDescribedById:{draggable:W},dispatch:b,draggableNodes:I,over:me,measureDroppableContainers:q}),[A,lt,_,J,b,W,I,me,q]);return Mt.createElement(Lb.Provider,{value:y},Mt.createElement(Rc.Provider,{value:be},Mt.createElement(Xb.Provider,{value:Qe},Mt.createElement(Jb.Provider,{value:H},u)),Mt.createElement(mD,{disabled:a?.restoreFocus===!1})),Mt.createElement(gA,{...a,hiddenTextDescribedById:W}));function ke(){const re=R?.autoScrollEnabled===!1,ue=typeof c=="object"?c.enabled===!1:c===!1,We=C&&!re&&!ue;return typeof c=="object"?{...c,enabled:We}:{enabled:We}}}),bD=Ut(null),tg="button",wD="Draggable";function SD(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const i=pa(wD),{activators:s,activatorEvent:a,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:p,over:f}=bt(Rc),{role:h=tg,roleDescription:m="draggable",tabIndex:g=0}=o??{},v=c?.id===t,b=bt(v?Jb:bD),[S,y]=El(),[w,k]=El(),C=iD(s,t),T=Vs(n);zr(()=>(p.set(t,{id:t,key:i,node:S,activatorNode:w,data:T}),()=>{const E=p.get(t);E&&E.key===i&&p.delete(t)}),[p,t]);const I=ie(()=>({role:h,tabIndex:g,"aria-disabled":r,"aria-pressed":v&&h===tg?!0:void 0,"aria-roledescription":m,"aria-describedby":d.draggable}),[r,h,g,v,m,d.draggable]);return{active:c,activatorEvent:a,activeNodeRect:u,attributes:I,isDragging:v,listeners:r?void 0:C,node:S,over:f,setNodeRef:y,setActivatorNodeRef:k,transform:b}}function xD(){return bt(Xb)}const CD="Droppable",kD={timeout:25};function _D(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const i=pa(CD),{active:s,dispatch:a,over:c,measureDroppableContainers:u}=bt(Rc),d=te({disabled:n}),p=te(!1),f=te(null),h=te(null),{disabled:m,updateMeasurementsFor:g,timeout:v}={...kD,...o},b=Vs(g??r),S=Te(()=>{if(!p.current){p.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{u(Array.isArray(b.current)?b.current:[b.current]),h.current=null},v)},[v]),y=Oc({callback:S,disabled:m||!s}),w=Te((I,E)=>{y&&(E&&(y.unobserve(E),p.current=!1),I&&y.observe(I))},[y]),[k,C]=El(w),T=Vs(t);return ae(()=>{!y||!k.current||(y.disconnect(),p.current=!1,y.observe(k.current))},[k,y]),ae(()=>(a({type:rn.RegisterDroppable,element:{id:r,key:i,disabled:n,node:k,rect:f,data:T}}),()=>a({type:rn.UnregisterDroppable,key:i,id:r})),[r]),ae(()=>{n!==d.current.disabled&&(a({type:rn.SetDroppableDisabled,id:r,key:i,disabled:n}),d.current.disabled=n)},[r,i,n,a]),{active:s,rect:f,isOver:c?.id===r,node:k,over:c,setNodeRef:C}}function TD(e){return ie(()=>{if(!e)return{};const t=e.queryItems(),n=new Set(Ld(t)),r={};n.forEach(i=>r[i]=new Set);for(const i of t)for(const s of n){const a=Gt(i,s);if(a==null||String(a).trim()==="")continue;(Array.isArray(a)?a:[a]).forEach(u=>{const d=String(u).trim();d&&r[s].add(d)})}const o={};for(const i in r)r[i].size>0&&(o[i]=Array.from(r[i]).sort((s,a)=>s.localeCompare(a,"zh-CN")));return o},[e])}const ng={field:"",op:"=",value:""},rg={field:"",dir:"asc"};function og({title:e,mode:t,rows:n,fieldOptions:r,onChange:o,dataStore:i}){const s=t==="filter",[a,c]=U(s?ng:rg),u=TD(i),d=S=>o(n.filter((y,w)=>w!==S)),p=S=>{c(y=>({...y,...S}))},f=()=>{if(!a.field){alert("è¯·é€‰æ‹©ä¸€ä¸ªå­—æ®µ");return}let S=[...n];const y={...a};if(s&&S.length>0){const w=S[S.length-1];w.logic||(w.logic="and")}S.push(y),o(S),c(s?ng:rg)},h=S=>{if(s){const w=S;return`${w.field} ${w.op} "${w.value}"`}const y=S;return`${y.field} ${y.dir==="asc"?"å‡åº":"é™åº"}`},m=r.map(S=>({value:S,label:S})),g=["=","!=","includes","regex",">","<"].map(S=>({value:S,label:S})),v=[{value:"asc",label:"å‡åº"},{value:"desc",label:"é™åº"}],b=[{value:"and",label:"ä¸”"},{value:"or",label:"æˆ–"}];return l("div",{style:{display:"flex",flexDirection:"row",gap:"8px"},children:[l(oe,{sx:{width:"80px",flexShrink:0,fontWeight:500,pt:"8px"},children:e}),l("div",{style:{flexGrow:1,display:"flex",flexDirection:"column",gap:"12px"},children:[l("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"4px",alignItems:"center"},children:n.map((S,y)=>{const w=y===n.length-1,k=S;return l("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[l(vt,{title:`ç‚¹å‡»åˆ é™¤è§„åˆ™: ${h(S)}`,children:l(Wn,{label:h(S),onClick:()=>d(y),size:"small"})}),s&&!w&&l(Qn,{value:k.logic||"and",options:b,onChange:C=>{const T=[...n];T[y].logic=C,o(T)},sx:{minWidth:50}})]},y)})}),l("div",{style:{display:"flex",flexDirection:"row",gap:"4px",alignItems:"center"},children:[l(Qn,{fullWidth:!0,placeholder:"é€‰æ‹©å­—æ®µ",value:a.field,options:m,onChange:S=>p({field:S})}),s?l(yt,{children:[l(Qn,{value:a.op,options:g,onChange:S=>p({op:S}),sx:{minWidth:120}}),l(Cl,{freeSolo:!0,fullWidth:!0,size:"small",disableClearable:!0,disablePortal:!0,options:u[a.field]||[],value:a.value,onInputChange:(S,y)=>p({value:y||""}),renderInput:S=>l(pt,{...S,variant:"outlined",placeholder:"è¾“å…¥å€¼"})})]}):l(Qn,{value:a.dir,options:v,onChange:S=>p({dir:S}),sx:{minWidth:100}}),l(Ze,{variant:"contained",size:"small",onClick:f,children:"æ·»åŠ "})]})]})]})}function ID(e,t){ae(()=>{const n=r=>{r.target instanceof Node&&e.current&&!e.current.contains(r.target)&&t(r)};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[e,t])}function $D({isOpen:e,onClose:t,title:n,children:r,footer:o,size:i="medium",closeOnClickOutside:s=!0,closeOnEscape:a=!0,showCloseButton:c=!0,className:u="",onSave:d,saveButtonText:p="ä¿å­˜",showSaveButton:f=!0,onBeforeClose:h}){const m=te(null),[g,v]=U(!1);ID(m,()=>{s&&e&&b()}),ae(()=>{if(!a||!e)return;const k=C=>{C.key==="Escape"&&b()};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[a,e,t,h]),ae(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]);const b=()=>{h&&!h()||t()},S=async()=>{if(!(!d||g))try{v(!0),await d()}finally{v(!1)}};if(!e)return null;const y=["think-modal",`think-modal--${i}`,u].filter(Boolean).join(" ");return l("div",{className:"think-modal-overlay",children:l("div",{className:y,ref:m,children:[(n||c)&&l("div",{className:"think-modal__header",children:[n&&l("h2",{className:"think-modal__title",children:n}),c&&l("button",{className:"think-modal__close",onClick:b,"aria-label":"Close modal",children:"Ã—"})]}),l("div",{className:"think-modal__body",children:r}),o!==void 0?o:l("div",{className:"think-modal__footer",children:[d&&f&&l("button",{className:"mod-cta",onClick:S,disabled:g,children:g?"ä¿å­˜ä¸­...":p}),l("button",{onClick:b,children:"å–æ¶ˆ"})]})]})})}function ig({fields:e,availableFields:t,onFieldsChange:n,placeholder:r="+ æ·»åŠ å­—æ®µ...",disabled:o=!1,maxFields:i,className:s=""}){const a=ie(()=>t.filter(f=>!e.includes(f)).map(f=>({value:f,label:f})),[t,e]),c=f=>{i!==void 0&&e.length>=i||n([...e,f])},u=f=>{n(e.filter(h=>h!==f))},d=!o&&(i===void 0||e.length<i),p=a.length>0;return l("div",{className:`field-manager ${s}`,style:{display:"flex",flexDirection:"column",gap:"8px"},children:[l("div",{className:"field-tags",style:{display:"flex",flexWrap:"wrap",gap:"4px"},children:e.map(f=>l("span",{className:"field-tag",onClick:()=>!o&&u(f),title:`ç‚¹å‡»ç§»é™¤å­—æ®µ: ${f}`,style:{display:"inline-flex",alignItems:"center",padding:"4px 8px",backgroundColor:"var(--background-modifier-form-field)",border:"1px solid var(--background-modifier-border)",borderRadius:"12px",fontSize:"12px",cursor:o?"default":"pointer",userSelect:"none"},children:[f," âœ•"]},f))}),d&&p&&l("div",{className:"field-selector",children:l(Qn,{placeholder:r,value:"",options:a,onChange:c,sx:{minWidth:"200px"}})}),!p&&d&&l("div",{style:{fontSize:"12px",color:"var(--text-muted)"},children:"æ‰€æœ‰å¯ç”¨å­—æ®µå·²æ·»åŠ "}),i!==void 0&&e.length>=i&&l("div",{style:{fontSize:"12px",color:"var(--text-muted)"},children:["å·²è¾¾åˆ°æœ€å¤§å­—æ®µæ•°é‡é™åˆ¶ (",i,")"]})]})}function ss({label:e,children:t,required:n=!1,help:r,error:o,className:i="",labelWidth:s="80px"}){const a=["form-field",o?"form-field--error":"",i].filter(Boolean).join(" ");return l("div",{className:a,style:{marginBottom:"1rem"},children:[l("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem"},children:[l("label",{className:"form-label",style:{width:s,fontWeight:"bold",paddingTop:"8px",flexShrink:0},children:[e,n&&l("span",{className:"required",style:{color:"var(--text-error)"},children:"*"})]}),l("div",{className:"form-control",style:{flex:1},children:t})]}),r&&l("div",{className:"form-help",style:{fontSize:"0.85rem",color:"var(--text-muted)",marginTop:"0.25rem",marginLeft:`calc(${s} + 1rem)`},children:r}),o&&l("div",{className:"form-error",style:{fontSize:"0.85rem",color:"var(--text-error)",marginTop:"0.25rem",marginLeft:`calc(${s} + 1rem)`},children:o})]})}function e0(e,t={}){const{successMessage:n="ä¿å­˜æˆåŠŸ",errorMessage:r="ä¿å­˜å¤±è´¥",onSuccess:o,onError:i}=t;return async()=>{try{await e(),new _e.Notice(`âœ… ${n}`),o?.()}catch(s){const a=s instanceof Error?s:new Error(String(s)),c=a.message||"æœªçŸ¥é”™è¯¯";new _e.Notice(`âŒ ${r}: ${c}`),console.error(`${r}:`,a),i?.(a)}}}function ED(e,t={}){const[n,r]=U(e),[o,i]=U({}),[s,a]=U(!1),{onFieldChange:c,validateOnChange:u=!1}=t;return{state:n,errors:o,isDirty:s,setState:r,updateField:(y,w)=>{const k={...n,[y]:w};r(k),a(!0),o[y]&&i(C=>{const T={...C};return delete T[y],T}),c?.(y,w,k)},updateMultiple:y=>{const w={...n,...y};r(w),a(!0);const k=Object.keys(y);k.some(C=>o[C])&&i(C=>{const T={...C};return k.forEach(I=>{T[I]&&delete T[I]}),T})},reset:y=>{r(y||e),i({}),a(!1)},setFieldError:(y,w)=>{i(k=>{if(w===null){const C={...k};return delete C[y],C}return{...k,[y]:w}})},setFieldErrors:y=>{i(y)},clearErrors:()=>{i({})},getFieldError:y=>o[y],hasErrors:()=>Object.keys(o).length>0,validate:y=>{const w=y(n);return i(w),Object.keys(w).length===0}}}function PD(e){const[t,n]=U(null);return{...ED(e,{onFieldChange:o=>{n(o)}}),lastChanged:t,setLastChanged:n}}function MD({vi:e,appStore:t,dataStore:n}){const r=pn(p=>p.settings.viewInstances.find(f=>f.id===e.id))||e,o=ie(()=>Ld(n?.queryItems()||[]),[n]),i=OO[r.viewType],s=ie(()=>r.viewConfig&&typeof r.viewConfig.categories=="object"?r.viewConfig:r.viewConfig&&r.viewConfig.viewConfig?r.viewConfig.viewConfig:r.viewConfig||{},[r.viewConfig]),a=p=>{t.updateViewInstance(r.id,p)},c=ie(()=>kw.map(p=>({value:p,label:p.replace("View","")})),[]),u=p=>{a({fields:p})},d=p=>{a({groupFields:p})};return l("div",{children:[l("div",{style:{marginBottom:"2rem"},children:[l("h4",{style:{marginBottom:"1rem",color:"var(--text-muted)",fontSize:"1rem",fontWeight:"600"},children:"åŸºç¡€è®¾ç½®"}),l(ss,{label:"è§†å›¾ç±»åž‹",children:l("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[l(Qn,{value:r.viewType,options:c,onChange:p=>a({viewType:p}),sx:{flex:1,minWidth:"150px"}}),l(on,{control:l(co,{size:"small",checked:!!r.collapsed,onChange:p=>a({collapsed:p.target.checked})}),label:"é»˜è®¤æŠ˜å "})]})}),l(ss,{label:"æ˜¾ç¤ºå­—æ®µ",help:"é€‰æ‹©è¦åœ¨è§†å›¾ä¸­æ˜¾ç¤ºçš„å­—æ®µ",children:l(ig,{fields:r.fields||[],availableFields:o,onFieldsChange:u,placeholder:"+ æ·»åŠ å­—æ®µ..."})}),l(ss,{label:"åˆ†ç»„å­—æ®µ",help:"é€‰æ‹©ç”¨äºŽåˆ†ç»„çš„å­—æ®µï¼Œé¡ºåºå³ä¸ºå¤šçº§åˆ†ç»„å±‚çº§ï¼ˆAâ†’Bâ†’Cï¼‰",children:l(ig,{fields:r.groupFields||[],availableFields:o,onFieldsChange:d,placeholder:"+ é€‰æ‹©åˆ†ç»„å­—æ®µ..."})})]}),l("div",{style:{borderTop:"1px solid var(--background-modifier-border)",paddingTop:"1.5rem",marginBottom:"1.5rem"},children:[l("h4",{style:{marginBottom:"1rem",color:"var(--text-muted)",fontSize:"1rem",fontWeight:"600"},children:"æ•°æ®ç­›é€‰ä¸ŽæŽ’åº"}),l(ss,{label:"ç­›é€‰è§„åˆ™",help:"å®šä¹‰æ•°æ®ç­›é€‰æ¡ä»¶",children:l(og,{title:"ç­›é€‰è§„åˆ™",mode:"filter",rows:r.filters||[],fieldOptions:o,onChange:p=>a({filters:p}),dataStore:n})}),l(ss,{label:"æŽ’åºè§„åˆ™",help:"å®šä¹‰æ•°æ®æŽ’åºæ–¹å¼",children:l(og,{title:"æŽ’åºè§„åˆ™",mode:"sort",rows:r.sort||[],fieldOptions:o,onChange:p=>a({sort:p}),dataStore:n})})]}),i&&l("div",{style:{borderTop:"1px solid var(--background-modifier-border)",paddingTop:"1.5rem"},children:[l("h4",{style:{marginBottom:"1rem",color:"var(--text-muted)",fontSize:"1rem",fontWeight:"600"},children:[r.viewType.replace("View","")," ä¸“å±žé…ç½®"]}),l(i,{module:r,value:s,onChange:p=>a({viewConfig:{...s,...p}}),fieldOptions:o,dataStore:n})]})]})}function t0({isOpen:e,onClose:t,module:n,appStore:r,dataStore:o}){const i=pn(a=>a.settings.viewInstances.find(c=>c.id===n.id))||n,s=e0(async()=>{await new Promise(a=>setTimeout(a,100)),t()},{successMessage:`å·²ä¿å­˜è§†å›¾ "${n.title}" çš„è®¾ç½®`,errorMessage:"ä¿å­˜è®¾ç½®å¤±è´¥"});return l($D,{isOpen:e,onClose:t,title:`è§†å›¾è®¾ç½®: ${n.title}`,onSave:s,saveButtonText:"ä¿å­˜è®¾ç½®",size:"large",children:l(MD,{vi:i,appStore:r,dataStore:o})})}const OD=["å¹´","å­£","æœˆ","å‘¨","å¤©"].map(e=>({value:e,label:e})),RD=[{value:"list",label:"åˆ—è¡¨"},{value:"grid",label:"ç½‘æ ¼"}],gs="80px",sg=({label:e,options:t,selectedValue:n,onChange:r})=>l(qe,{direction:"row",alignItems:"center",spacing:2,children:[l(oe,{sx:{width:gs,flexShrink:0,fontWeight:500},children:e}),l(Ni,{row:!0,value:n,onChange:o=>r(o.target.value),children:t.map(o=>l(on,{value:o.value,control:l(oo,{size:"small"}),label:o.label},o.value))})]});function AD({layout:e,appStore:t}){const n=pn(E=>E.settings.viewInstances),[r,o]=U(""),[i,s]=U(null),[a,c]=U(!1),[u,d]=U(null),p=Te(E=>{t.updateLayout(e.id,E)},[e.id,t]),f=ie(()=>e.viewInstanceIds.map(E=>n.find(O=>O.id===E)).filter(Boolean),[e.viewInstanceIds,n]),h=ie(()=>n.filter(E=>!e.viewInstanceIds.includes(E.id)),[e.viewInstanceIds,n]),m=E=>{E&&p({viewInstanceIds:[...e.viewInstanceIds,E]})},g=E=>{p({viewInstanceIds:e.viewInstanceIds.filter(O=>O!==E)})},v=ie(()=>{const E=h.map(O=>({value:O.id,label:O.title,type:"existing"}));return r.trim()&&!h.some(O=>O.title.toLowerCase().includes(r.toLowerCase()))&&E.push({value:"create",label:`+ åˆ›å»ºæ–°è§†å›¾ï¼š"${r.trim()}"`,type:"create",newName:r.trim()}),E},[h,r]),b=Te(async E=>{try{await t.addViewInstance(E),o("")}catch(O){console.error("åˆ›å»ºæ–°è§†å›¾å¤±è´¥:",O)}},[t]),S=Te(async(E,O)=>{O&&(O.type==="existing"?m(O.value):O.type==="create"&&await b(O.newName),o(""))},[m,b]),y=Te((E,O)=>{E.preventDefault(),s({mouseX:E.clientX-2,mouseY:E.clientY-4,viewId:O.id,viewTitle:O.title})},[]),w=Te(()=>{s(null)},[]),k=Te(()=>{if(i){const E=n.find(O=>O.id===i.viewId);E&&(d(E),c(!0))}w()},[i,n,w]),C=Te(()=>{if(i){const E=prompt("è¯·è¾“å…¥æ–°çš„è§†å›¾åç§°",i.viewTitle);E&&E.trim()&&t.updateViewInstance(i.viewId,{title:E.trim()})}w()},[i,t,w]),T=Te(()=>{i&&g(i.viewId),w()},[i,g,w]),I=Te(()=>{c(!1),d(null)},[]);return l(qe,{spacing:2,sx:{p:"8px 16px 16px 50px"},children:[l(qe,{direction:"row",alignItems:"center",spacing:2,children:[l(oe,{sx:{width:gs,flexShrink:0,fontWeight:500},children:"å·¥å…·æ "}),l(on,{control:l(co,{size:"small",checked:!e.hideToolbar,onChange:E=>p({hideToolbar:!E.target.checked})}),label:l(oe,{noWrap:!0,children:"æ˜¾ç¤ºå·¥å…·æ /å¯¼èˆªå™¨"}),sx:{flexShrink:0,mr:0}})]}),l(qe,{direction:"row",alignItems:"center",spacing:2,children:[l(oe,{sx:{width:gs,flexShrink:0,fontWeight:500},children:"åˆå§‹æ—¥æœŸ"}),l(pt,{type:"date",size:"small",variant:"outlined",disabled:!!e.initialDateFollowsNow,value:e.initialDate||"",onChange:E=>p({initialDate:E.target.value}),sx:{width:"170px"}}),l(on,{control:l(co,{size:"small",checked:!!e.initialDateFollowsNow,onChange:E=>p({initialDateFollowsNow:E.target.checked})}),label:l(oe,{noWrap:!0,children:"è·Ÿéšä»Šæ—¥"})})]}),l(sg,{label:"åˆå§‹è§†å›¾ï¼ˆæ—¶é—´çª—ï¼‰",options:OD,selectedValue:e.initialView||"æœˆ",onChange:E=>p({initialView:E})}),l(sg,{label:"æŽ’åˆ—æ–¹å¼",options:RD,selectedValue:e.displayMode||"list",onChange:E=>p({displayMode:E})}),e.displayMode==="grid"&&l(qe,{direction:"row",alignItems:"center",spacing:2,sx:{pl:`calc(${gs} + 16px)`},children:l(pt,{label:"åˆ—æ•°",type:"number",size:"small",variant:"outlined",value:e.gridConfig?.columns||2,onChange:E=>p({gridConfig:{columns:parseInt(E.target.value,10)||2}}),sx:{width:"100px"}})}),l(qe,{direction:"row",flexWrap:"wrap",spacing:1,useFlexGap:!0,alignItems:"center",children:[l(oe,{sx:{width:gs,flexShrink:0,fontWeight:500},children:"åŒ…å«è§†å›¾"}),f.map(E=>E&&l(vt,{title:"å·¦é”®ç§»é™¤ï¼Œå³é”®æ›´å¤šé€‰é¡¹",children:l(Wn,{label:E.title,onClick:()=>g(E.id),onContextMenu:O=>y(O,E),size:"small",sx:{cursor:"pointer"}})},E.id)),l(Cl,{value:null,inputValue:r,onInputChange:(E,O)=>o(O),options:v,getOptionLabel:E=>E?E.label:"",onChange:S,renderInput:E=>l(pt,{...E,variant:"outlined",placeholder:"+ æœç´¢æ·»åŠ æˆ–åˆ›å»ºè§†å›¾..."}),sx:{minWidth:200},size:"small"})]}),l(Qy,{open:i!==null,onClose:w,anchorReference:"anchorPosition",anchorPosition:i!==null?{top:i.mouseY,left:i.mouseX}:void 0,children:[l(Xn,{onClick:k,children:"è®¾ç½®è§†å›¾"}),l(Xn,{onClick:C,children:"é‡å‘½å"}),l(Xn,{onClick:T,children:"ç§»é™¤"})]}),a&&u&&l(t0,{isOpen:a,onClose:I,module:u,appStore:t})]})}function DD({app:e,appStore:t}){const n=pn(c=>c.settings.layouts),r=pn(c=>c.settings.groups),o=ie(()=>r.filter(c=>c.type==="layout"),[r]),i=nA({app:e,appStore:t,type:"layout",itemNoun:"å¸ƒå±€"}),s=ie(()=>n.map(c=>({...c,name:c.name,isGroup:!1})),[n]);return l(de,{sx:{maxWidth:"900px",mx:"auto"},children:[l(qe,{direction:"row",alignItems:"center",spacing:1,sx:{mb:2},children:l(oe,{variant:"h6",children:"ç®¡ç†å¸ƒå±€"})}),l(Qb,{collisionDetection:Nb,onDragEnd:c=>{const{active:u,over:d}=c;if(u&&d&&u.id!==d.id){const p=s.find(h=>h.id===u.id)||o.find(h=>h.id===u.id),f=s.find(h=>h.id===d.id)||o.find(h=>h.id===d.id);if(p&&f&&p.parentId===f.parentId){const h=[...o,...s].filter(v=>v.parentId===p.parentId),m=h.findIndex(v=>v.id===u.id),g=h.findIndex(v=>v.id===d.id);if(m!==-1&&g!==-1){const v=Ww(h,m,g);t.reorderItems(v,"isGroup"in p&&p.isGroup?"group":"layout")}}}},children:l(Ab,{groups:o,items:s,allGroups:o,parentId:null,appStore:t,renderItem:c=>l(AD,{layout:c,appStore:t}),onAddItem:i.onAddItem,onAddGroup:i.onAddGroup,onDeleteItem:i.onDeleteItem,onUpdateItemName:i.onUpdateItemName,onMoveItem:i.onMoveItem,onDuplicateItem:i.onDuplicateItem})})]})}const n0=rt(l("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}));function Jp(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function zD(e,t){return e.reduce((n,r,o)=>{const i=t.get(r);return i&&(n[o]=i),n},Array(e.length))}function Fa(e){return e!==null&&e>=0}function LD(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function ND(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const r0=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const i=Jp(t,r,n),s=t[o],a=i[o];return!a||!s?null:{x:a.left-s.left,y:a.top-s.top,scaleX:a.width/s.width,scaleY:a.height/s.height}},Ba={scaleX:1,scaleY:1},FD=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:i,overIndex:s}=e;const a=(t=i[n])!=null?t:r;if(!a)return null;if(o===n){const u=i[s];return u?{x:0,y:n<s?u.top+u.height-(a.top+a.height):u.top-a.top,...Ba}:null}const c=BD(i,o,n);return o>n&&o<=s?{x:0,y:-a.height-c,...Ba}:o<n&&o>=s?{x:0,y:a.height+c,...Ba}:{x:0,y:0,...Ba}};function BD(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return r?n<t?o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const o0="Sortable",i0=Mt.createContext({activeIndex:-1,containerId:o0,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:r0,disabled:{draggable:!1,droppable:!1}});function WD(e){let{children:t,id:n,items:r,strategy:o=r0,disabled:i=!1}=e;const{active:s,dragOverlay:a,droppableRects:c,over:u,measureDroppableContainers:d}=xD(),p=pa(o0,n),f=a.rect!==null,h=ie(()=>r.map(C=>typeof C=="object"&&"id"in C?C.id:C),[r]),m=s!=null,g=s?h.indexOf(s.id):-1,v=u?h.indexOf(u.id):-1,b=te(h),S=!LD(h,b.current),y=v!==-1&&g===-1||S,w=ND(i);zr(()=>{S&&m&&d(h)},[S,h,m,d]),ae(()=>{b.current=h},[h]);const k=ie(()=>({activeIndex:g,containerId:p,disabled:w,disableTransforms:y,items:h,overIndex:v,useDragOverlay:f,sortedRects:zD(h,c),strategy:o}),[g,p,w.draggable,w.droppable,y,h,v,c,f,o]);return Mt.createElement(i0.Provider,{value:k},t)}const VD=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return Jp(n,r,o).indexOf(t)},HD=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:i,newIndex:s,previousItems:a,previousContainerId:c,transition:u}=e;return!u||!r||a!==i&&o===s?!1:n?!0:s!==o&&t===c},UD={duration:200,easing:"ease"},s0="transform",jD=Hs.Transition.toString({property:s0,duration:0,easing:"linear"}),YD={roleDescription:"sortable"};function GD(e){let{disabled:t,index:n,node:r,rect:o}=e;const[i,s]=U(null),a=te(n);return zr(()=>{if(!t&&n!==a.current&&r.current){const c=o.current;if(c){const u=Hi(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&s(d)}}n!==a.current&&(a.current=n)},[t,n,r,o]),ae(()=>{i&&s(null)},[i]),i}function KD(e){let{animateLayoutChanges:t=HD,attributes:n,disabled:r,data:o,getNewIndex:i=VD,id:s,strategy:a,resizeObserverConfig:c,transition:u=UD}=e;const{items:d,containerId:p,activeIndex:f,disabled:h,disableTransforms:m,sortedRects:g,overIndex:v,useDragOverlay:b,strategy:S}=bt(i0),y=ZD(r,h),w=d.indexOf(s),k=ie(()=>({sortable:{containerId:p,index:w,items:d},...o}),[p,o,w,d]),C=ie(()=>d.slice(d.indexOf(s)),[d,s]),{rect:T,node:I,isOver:E,setNodeRef:O}=_D({id:s,data:k,disabled:y.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...c}}),{active:P,activatorEvent:x,activeNodeRect:_,attributes:$,setNodeRef:R,listeners:M,isDragging:A,over:D,setActivatorNodeRef:z,transform:W}=SD({id:s,data:k,attributes:{...YD,...n},disabled:y.draggable}),B=rA(O,R),Y=!!P,K=Y&&!m&&Fa(f)&&Fa(v),q=!b&&A,N=q&&K?W:null,ne=K?N??(a??S)({rects:g,activeNodeRect:_,activeIndex:f,overIndex:v,index:w}):null,Ce=Fa(f)&&Fa(v)?i({id:s,items:d,activeIndex:f,overIndex:v}):w,ve=P?.id,J=te({activeId:ve,items:d,newIndex:Ce,containerId:p}),Se=d!==J.current.items,we=t({active:P,containerId:p,isDragging:A,isSorting:Y,id:s,index:w,items:d,newIndex:J.current.newIndex,previousItems:J.current.items,previousContainerId:J.current.containerId,transition:u,wasDragging:J.current.activeId!=null}),Pe=GD({disabled:!we,index:w,node:I,rect:T});return ae(()=>{Y&&J.current.newIndex!==Ce&&(J.current.newIndex=Ce),p!==J.current.containerId&&(J.current.containerId=p),d!==J.current.items&&(J.current.items=d)},[Y,Ce,p,d]),ae(()=>{if(ve===J.current.activeId)return;if(ve!=null&&J.current.activeId==null){J.current.activeId=ve;return}const xe=setTimeout(()=>{J.current.activeId=ve},50);return()=>clearTimeout(xe)},[ve]),{active:P,activeIndex:f,attributes:$,data:k,rect:T,index:w,newIndex:Ce,items:d,isOver:E,isSorting:Y,isDragging:A,listeners:M,node:I,overIndex:v,over:D,setNodeRef:B,setActivatorNodeRef:z,setDroppableNodeRef:O,setDraggableNodeRef:R,transform:Pe??ne,transition:Re()};function Re(){if(Pe||Se&&J.current.newIndex===w)return jD;if(!(q&&!Kp(x)||!u)&&(Y||we))return Hs.Transition.toString({...u,property:s0})}}function ZD(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(r=e?.droppable)!=null?r:t.droppable}}kt.Down,kt.Right,kt.Up,kt.Left;function qD({block:e,openId:t,setOpenId:n,handleDelete:r,appStore:o}){const{attributes:i,listeners:s,setNodeRef:a,transform:c,transition:u}=KD({id:e.id}),d={transform:Hs.Transform.toString(c),transition:u};return l("div",{ref:a,style:d,children:l(wo,{expanded:t===e.id,onChange:()=>n(t===e.id?null:e.id),disableGutters:!0,elevation:1,sx:{"&:before":{display:"none"}},children:[l(xo,{children:l(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[l(qe,{direction:"row",alignItems:"center",spacing:.5,children:[l(vt,{title:"æ‹–åŠ¨æŽ’åº",children:l(de,{component:"span",...i,...s,sx:{cursor:"grab",display:"flex",alignItems:"center"},children:l(n0,{sx:{color:"text.disabled"}})})}),l(oe,{fontWeight:500,children:e.name})]}),l(qe,{direction:"row",alignItems:"center",spacing:.5,children:[l(vt,{title:"å¤åˆ¶",children:l(ht,{size:"small",onClick:p=>{p.stopPropagation(),o.duplicateBlock(e.id)},children:l(Ob,{fontSize:"small"})})}),l(vt,{title:"åˆ é™¤",children:l(ht,{size:"small",onClick:p=>{p.stopPropagation(),r(e.id,e.name)},sx:{color:"text.secondary","&:hover":{color:"error.main"}},children:l(Mb,{})})})]})]})}),l(So,{sx:{bgcolor:"action.hover",borderTop:"1px solid rgba(0,0,0,0.08)"},children:l(XD,{block:e,appStore:o})})]})})}function XD({block:e,appStore:t}){const[n,r]=U(e);ae(()=>{r(e)},[e]);const o=s=>{t.updateBlock(e.id,s)},i=s=>{n[s]!==e[s]&&o({[s]:n[s]})};return l(qe,{spacing:3,children:[l(pt,{label:"Block åç§°",value:n.name,onChange:s=>r(a=>({...a,name:s.target.value})),onBlur:()=>i("name"),variant:"outlined",size:"small",sx:{maxWidth:400}}),l(dn,{}),l(de,{children:[l(oe,{variant:"h6",sx:{fontSize:"1rem",fontWeight:600,mb:1},children:"è¾“å‡ºç›®æ ‡"}),l(qe,{spacing:2,children:[l(pt,{label:"ç›®æ ‡æ–‡ä»¶è·¯å¾„",value:n.targetFile,onChange:s=>r(a=>({...a,targetFile:s.target.value})),onBlur:()=>i("targetFile"),placeholder:"e.g., {{theme.path}}/{{æ ‡é¢˜.value}}.md",variant:"outlined",size:"small"}),l(pt,{label:"è¿½åŠ åˆ°æ ‡é¢˜ä¸‹ (å¯é€‰)",value:n.appendUnderHeader||"",onChange:s=>r(a=>({...a,appendUnderHeader:s.target.value})),onBlur:()=>i("appendUnderHeader"),placeholder:"e.g., ## {{block.name}}",variant:"outlined",size:"small"})]})]}),l(dn,{}),l(de,{children:[l(oe,{variant:"h6",sx:{fontSize:"1rem",fontWeight:600,mb:1.5},children:"è¡¨å•å­—æ®µ"}),l(_b,{fields:n.fields,onChange:s=>o({fields:s})})]}),l(dn,{}),l(de,{children:[l(qe,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:1},children:[l(oe,{variant:"h6",sx:{fontSize:"1rem",fontWeight:600},children:"è¾“å‡ºæ¨¡æ¿"}),l(Tb,{block:n})]}),l(pt,{label:"Output Template",multiline:!0,rows:8,value:n.outputTemplate,onChange:s=>r(a=>({...a,outputTemplate:s.target.value})),onBlur:()=>i("outputTemplate"),placeholder:"ä½¿ç”¨ {{key}} å¼•ç”¨ä¸Šé¢å®šä¹‰çš„å­—æ®µ",variant:"outlined",sx:{fontFamily:"monospace","& textarea":{fontSize:"13px"}}})]})]})}function JD({appStore:e}){const t=pn(a=>a.settings.inputSettings.blocks),[n,r]=U(null),o=()=>{const a=`æ–°Block ${t.length+1}`;e.addBlock(a).then(()=>{const c=e.getSettings().inputSettings.blocks.at(-1);c&&r(c.id)})},i=(a,c)=>{confirm(`ç¡®è®¤åˆ é™¤Block "${c}" å—ï¼Ÿ
æ‰€æœ‰ä¸Žæ­¤Blockç›¸å…³çš„ä¸»é¢˜è¦†å†™é…ç½®éƒ½å°†è¢«ä¸€å¹¶åˆ é™¤ã€‚`)&&e.deleteBlock(a)};return l(de,{sx:{maxWidth:"900px",mx:"auto"},children:[l(qe,{direction:"row",alignItems:"center",spacing:1,sx:{mb:2},children:[l(oe,{variant:"h6",children:"1. ç®¡ç† Block"}),l(vt,{title:"æ–°å¢žBlockç±»åž‹",children:l(ht,{onClick:o,color:"success",children:l(Ao,{})})})]}),l(oe,{variant:"body2",color:"text.secondary",sx:{mb:1.5},children:"åœ¨è¿™é‡Œå®šä¹‰æ‰€æœ‰å¿«é€Ÿè¾“å…¥çš„åŸºç¡€æ¨¡æ¿ï¼Œä¾‹å¦‚ä»»åŠ¡ã€æ‰“å¡ã€æ€»ç»“ç­‰ã€‚å¯æ‹–åŠ¨æŽ’åºã€‚"}),l(Qb,{collisionDetection:Nb,onDragEnd:a=>{const{active:c,over:u}=a;if(c&&u&&c.id!==u.id){const d=t.findIndex(g=>g.id===c.id),p=t.findIndex(g=>g.id===u.id);if(d===-1||p===-1)return;const f=Jp(t,d,p),m={...e.getSettings().inputSettings,blocks:f};e._updateSettingsAndPersist(g=>{g.inputSettings=m})}},children:l(WD,{items:t.map(a=>a.id),strategy:FD,children:l(qe,{spacing:1,children:t.map(a=>l(qD,{block:a,openId:n,setOpenId:r,handleDelete:i,appStore:e},a.id))})})})]})}function QD({appStore:e,dataStore:t}){return l(de,{children:[l(JD,{appStore:e}),l(dn,{sx:{my:4,mx:"auto",maxWidth:900}}),l(ZR,{appStore:e,dataStore:t})]})}function ez({appStore:e}){const t=pn(n=>n.settings.floatingTimerEnabled);return l(de,{sx:{maxWidth:"900px",mx:"auto"},children:l(qe,{spacing:2,children:[l(oe,{variant:"h6",children:"æ¨¡å—å¼€å…³"}),l(on,{control:l(co,{checked:t,onChange:n=>e.updateFloatingTimerEnabled(n.target.checked)}),label:"å¯ç”¨æ‚¬æµ®è®¡æ—¶å™¨"}),l(oe,{variant:"body2",color:"text.secondary",sx:{pl:4,mt:-1.5},children:"å…³é—­åŽï¼Œä¸‹æ¬¡å¯åŠ¨Obsidianå°†ä¸å†åŠ è½½æ‚¬æµ®è®¡æ—¶å™¨ã€‚ä½ ä¹Ÿå¯ä»¥é€šè¿‡å‘½ä»¤é¢æ¿ä¸´æ—¶åˆ‡æ¢å®ƒçš„å¯è§æ€§ã€‚"})]})})}function tz(e,t,n){const r=e.blocks.find(i=>i.id===t);if(!r)return{template:null,theme:null};const o=e.themes.find(i=>i.id===n)||null;return{template:r,theme:o}}function nz(e,t){const n=t.enabledBlockIds?.length?new Set(t.enabledBlockIds):null,r=e.blocks.filter(i=>!n||n.has(i.id)).map(i=>{const c=(tz(e,i.id,void 0)?.template?.fields??i.fields??[]).map(u=>({key:u.key,label:u.label,type:u.type,options:(u.options??[]).map(d=>({value:d.value,label:d.label||d.value})),defaultValue:u.defaultValue}));return{id:i.id,name:i.name,fields:c}}),o=e.themes.map(i=>({id:i.id,path:i.path,name:i.path.split("/").pop()||i.path}));return{blocks:r,themes:o}}class rz{constructor(t){this.settingsProvider=t}snapshot=null;lastUpdated=0;getSnapshot(){const t=this.settingsProvider.getSettings(),n=t.aiSettings;if(!n)throw new Error("AI settings missing");const r=(n.configCacheTTLSeconds??300)*1e3,o=Date.now();return(!this.snapshot||o-this.lastUpdated>r)&&(this.snapshot=nz(t.inputSettings,n),this.lastUpdated=o),this.snapshot}invalidate(){this.snapshot=null,this.lastUpdated=0}isValid(){if(!this.snapshot)return!1;const n=this.settingsProvider.getSettings().aiSettings;if(!n)return!1;const r=(n.configCacheTTLSeconds??300)*1e3;return Date.now()-this.lastUpdated<=r}}class Qp{async chatCompletion(t){const n=t.baseURL.replace(/\/$/,"")+"/chat/completions",r=new AbortController,o=setTimeout(()=>r.abort(),t.timeoutMs);try{const i=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.apiKey}`},body:JSON.stringify({model:t.model,temperature:t.temperature,max_tokens:t.max_tokens,messages:t.messages}),signal:r.signal});if(!i.ok){const c=await i.text().catch(()=>"");throw new Error(`AI HTTP ${i.status}: ${c.slice(0,200)}`)}const a=(await i.json())?.choices?.[0]?.message?.content;if(!a)throw new Error("AI returned empty content");return a}catch(i){throw i.name==="AbortError"?new Error(`AI request timeout after ${t.timeoutMs}ms`):i}finally{clearTimeout(o)}}}function oz(e){try{return JSON.parse(e)}catch{const t=e.indexOf("{"),n=e.lastIndexOf("}");if(t>=0&&n>t){const i=e.slice(t,n+1);try{return JSON.parse(i)}catch{}}const r=e.indexOf("["),o=e.lastIndexOf("]");if(r>=0&&o>r){const i=e.slice(r,o+1);try{return{items:JSON.parse(i)}}catch{}}throw new Error("AI output is not valid JSON. Raw output: "+e.slice(0,200))}}class iz{constructor(t,n,r){this.settingsProvider=t,this.cache=n,this.http=r}async parse(t){const r=this.settingsProvider.getSettings().aiSettings;if(!r?.enabled)throw new Error("AI is disabled");const o=this.cache.getSnapshot(),i=t.now.toISOString(),s=r.customPrompt?.trim()||"",a=this.buildSystemPrompt(o,s),c=this.buildUserPrompt(t.text,i,r.allowMultipleResults?r.maxResults:1,o),u=await this.http.chatCompletion({baseURL:r.apiEndpoint,apiKey:r.apiKey,model:r.model,temperature:r.temperature,max_tokens:r.maxTokens,timeoutMs:r.requestTimeoutMs??3e4,messages:[{role:"system",content:a},{role:"user",content:c}]}),d=oz(u);d.items||(d.items=[]),!r.allowMultipleResults&&d.items.length>1&&(d.items=d.items.slice(0,1)),r.maxResults&&d.items.length>r.maxResults&&(d.items=d.items.slice(0,r.maxResults));const p=r.defaultThemeId;return d.items.forEach(f=>{f.rawText||(f.rawText=t.text),!f.target.themeId&&p&&(f.target.themeId=p)}),d}buildSystemPrompt(t,n){const r=t.themes?.slice(0,5).map(s=>s.path).join(", ")||"",i=["You are a parser that converts natural language into Think plugin record commands.","Return ONLY valid JSON. No markdown code blocks. No explanations. No extra text.","","=== OUTPUT SCHEMA ===",'{ "items": NaturalRecordCommand[] }',"","NaturalRecordCommand structure:","{",'  "rawText": "original input text",','  "target": {','    "blockId": "block-id-from-snapshot",','    "themeId": "theme-path-from-snapshot"  // REQUIRED! Must be a valid theme path',"  },",'  "fieldValues": { "fieldKey": "value" },','  "meta": { "confidence": 0.9, "reason": "explanation" }',"}","","=== AVAILABLE BLOCKS ===",`Block IDs: ${t.blocks?.slice(0,5).map(s=>`${s.id}(${s.name})`).join(", ")||""}${t.blocks?.length>5?"...":""}`,"","=== AVAILABLE THEMES ===",`Theme paths: ${r}${t.themes?.length>5?"...":""}`];return n&&i.push("","=== USER CUSTOM RULES (HIGHEST PRIORITY) ===","The following are user-defined rules. Follow these rules STRICTLY:","",n,"","=== END OF CUSTOM RULES ===",""),i.push("","=== DEFAULT RULES (use when custom rules do not apply) ===","","THEME SELECTION:","1. themeId is REQUIRED - you MUST always provide a theme","2. themeId must be the FULL PATH from snapshot.themes[].path","3. Theme matching strategy:","   - Look for keywords in user input that match theme path segments",'   - Example: "è‹±è¯­" in input â†’ find theme with "è‹±è¯­" in path â†’ use full path like "å­¦ä¹ /è‹±è¯­"',"   - If no clear match, use the FIRST theme in the list as default","4. NEVER leave themeId empty or undefined","","BLOCK SELECTION:","1. blockId must be from snapshot.blocks[].id","2. Choose block based on user intent and block name","3. Common patterns:",'   - "ä»»åŠ¡"/"è¦åš"/"è®¡åˆ’" â†’ task block','   - "æƒ³æ³•"/"çµæ„Ÿ"/"é—ªå¿µ" â†’ idea/flash block','   - "å­¦ä¹ "/"å­¦äº†"/"è®°å½•" â†’ study/record block','   - "å¿ƒæƒ…"/"å¼€å¿ƒ"/"éš¾è¿‡" â†’ mood/check-in block',"4. If unsure, use the first block","","FIELD VALUES:","1. Keys MUST be from snapshot.blocks[].fields[].key","2. Date format: YYYY-MM-DD","3. Time format: HH:mm","4. Select/radio: use option.value when possible","5. Rating: use numeric value (1-5)","6. Use current date/time if not specified in input","","=== EXAMPLE ===",'If user says "è®°å½•ä»Šå¤©å­¦äº†30åˆ†é’Ÿè‹±è¯­" and themes include "å­¦ä¹ /è‹±è¯­":',"{",'  "items": [{','    "rawText": "è®°å½•ä»Šå¤©å­¦äº†30åˆ†é’Ÿè‹±è¯­",','    "target": { "blockId": "study-record", "themeId": "å­¦ä¹ /è‹±è¯­" },','    "fieldValues": { "duration": 30, "date": "2024-01-15" },','    "meta": { "confidence": 0.95 }',"  }]","}"),i.join(`
`)}buildUserPrompt(t,n,r,o){return[`Current time: ${n}`,`Max results: ${r}`,"","=== AVAILABLE THEMES (you MUST choose one) ===",JSON.stringify(o.themes,null,2),"","=== AVAILABLE BLOCKS ===",JSON.stringify(o.blocks,null,2),"","=== USER INPUT ===",t,"","Return JSON with themeId filled:"].join(`
`)}}function se(e,t,n){function r(a,c){if(a._zod||Object.defineProperty(a,"_zod",{value:{def:c,constr:s,traits:new Set},enumerable:!1}),a._zod.traits.has(e))return;a._zod.traits.add(e),t(a,c);const u=s.prototype,d=Object.keys(u);for(let p=0;p<d.length;p++){const f=d[p];f in a||(a[f]=u[f].bind(a))}}const o=n?.Parent??Object;class i extends o{}Object.defineProperty(i,"name",{value:e});function s(a){var c;const u=n?.Parent?new i:this;r(u,a),(c=u._zod).deferred??(c.deferred=[]);for(const d of u._zod.deferred)d();return u}return Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:a=>n?.Parent&&a instanceof n.Parent?!0:a?._zod?.traits?.has(e)}),Object.defineProperty(s,"name",{value:e}),s}class bi extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class a0 extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const l0={};function zo(e){return l0}function c0(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,o])=>t.indexOf(+r)===-1).map(([r,o])=>o)}function kd(e,t){return typeof t=="bigint"?t.toString():t}function ef(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function tf(e){return e==null}function nf(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function sz(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let o=(r.split(".")[1]||"").length;if(o===0&&/\d?e-\d?/.test(r)){const c=r.match(/\d?e-(\d?)/);c?.[1]&&(o=Number.parseInt(c[1]))}const i=n>o?n:o,s=Number.parseInt(e.toFixed(i).replace(".","")),a=Number.parseInt(t.toFixed(i).replace(".",""));return s%a/10**i}const ag=Symbol("evaluating");function Dt(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==ag)return r===void 0&&(r=ag,r=n()),r},set(o){Object.defineProperty(e,t,{value:o})},configurable:!0})}function Vo(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Ho(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function lg(e){return JSON.stringify(e)}function az(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const u0="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Rl(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const lz=ef(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function js(e){if(Rl(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(Rl(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function d0(e){return js(e)?{...e}:Array.isArray(e)?[...e]:e}const cz=new Set(["string","number","symbol"]);function Ai(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function mo(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function tt(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function uz(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const dz={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function pz(e,t){const n=e._zod.def,r=Ho(e._zod.def,{get shape(){const o={};for(const i in t){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&(o[i]=n.shape[i])}return Vo(this,"shape",o),o},checks:[]});return mo(e,r)}function fz(e,t){const n=e._zod.def,r=Ho(e._zod.def,{get shape(){const o={...e._zod.def.shape};for(const i in t){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&delete o[i]}return Vo(this,"shape",o),o},checks:[]});return mo(e,r)}function hz(e,t){if(!js(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const o=Ho(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t};return Vo(this,"shape",i),i},checks:[]});return mo(e,o)}function mz(e,t){if(!js(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return Vo(this,"shape",r),r},checks:e._zod.def.checks};return mo(e,n)}function gz(e,t){const n=Ho(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return Vo(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return mo(e,n)}function vz(e,t,n){const r=Ho(t._zod.def,{get shape(){const o=t._zod.def.shape,i={...o};if(n)for(const s in n){if(!(s in o))throw new Error(`Unrecognized key: "${s}"`);n[s]&&(i[s]=e?new e({type:"optional",innerType:o[s]}):o[s])}else for(const s in o)i[s]=e?new e({type:"optional",innerType:o[s]}):o[s];return Vo(this,"shape",i),i},checks:[]});return mo(t,r)}function yz(e,t,n){const r=Ho(t._zod.def,{get shape(){const o=t._zod.def.shape,i={...o};if(n)for(const s in n){if(!(s in i))throw new Error(`Unrecognized key: "${s}"`);n[s]&&(i[s]=new e({type:"nonoptional",innerType:o[s]}))}else for(const s in o)i[s]=new e({type:"nonoptional",innerType:o[s]});return Vo(this,"shape",i),i},checks:[]});return mo(t,r)}function hi(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function p0(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function Wa(e){return typeof e=="string"?e:e?.message}function Lo(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const o=Wa(e.inst?._zod.def?.error?.(e))??Wa(t?.error?.(e))??Wa(n.customError?.(e))??Wa(n.localeError?.(e))??"Invalid input";r.message=o}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function rf(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Ys(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const f0=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,kd,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},h0=se("$ZodError",f0),m0=se("$ZodError",f0,{Parent:Error});function bz(e,t=n=>n.message){const n={},r=[];for(const o of e.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):r.push(t(o));return{formErrors:r,fieldErrors:n}}function wz(e,t=n=>n.message){const n={_errors:[]},r=o=>{for(const i of o.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(s=>r({issues:s}));else if(i.code==="invalid_key")r({issues:i.issues});else if(i.code==="invalid_element")r({issues:i.issues});else if(i.path.length===0)n._errors.push(t(i));else{let s=n,a=0;for(;a<i.path.length;){const c=i.path[a];a===i.path.length-1?(s[c]=s[c]||{_errors:[]},s[c]._errors.push(t(i))):s[c]=s[c]||{_errors:[]},s=s[c],a++}}};return r(e),n}const of=e=>(t,n,r,o)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},s=t._zod.run({value:n,issues:[]},i);if(s instanceof Promise)throw new bi;if(s.issues.length){const a=new(o?.Err??e)(s.issues.map(c=>Lo(c,i,zo())));throw u0(a,o?.callee),a}return s.value},sf=e=>async(t,n,r,o)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},i);if(s instanceof Promise&&(s=await s),s.issues.length){const a=new(o?.Err??e)(s.issues.map(c=>Lo(c,i,zo())));throw u0(a,o?.callee),a}return s.value},Ac=e=>(t,n,r)=>{const o=r?{...r,async:!1}:{async:!1},i=t._zod.run({value:n,issues:[]},o);if(i instanceof Promise)throw new bi;return i.issues.length?{success:!1,error:new(e??h0)(i.issues.map(s=>Lo(s,o,zo())))}:{success:!0,data:i.value}},Sz=Ac(m0),Dc=e=>async(t,n,r)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},o);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(s=>Lo(s,o,zo())))}:{success:!0,data:i.value}},xz=Dc(m0),Cz=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return of(e)(t,n,o)},kz=e=>(t,n,r)=>of(e)(t,n,r),_z=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return sf(e)(t,n,o)},Tz=e=>async(t,n,r)=>sf(e)(t,n,r),Iz=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Ac(e)(t,n,o)},$z=e=>(t,n,r)=>Ac(e)(t,n,r),Ez=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Dc(e)(t,n,o)},Pz=e=>async(t,n,r)=>Dc(e)(t,n,r),Mz=/^[cC][^\s-]{8,}$/,Oz=/^[0-9a-z]+$/,Rz=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Az=/^[0-9a-vA-V]{20}$/,Dz=/^[A-Za-z0-9]{27}$/,zz=/^[a-zA-Z0-9_-]{21}$/,Lz=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Nz=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,cg=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Fz=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Bz="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Wz(){return new RegExp(Bz,"u")}const Vz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Hz=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Uz=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,jz=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Yz=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,g0=/^[A-Za-z0-9_-]*$/,Gz=/^\+(?:[0-9]){6,14}[0-9]$/,v0="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Kz=new RegExp(`^${v0}$`);function y0(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Zz(e){return new RegExp(`^${y0(e)}$`)}function qz(e){const t=y0({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${v0}T(?:${r})$`)}const Xz=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Jz=/^-?\d+$/,Qz=/^-?\d+(?:\.\d+)?/,eL=/^[^A-Z]*$/,tL=/^[^a-z]*$/,Dn=se("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),b0={number:"number",bigint:"bigint",object:"date"},w0=se("$ZodCheckLessThan",(e,t)=>{Dn.init(e,t);const n=b0[typeof t.value];e._zod.onattach.push(r=>{const o=r._zod.bag,i=(t.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<i&&(t.inclusive?o.maximum=t.value:o.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),S0=se("$ZodCheckGreaterThan",(e,t)=>{Dn.init(e,t);const n=b0[typeof t.value];e._zod.onattach.push(r=>{const o=r._zod.bag,i=(t.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>i&&(t.inclusive?o.minimum=t.value:o.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),nL=se("$ZodCheckMultipleOf",(e,t)=>{Dn.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):sz(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),rL=se("$ZodCheckNumberFormat",(e,t)=>{Dn.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),r=n?"int":"number",[o,i]=dz[t.format];e._zod.onattach.push(s=>{const a=s._zod.bag;a.format=t.format,a.minimum=o,a.maximum=i,n&&(a.pattern=Jz)}),e._zod.check=s=>{const a=s.value;if(n){if(!Number.isInteger(a)){s.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:a,inst:e});return}if(!Number.isSafeInteger(a)){a>0?s.issues.push({input:a,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):s.issues.push({input:a,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort});return}}a<o&&s.issues.push({origin:"number",input:a,code:"too_small",minimum:o,inclusive:!0,inst:e,continue:!t.abort}),a>i&&s.issues.push({origin:"number",input:a,code:"too_big",maximum:i,inst:e})}}),oL=se("$ZodCheckMaxLength",(e,t)=>{var n;Dn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!tf(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<o&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const o=r.value;if(o.length<=t.maximum)return;const s=rf(o);r.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),iL=se("$ZodCheckMinLength",(e,t)=>{var n;Dn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!tf(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>o&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const o=r.value;if(o.length>=t.minimum)return;const s=rf(o);r.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),sL=se("$ZodCheckLengthEquals",(e,t)=>{var n;Dn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!tf(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag;o.minimum=t.length,o.maximum=t.length,o.length=t.length}),e._zod.check=r=>{const o=r.value,i=o.length;if(i===t.length)return;const s=rf(o),a=i>t.length;r.issues.push({origin:s,...a?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),zc=se("$ZodCheckStringFormat",(e,t)=>{var n,r;Dn.init(e,t),e._zod.onattach.push(o=>{const i=o._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=o=>{t.pattern.lastIndex=0,!t.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:t.format,input:o.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),aL=se("$ZodCheckRegex",(e,t)=>{zc.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),lL=se("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=eL),zc.init(e,t)}),cL=se("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=tL),zc.init(e,t)}),uL=se("$ZodCheckIncludes",(e,t)=>{Dn.init(e,t);const n=Ai(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(o=>{const i=o._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=o=>{o.value.includes(t.includes,t.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:o.value,inst:e,continue:!t.abort})}}),dL=se("$ZodCheckStartsWith",(e,t)=>{Dn.init(e,t);const n=new RegExp(`^${Ai(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),pL=se("$ZodCheckEndsWith",(e,t)=>{Dn.init(e,t);const n=new RegExp(`.*${Ai(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),fL=se("$ZodCheckOverwrite",(e,t)=>{Dn.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class hL{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(s=>s),o=Math.min(...r.map(s=>s.length-s.trimStart().length)),i=r.map(s=>s.slice(o)).map(s=>" ".repeat(this.indent*2)+s);for(const s of i)this.content.push(s)}compile(){const t=Function,n=this?.args,o=[...(this?.content??[""]).map(i=>`  ${i}`)];return new t(...n,o.join(`
`))}}const mL={major:4,minor:2,patch:1},Xt=se("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=mL;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const o of r)for(const i of o._zod.onattach)i(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const o=(s,a,c)=>{let u=hi(s),d;for(const p of a){if(p._zod.def.when){if(!p._zod.def.when(s))continue}else if(u)continue;const f=s.issues.length,h=p._zod.check(s);if(h instanceof Promise&&c?.async===!1)throw new bi;if(d||h instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await h,s.issues.length!==f&&(u||(u=hi(s,f)))});else{if(s.issues.length===f)continue;u||(u=hi(s,f))}}return d?d.then(()=>s):s},i=(s,a,c)=>{if(hi(s))return s.aborted=!0,s;const u=o(a,r,c);if(u instanceof Promise){if(c.async===!1)throw new bi;return u.then(d=>e._zod.parse(d,c))}return e._zod.parse(u,c)};e._zod.run=(s,a)=>{if(a.skipChecks)return e._zod.parse(s,a);if(a.direction==="backward"){const u=e._zod.parse({value:s.value,issues:[]},{...a,skipChecks:!0});return u instanceof Promise?u.then(d=>i(d,s,a)):i(u,s,a)}const c=e._zod.parse(s,a);if(c instanceof Promise){if(a.async===!1)throw new bi;return c.then(u=>o(u,r,a))}return o(c,r,a)}}e["~standard"]={validate:o=>{try{const i=Sz(e,o);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return xz(e,o).then(s=>s.success?{value:s.data}:{issues:s.error?.issues})}},vendor:"zod",version:1}}),af=se("$ZodString",(e,t)=>{Xt.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Xz(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),Nt=se("$ZodStringFormat",(e,t)=>{zc.init(e,t),af.init(e,t)}),gL=se("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=Nz),Nt.init(e,t)}),vL=se("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=cg(r))}else t.pattern??(t.pattern=cg());Nt.init(e,t)}),yL=se("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=Fz),Nt.init(e,t)}),bL=se("$ZodURL",(e,t)=>{Nt.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),o=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(o.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=o.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),wL=se("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=Wz()),Nt.init(e,t)}),SL=se("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=zz),Nt.init(e,t)}),xL=se("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=Mz),Nt.init(e,t)}),CL=se("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=Oz),Nt.init(e,t)}),kL=se("$ZodULID",(e,t)=>{t.pattern??(t.pattern=Rz),Nt.init(e,t)}),_L=se("$ZodXID",(e,t)=>{t.pattern??(t.pattern=Az),Nt.init(e,t)}),TL=se("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=Dz),Nt.init(e,t)}),IL=se("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=qz(t)),Nt.init(e,t)}),$L=se("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=Kz),Nt.init(e,t)}),EL=se("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=Zz(t)),Nt.init(e,t)}),PL=se("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Lz),Nt.init(e,t)}),ML=se("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=Vz),Nt.init(e,t),e._zod.bag.format="ipv4"}),OL=se("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=Hz),Nt.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),RL=se("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=Uz),Nt.init(e,t)}),AL=se("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=jz),Nt.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[o,i]=r;if(!i)throw new Error;const s=Number(i);if(`${s}`!==i)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${o}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function x0(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const DL=se("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=Yz),Nt.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{x0(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function zL(e){if(!g0.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return x0(n)}const LL=se("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=g0),Nt.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{zL(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),NL=se("$ZodE164",(e,t)=>{t.pattern??(t.pattern=Gz),Nt.init(e,t)});function FL(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const o=JSON.parse(atob(r));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||t&&(!("alg"in o)||o.alg!==t))}catch{return!1}}const BL=se("$ZodJWT",(e,t)=>{Nt.init(e,t),e._zod.check=n=>{FL(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),C0=se("$ZodNumber",(e,t)=>{Xt.init(e,t),e._zod.pattern=e._zod.bag.pattern??Qz,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const o=n.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return n;const i=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:o,inst:e,...i?{received:i}:{}}),n}}),WL=se("$ZodNumberFormat",(e,t)=>{rL.init(e,t),C0.init(e,t)}),VL=se("$ZodUnknown",(e,t)=>{Xt.init(e,t),e._zod.parse=n=>n}),HL=se("$ZodNever",(e,t)=>{Xt.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function ug(e,t,n){e.issues.length&&t.issues.push(...p0(n,e.issues)),t.value[n]=e.value}const UL=se("$ZodArray",(e,t)=>{Xt.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!Array.isArray(o))return n.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),n;n.value=Array(o.length);const i=[];for(let s=0;s<o.length;s++){const a=o[s],c=t.element._zod.run({value:a,issues:[]},r);c instanceof Promise?i.push(c.then(u=>ug(u,n,s))):ug(c,n,s)}return i.length?Promise.all(i).then(()=>n):n}});function Al(e,t,n,r){e.issues.length&&t.issues.push(...p0(n,e.issues)),e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function k0(e){const t=Object.keys(e.shape);for(const r of t)if(!e.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=uz(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function _0(e,t,n,r,o,i){const s=[],a=o.keySet,c=o.catchall._zod,u=c.def.type;for(const d in t){if(a.has(d))continue;if(u==="never"){s.push(d);continue}const p=c.run({value:t[d],issues:[]},r);p instanceof Promise?e.push(p.then(f=>Al(f,n,d,t))):Al(p,n,d,t)}return s.length&&n.issues.push({code:"unrecognized_keys",keys:s,input:t,inst:i}),e.length?Promise.all(e).then(()=>n):n}const jL=se("$ZodObject",(e,t)=>{if(Xt.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const a=t.shape;Object.defineProperty(t,"shape",{get:()=>{const c={...a};return Object.defineProperty(t,"shape",{value:c}),c}})}const r=ef(()=>k0(t));Dt(e._zod,"propValues",()=>{const a=t.shape,c={};for(const u in a){const d=a[u]._zod;if(d.values){c[u]??(c[u]=new Set);for(const p of d.values)c[u].add(p)}}return c});const o=Rl,i=t.catchall;let s;e._zod.parse=(a,c)=>{s??(s=r.value);const u=a.value;if(!o(u))return a.issues.push({expected:"object",code:"invalid_type",input:u,inst:e}),a;a.value={};const d=[],p=s.shape;for(const f of s.keys){const m=p[f]._zod.run({value:u[f],issues:[]},c);m instanceof Promise?d.push(m.then(g=>Al(g,a,f,u))):Al(m,a,f,u)}return i?_0(d,u,a,c,r.value,e):d.length?Promise.all(d).then(()=>a):a}}),YL=se("$ZodObjectJIT",(e,t)=>{jL.init(e,t);const n=e._zod.parse,r=ef(()=>k0(t)),o=f=>{const h=new hL(["shape","payload","ctx"]),m=r.value,g=y=>{const w=lg(y);return`shape[${w}]._zod.run({ value: input[${w}], issues: [] }, ctx)`};h.write("const input = payload.value;");const v=Object.create(null);let b=0;for(const y of m.keys)v[y]=`key_${b++}`;h.write("const newResult = {};");for(const y of m.keys){const w=v[y],k=lg(y);h.write(`const ${w} = ${g(y)};`),h.write(`
        if (${w}.issues.length) {
          payload.issues = payload.issues.concat(${w}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${k}, ...iss.path] : [${k}]
          })));
        }
        
        
        if (${w}.value === undefined) {
          if (${k} in input) {
            newResult[${k}] = undefined;
          }
        } else {
          newResult[${k}] = ${w}.value;
        }
        
      `)}h.write("payload.value = newResult;"),h.write("return payload;");const S=h.compile();return(y,w)=>S(f,y,w)};let i;const s=Rl,a=!l0.jitless,u=a&&lz.value,d=t.catchall;let p;e._zod.parse=(f,h)=>{p??(p=r.value);const m=f.value;return s(m)?a&&u&&h?.async===!1&&h.jitless!==!0?(i||(i=o(t.shape)),f=i(f,h),d?_0([],m,f,h,p,e):f):n(f,h):(f.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),f)}});function dg(e,t,n,r){for(const i of e)if(i.issues.length===0)return t.value=i.value,t;const o=e.filter(i=>!hi(i));return o.length===1?(t.value=o[0].value,o[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(i=>i.issues.map(s=>Lo(s,r,zo())))}),t)}const GL=se("$ZodUnion",(e,t)=>{Xt.init(e,t),Dt(e._zod,"optin",()=>t.options.some(o=>o._zod.optin==="optional")?"optional":void 0),Dt(e._zod,"optout",()=>t.options.some(o=>o._zod.optout==="optional")?"optional":void 0),Dt(e._zod,"values",()=>{if(t.options.every(o=>o._zod.values))return new Set(t.options.flatMap(o=>Array.from(o._zod.values)))}),Dt(e._zod,"pattern",()=>{if(t.options.every(o=>o._zod.pattern)){const o=t.options.map(i=>i._zod.pattern);return new RegExp(`^(${o.map(i=>nf(i.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(o,i)=>{if(n)return r(o,i);let s=!1;const a=[];for(const c of t.options){const u=c._zod.run({value:o.value,issues:[]},i);if(u instanceof Promise)a.push(u),s=!0;else{if(u.issues.length===0)return u;a.push(u)}}return s?Promise.all(a).then(c=>dg(c,o,e,i)):dg(a,o,e,i)}}),KL=se("$ZodIntersection",(e,t)=>{Xt.init(e,t),e._zod.parse=(n,r)=>{const o=n.value,i=t.left._zod.run({value:o,issues:[]},r),s=t.right._zod.run({value:o,issues:[]},r);return i instanceof Promise||s instanceof Promise?Promise.all([i,s]).then(([c,u])=>pg(n,c,u)):pg(n,i,s)}});function _d(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(js(e)&&js(t)){const n=Object.keys(t),r=Object.keys(e).filter(i=>n.indexOf(i)!==-1),o={...e,...t};for(const i of r){const s=_d(e[i],t[i]);if(!s.valid)return{valid:!1,mergeErrorPath:[i,...s.mergeErrorPath]};o[i]=s.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const o=e[r],i=t[r],s=_d(o,i);if(!s.valid)return{valid:!1,mergeErrorPath:[r,...s.mergeErrorPath]};n.push(s.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function pg(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),hi(e))return e;const r=_d(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const ZL=se("$ZodEnum",(e,t)=>{Xt.init(e,t);const n=c0(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(o=>cz.has(typeof o)).map(o=>typeof o=="string"?Ai(o):o.toString()).join("|")})$`),e._zod.parse=(o,i)=>{const s=o.value;return r.has(s)||o.issues.push({code:"invalid_value",values:n,input:s,inst:e}),o}}),qL=se("$ZodLiteral",(e,t)=>{if(Xt.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?Ai(r):r?Ai(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,o)=>{const i=r.value;return n.has(i)||r.issues.push({code:"invalid_value",values:t.values,input:i,inst:e}),r}}),XL=se("$ZodTransform",(e,t)=>{Xt.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new a0(e.constructor.name);const o=t.transform(n.value,n);if(r.async)return(o instanceof Promise?o:Promise.resolve(o)).then(s=>(n.value=s,n));if(o instanceof Promise)throw new bi;return n.value=o,n}});function fg(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const JL=se("$ZodOptional",(e,t)=>{Xt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Dt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Dt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${nf(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>fg(i,n.value)):fg(o,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),QL=se("$ZodNullable",(e,t)=>{Xt.init(e,t),Dt(e._zod,"optin",()=>t.innerType._zod.optin),Dt(e._zod,"optout",()=>t.innerType._zod.optout),Dt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${nf(n.source)}|null)$`):void 0}),Dt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),eN=se("$ZodDefault",(e,t)=>{Xt.init(e,t),e._zod.optin="optional",Dt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>hg(i,t)):hg(o,t)}});function hg(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const tN=se("$ZodPrefault",(e,t)=>{Xt.init(e,t),e._zod.optin="optional",Dt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),nN=se("$ZodNonOptional",(e,t)=>{Xt.init(e,t),Dt(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>mg(i,e)):mg(o,e)}});function mg(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const rN=se("$ZodCatch",(e,t)=>{Xt.init(e,t),Dt(e._zod,"optin",()=>t.innerType._zod.optin),Dt(e._zod,"optout",()=>t.innerType._zod.optout),Dt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(s=>Lo(s,r,zo()))},input:n.value}),n.issues=[]),n)):(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(i=>Lo(i,r,zo()))},input:n.value}),n.issues=[]),n)}}),oN=se("$ZodPipe",(e,t)=>{Xt.init(e,t),Dt(e._zod,"values",()=>t.in._zod.values),Dt(e._zod,"optin",()=>t.in._zod.optin),Dt(e._zod,"optout",()=>t.out._zod.optout),Dt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const i=t.out._zod.run(n,r);return i instanceof Promise?i.then(s=>Va(s,t.in,r)):Va(i,t.in,r)}const o=t.in._zod.run(n,r);return o instanceof Promise?o.then(i=>Va(i,t.out,r)):Va(o,t.out,r)}});function Va(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const iN=se("$ZodReadonly",(e,t)=>{Xt.init(e,t),Dt(e._zod,"propValues",()=>t.innerType._zod.propValues),Dt(e._zod,"values",()=>t.innerType._zod.values),Dt(e._zod,"optin",()=>t.innerType?._zod?.optin),Dt(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(gg):gg(o)}});function gg(e){return e.value=Object.freeze(e.value),e}const sN=se("$ZodCustom",(e,t)=>{Dn.init(e,t),Xt.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,o=t.fn(r);if(o instanceof Promise)return o.then(i=>vg(i,n,r,e));vg(o,n,r,e)}});function vg(e,t,n,r){if(!e){const o={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(o.params=r._zod.def.params),t.issues.push(Ys(o))}}var yg;class aN{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const o={...r,...this._map.get(t)};return Object.keys(o).length?o:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function lN(){return new aN}(yg=globalThis).__zod_globalRegistry??(yg.__zod_globalRegistry=lN());const vs=globalThis.__zod_globalRegistry;function cN(e,t){return new e({type:"string",...tt(t)})}function uN(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...tt(t)})}function bg(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...tt(t)})}function dN(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...tt(t)})}function pN(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...tt(t)})}function fN(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...tt(t)})}function hN(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...tt(t)})}function mN(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...tt(t)})}function gN(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...tt(t)})}function vN(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...tt(t)})}function yN(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...tt(t)})}function bN(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...tt(t)})}function wN(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...tt(t)})}function SN(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...tt(t)})}function xN(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...tt(t)})}function CN(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...tt(t)})}function kN(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...tt(t)})}function _N(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...tt(t)})}function TN(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...tt(t)})}function IN(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...tt(t)})}function $N(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...tt(t)})}function EN(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...tt(t)})}function PN(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...tt(t)})}function MN(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...tt(t)})}function ON(e,t){return new e({type:"string",format:"date",check:"string_format",...tt(t)})}function RN(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...tt(t)})}function AN(e,t){return new e({type:"string",format:"duration",check:"string_format",...tt(t)})}function DN(e,t){return new e({type:"number",checks:[],...tt(t)})}function zN(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...tt(t)})}function LN(e){return new e({type:"unknown"})}function NN(e,t){return new e({type:"never",...tt(t)})}function wg(e,t){return new w0({check:"less_than",...tt(t),value:e,inclusive:!1})}function mu(e,t){return new w0({check:"less_than",...tt(t),value:e,inclusive:!0})}function Sg(e,t){return new S0({check:"greater_than",...tt(t),value:e,inclusive:!1})}function gu(e,t){return new S0({check:"greater_than",...tt(t),value:e,inclusive:!0})}function xg(e,t){return new nL({check:"multiple_of",...tt(t),value:e})}function T0(e,t){return new oL({check:"max_length",...tt(t),maximum:e})}function Dl(e,t){return new iL({check:"min_length",...tt(t),minimum:e})}function I0(e,t){return new sL({check:"length_equals",...tt(t),length:e})}function FN(e,t){return new aL({check:"string_format",format:"regex",...tt(t),pattern:e})}function BN(e){return new lL({check:"string_format",format:"lowercase",...tt(e)})}function WN(e){return new cL({check:"string_format",format:"uppercase",...tt(e)})}function VN(e,t){return new uL({check:"string_format",format:"includes",...tt(t),includes:e})}function HN(e,t){return new dL({check:"string_format",format:"starts_with",...tt(t),prefix:e})}function UN(e,t){return new pL({check:"string_format",format:"ends_with",...tt(t),suffix:e})}function Ui(e){return new fL({check:"overwrite",tx:e})}function jN(e){return Ui(t=>t.normalize(e))}function YN(){return Ui(e=>e.trim())}function GN(){return Ui(e=>e.toLowerCase())}function KN(){return Ui(e=>e.toUpperCase())}function ZN(){return Ui(e=>az(e))}function qN(e,t,n){return new e({type:"array",element:t,...tt(n)})}function XN(e,t,n){return new e({type:"custom",check:"custom",fn:t,...tt(n)})}function JN(e){const t=QN(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Ys(r,n.value,t._zod.def));else{const o=r;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=t),o.continue??(o.continue=!t._zod.def.abort),n.issues.push(Ys(o))}},e(n.value,n)));return t}function QN(e,t){const n=new Dn({check:"custom",...tt(t)});return n._zod.check=e,n}function $0(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??vs,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function gn(e,t,n={path:[],schemaPath:[]}){var r;const o=e._zod.def,i=t.seen.get(e);if(i)return i.count++,n.schemaPath.includes(e)&&(i.cycle=n.path),i.schema;const s={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,s);const a=e._zod.toJSONSchema?.();if(a)s.schema=a;else{const d={...n,schemaPath:[...n.schemaPath,e],path:n.path},p=e._zod.parent;if(p)s.ref=p,gn(p,t,d),t.seen.get(p).isParent=!0;else if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,s.schema,d);else{const f=s.schema,h=t.processors[o.type];if(!h)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${o.type}`);h(e,t,f,d)}}const c=t.metadataRegistry.get(e);return c&&Object.assign(s.schema,c),t.io==="input"&&kn(e)&&(delete s.schema.examples,delete s.schema.default),t.io==="input"&&s.schema._prefault&&((r=s.schema).default??(r.default=s.schema._prefault)),delete s.schema._prefault,t.seen.get(e).schema}function E0(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=i=>{const s=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const d=e.external.registry.get(i[0])?.id,p=e.external.uri??(h=>h);if(d)return{ref:p(d)};const f=i[1].defId??i[1].schema.id??`schema${e.counter++}`;return i[1].defId=f,{defId:f,ref:`${p("__shared")}#/${s}/${f}`}}if(i[1]===n)return{ref:"#"};const c=`#/${s}/`,u=i[1].schema.id??`__schema${e.counter++}`;return{defId:u,ref:c+u}},o=i=>{if(i[1].schema.$ref)return;const s=i[1],{ref:a,defId:c}=r(i);s.def={...s.schema},c&&(s.defId=c);const u=s.schema;for(const d in u)delete u[d];u.$ref=a};if(e.cycles==="throw")for(const i of e.seen.entries()){const s=i[1];if(s.cycle)throw new Error(`Cycle detected: #/${s.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const i of e.seen.entries()){const s=i[1];if(t===i[0]){o(i);continue}if(e.external){const c=e.external.registry.get(i[0])?.id;if(t!==i[0]&&c){o(i);continue}}if(e.metadataRegistry.get(i[0])?.id){o(i);continue}if(s.cycle){o(i);continue}if(s.count>1&&e.reused==="ref"){o(i);continue}}}function P0(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=s=>{const a=e.seen.get(s),c=a.def??a.schema,u={...c};if(a.ref===null)return;const d=a.ref;if(a.ref=null,d){r(d);const p=e.seen.get(d).schema;p.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(c.allOf=c.allOf??[],c.allOf.push(p)):(Object.assign(c,p),Object.assign(c,u))}a.isParent||e.override({zodSchema:s,jsonSchema:c,path:a.path??[]})};for(const s of[...e.seen.entries()].reverse())r(s[0]);const o={};if(e.target==="draft-2020-12"?o.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?o.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?o.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const s=e.external.registry.get(t)?.id;if(!s)throw new Error("Schema is missing an `id` property");o.$id=e.external.uri(s)}Object.assign(o,n.def??n.schema);const i=e.external?.defs??{};for(const s of e.seen.entries()){const a=s[1];a.def&&a.defId&&(i[a.defId]=a.def)}e.external||Object.keys(i).length>0&&(e.target==="draft-2020-12"?o.$defs=i:o.definitions=i);try{const s=JSON.parse(JSON.stringify(o));return Object.defineProperty(s,"~standard",{value:{...t["~standard"],jsonSchema:{input:zl(t,"input"),output:zl(t,"output")}},enumerable:!1,writable:!1}),s}catch{throw new Error("Error converting schema to JSON.")}}function kn(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return kn(r.element,n);if(r.type==="set")return kn(r.valueType,n);if(r.type==="lazy")return kn(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return kn(r.innerType,n);if(r.type==="intersection")return kn(r.left,n)||kn(r.right,n);if(r.type==="record"||r.type==="map")return kn(r.keyType,n)||kn(r.valueType,n);if(r.type==="pipe")return kn(r.in,n)||kn(r.out,n);if(r.type==="object"){for(const o in r.shape)if(kn(r.shape[o],n))return!0;return!1}if(r.type==="union"){for(const o of r.options)if(kn(o,n))return!0;return!1}if(r.type==="tuple"){for(const o of r.items)if(kn(o,n))return!0;return!!(r.rest&&kn(r.rest,n))}return!1}const eF=(e,t={})=>n=>{const r=$0({...n,processors:t});return gn(e,r),E0(r,e),P0(r,e)},zl=(e,t)=>n=>{const{libraryOptions:r,target:o}=n??{},i=$0({...r??{},target:o,io:t,processors:{}});return gn(e,i),E0(i,e),P0(i,e)},tF={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},nF=(e,t,n,r)=>{const o=n;o.type="string";const{minimum:i,maximum:s,format:a,patterns:c,contentEncoding:u}=e._zod.bag;if(typeof i=="number"&&(o.minLength=i),typeof s=="number"&&(o.maxLength=s),a&&(o.format=tF[a]??a,o.format===""&&delete o.format),u&&(o.contentEncoding=u),c&&c.size>0){const d=[...c];d.length===1?o.pattern=d[0].source:d.length>1&&(o.allOf=[...d.map(p=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:p.source}))])}},rF=(e,t,n,r)=>{const o=n,{minimum:i,maximum:s,format:a,multipleOf:c,exclusiveMaximum:u,exclusiveMinimum:d}=e._zod.bag;typeof a=="string"&&a.includes("int")?o.type="integer":o.type="number",typeof d=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(o.minimum=d,o.exclusiveMinimum=!0):o.exclusiveMinimum=d),typeof i=="number"&&(o.minimum=i,typeof d=="number"&&t.target!=="draft-04"&&(d>=i?delete o.minimum:delete o.exclusiveMinimum)),typeof u=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(o.maximum=u,o.exclusiveMaximum=!0):o.exclusiveMaximum=u),typeof s=="number"&&(o.maximum=s,typeof u=="number"&&t.target!=="draft-04"&&(u<=s?delete o.maximum:delete o.exclusiveMaximum)),typeof c=="number"&&(o.multipleOf=c)},oF=(e,t,n,r)=>{n.not={}},iF=(e,t,n,r)=>{},sF=(e,t,n,r)=>{const o=e._zod.def,i=c0(o.entries);i.every(s=>typeof s=="number")&&(n.type="number"),i.every(s=>typeof s=="string")&&(n.type="string"),n.enum=i},aF=(e,t,n,r)=>{const o=e._zod.def,i=[];for(const s of o.values)if(s===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof s=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");i.push(Number(s))}else i.push(s);if(i.length!==0)if(i.length===1){const s=i[0];n.type=s===null?"null":typeof s,t.target==="draft-04"||t.target==="openapi-3.0"?n.enum=[s]:n.const=s}else i.every(s=>typeof s=="number")&&(n.type="number"),i.every(s=>typeof s=="string")&&(n.type="string"),i.every(s=>typeof s=="boolean")&&(n.type="boolean"),i.every(s=>s===null)&&(n.type="null"),n.enum=i},lF=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},cF=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},uF=(e,t,n,r)=>{const o=n,i=e._zod.def,{minimum:s,maximum:a}=e._zod.bag;typeof s=="number"&&(o.minItems=s),typeof a=="number"&&(o.maxItems=a),o.type="array",o.items=gn(i.element,t,{...r,path:[...r.path,"items"]})},dF=(e,t,n,r)=>{const o=n,i=e._zod.def;o.type="object",o.properties={};const s=i.shape;for(const u in s)o.properties[u]=gn(s[u],t,{...r,path:[...r.path,"properties",u]});const a=new Set(Object.keys(s)),c=new Set([...a].filter(u=>{const d=i.shape[u]._zod;return t.io==="input"?d.optin===void 0:d.optout===void 0}));c.size>0&&(o.required=Array.from(c)),i.catchall?._zod.def.type==="never"?o.additionalProperties=!1:i.catchall?i.catchall&&(o.additionalProperties=gn(i.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):t.io==="output"&&(o.additionalProperties=!1)},pF=(e,t,n,r)=>{const o=e._zod.def,i=o.inclusive===!1,s=o.options.map((a,c)=>gn(a,t,{...r,path:[...r.path,i?"oneOf":"anyOf",c]}));i?n.oneOf=s:n.anyOf=s},fF=(e,t,n,r)=>{const o=e._zod.def,i=gn(o.left,t,{...r,path:[...r.path,"allOf",0]}),s=gn(o.right,t,{...r,path:[...r.path,"allOf",1]}),a=u=>"allOf"in u&&Object.keys(u).length===1,c=[...a(i)?i.allOf:[i],...a(s)?s.allOf:[s]];n.allOf=c},hF=(e,t,n,r)=>{const o=e._zod.def,i=gn(o.innerType,t,r),s=t.seen.get(e);t.target==="openapi-3.0"?(s.ref=o.innerType,n.nullable=!0):n.anyOf=[i,{type:"null"}]},mF=(e,t,n,r)=>{const o=e._zod.def;gn(o.innerType,t,r);const i=t.seen.get(e);i.ref=o.innerType},gF=(e,t,n,r)=>{const o=e._zod.def;gn(o.innerType,t,r);const i=t.seen.get(e);i.ref=o.innerType,n.default=JSON.parse(JSON.stringify(o.defaultValue))},vF=(e,t,n,r)=>{const o=e._zod.def;gn(o.innerType,t,r);const i=t.seen.get(e);i.ref=o.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(o.defaultValue)))},yF=(e,t,n,r)=>{const o=e._zod.def;gn(o.innerType,t,r);const i=t.seen.get(e);i.ref=o.innerType;let s;try{s=o.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=s},bF=(e,t,n,r)=>{const o=e._zod.def,i=t.io==="input"?o.in._zod.def.type==="transform"?o.out:o.in:o.out;gn(i,t,r);const s=t.seen.get(e);s.ref=i},wF=(e,t,n,r)=>{const o=e._zod.def;gn(o.innerType,t,r);const i=t.seen.get(e);i.ref=o.innerType,n.readOnly=!0},SF=(e,t,n,r)=>{const o=e._zod.def;gn(o.innerType,t,r);const i=t.seen.get(e);i.ref=o.innerType},xF=se("ZodISODateTime",(e,t)=>{IL.init(e,t),Bt.init(e,t)});function CF(e){return MN(xF,e)}const kF=se("ZodISODate",(e,t)=>{$L.init(e,t),Bt.init(e,t)});function _F(e){return ON(kF,e)}const TF=se("ZodISOTime",(e,t)=>{EL.init(e,t),Bt.init(e,t)});function IF(e){return RN(TF,e)}const $F=se("ZodISODuration",(e,t)=>{PL.init(e,t),Bt.init(e,t)});function EF(e){return AN($F,e)}const PF=(e,t)=>{h0.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>wz(e,n)},flatten:{value:n=>bz(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,kd,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,kd,2)}},isEmpty:{get(){return e.issues.length===0}}})},sr=se("ZodError",PF,{Parent:Error}),MF=of(sr),OF=sf(sr),RF=Ac(sr),AF=Dc(sr),DF=Cz(sr),zF=kz(sr),LF=_z(sr),NF=Tz(sr),FF=Iz(sr),BF=$z(sr),WF=Ez(sr),VF=Pz(sr),tn=se("ZodType",(e,t)=>(Xt.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:zl(e,"input"),output:zl(e,"output")}}),e.toJSONSchema=eF(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(Ho(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),e.clone=(n,r)=>mo(e,n,r),e.brand=()=>e,e.register=((n,r)=>(n.add(e,r),e)),e.parse=(n,r)=>MF(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>RF(e,n,r),e.parseAsync=async(n,r)=>OF(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>AF(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>DF(e,n,r),e.decode=(n,r)=>zF(e,n,r),e.encodeAsync=async(n,r)=>LF(e,n,r),e.decodeAsync=async(n,r)=>NF(e,n,r),e.safeEncode=(n,r)=>FF(e,n,r),e.safeDecode=(n,r)=>BF(e,n,r),e.safeEncodeAsync=async(n,r)=>WF(e,n,r),e.safeDecodeAsync=async(n,r)=>VF(e,n,r),e.refine=(n,r)=>e.check(RB(n,r)),e.superRefine=n=>e.check(AB(n)),e.overwrite=n=>e.check(Ui(n)),e.optional=()=>Tg(e),e.nullable=()=>Ig(e),e.nullish=()=>Tg(Ig(e)),e.nonoptional=n=>TB(e,n),e.array=()=>Po(e),e.or=n=>hB([e,n]),e.and=n=>gB(e,n),e.transform=n=>$g(e,wB(n)),e.default=n=>CB(e,n),e.prefault=n=>_B(e,n),e.catch=n=>$B(e,n),e.pipe=n=>$g(e,n),e.readonly=()=>MB(e),e.describe=n=>{const r=e.clone();return vs.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){return vs.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return vs.get(e);const r=e.clone();return vs.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),M0=se("_ZodString",(e,t)=>{af.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(r,o,i)=>nF(e,r,o);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(FN(...r)),e.includes=(...r)=>e.check(VN(...r)),e.startsWith=(...r)=>e.check(HN(...r)),e.endsWith=(...r)=>e.check(UN(...r)),e.min=(...r)=>e.check(Dl(...r)),e.max=(...r)=>e.check(T0(...r)),e.length=(...r)=>e.check(I0(...r)),e.nonempty=(...r)=>e.check(Dl(1,...r)),e.lowercase=r=>e.check(BN(r)),e.uppercase=r=>e.check(WN(r)),e.trim=()=>e.check(YN()),e.normalize=(...r)=>e.check(jN(...r)),e.toLowerCase=()=>e.check(GN()),e.toUpperCase=()=>e.check(KN()),e.slugify=()=>e.check(ZN())}),HF=se("ZodString",(e,t)=>{af.init(e,t),M0.init(e,t),e.email=n=>e.check(uN(UF,n)),e.url=n=>e.check(mN(jF,n)),e.jwt=n=>e.check(PN(sB,n)),e.emoji=n=>e.check(gN(YF,n)),e.guid=n=>e.check(bg(Cg,n)),e.uuid=n=>e.check(dN(Ha,n)),e.uuidv4=n=>e.check(pN(Ha,n)),e.uuidv6=n=>e.check(fN(Ha,n)),e.uuidv7=n=>e.check(hN(Ha,n)),e.nanoid=n=>e.check(vN(GF,n)),e.guid=n=>e.check(bg(Cg,n)),e.cuid=n=>e.check(yN(KF,n)),e.cuid2=n=>e.check(bN(ZF,n)),e.ulid=n=>e.check(wN(qF,n)),e.base64=n=>e.check(IN(rB,n)),e.base64url=n=>e.check($N(oB,n)),e.xid=n=>e.check(SN(XF,n)),e.ksuid=n=>e.check(xN(JF,n)),e.ipv4=n=>e.check(CN(QF,n)),e.ipv6=n=>e.check(kN(eB,n)),e.cidrv4=n=>e.check(_N(tB,n)),e.cidrv6=n=>e.check(TN(nB,n)),e.e164=n=>e.check(EN(iB,n)),e.datetime=n=>e.check(CF(n)),e.date=n=>e.check(_F(n)),e.time=n=>e.check(IF(n)),e.duration=n=>e.check(EF(n))});function eo(e){return cN(HF,e)}const Bt=se("ZodStringFormat",(e,t)=>{Nt.init(e,t),M0.init(e,t)}),UF=se("ZodEmail",(e,t)=>{yL.init(e,t),Bt.init(e,t)}),Cg=se("ZodGUID",(e,t)=>{gL.init(e,t),Bt.init(e,t)}),Ha=se("ZodUUID",(e,t)=>{vL.init(e,t),Bt.init(e,t)}),jF=se("ZodURL",(e,t)=>{bL.init(e,t),Bt.init(e,t)}),YF=se("ZodEmoji",(e,t)=>{wL.init(e,t),Bt.init(e,t)}),GF=se("ZodNanoID",(e,t)=>{SL.init(e,t),Bt.init(e,t)}),KF=se("ZodCUID",(e,t)=>{xL.init(e,t),Bt.init(e,t)}),ZF=se("ZodCUID2",(e,t)=>{CL.init(e,t),Bt.init(e,t)}),qF=se("ZodULID",(e,t)=>{kL.init(e,t),Bt.init(e,t)}),XF=se("ZodXID",(e,t)=>{_L.init(e,t),Bt.init(e,t)}),JF=se("ZodKSUID",(e,t)=>{TL.init(e,t),Bt.init(e,t)}),QF=se("ZodIPv4",(e,t)=>{ML.init(e,t),Bt.init(e,t)}),eB=se("ZodIPv6",(e,t)=>{OL.init(e,t),Bt.init(e,t)}),tB=se("ZodCIDRv4",(e,t)=>{RL.init(e,t),Bt.init(e,t)}),nB=se("ZodCIDRv6",(e,t)=>{AL.init(e,t),Bt.init(e,t)}),rB=se("ZodBase64",(e,t)=>{DL.init(e,t),Bt.init(e,t)}),oB=se("ZodBase64URL",(e,t)=>{LL.init(e,t),Bt.init(e,t)}),iB=se("ZodE164",(e,t)=>{NL.init(e,t),Bt.init(e,t)}),sB=se("ZodJWT",(e,t)=>{BL.init(e,t),Bt.init(e,t)}),O0=se("ZodNumber",(e,t)=>{C0.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(r,o,i)=>rF(e,r,o),e.gt=(r,o)=>e.check(Sg(r,o)),e.gte=(r,o)=>e.check(gu(r,o)),e.min=(r,o)=>e.check(gu(r,o)),e.lt=(r,o)=>e.check(wg(r,o)),e.lte=(r,o)=>e.check(mu(r,o)),e.max=(r,o)=>e.check(mu(r,o)),e.int=r=>e.check(kg(r)),e.safe=r=>e.check(kg(r)),e.positive=r=>e.check(Sg(0,r)),e.nonnegative=r=>e.check(gu(0,r)),e.negative=r=>e.check(wg(0,r)),e.nonpositive=r=>e.check(mu(0,r)),e.multipleOf=(r,o)=>e.check(xg(r,o)),e.step=(r,o)=>e.check(xg(r,o)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function Ll(e){return DN(O0,e)}const aB=se("ZodNumberFormat",(e,t)=>{WL.init(e,t),O0.init(e,t)});function kg(e){return zN(aB,e)}const lB=se("ZodUnknown",(e,t)=>{VL.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,o)=>iF()});function _g(){return LN(lB)}const cB=se("ZodNever",(e,t)=>{HL.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,o)=>oF(e,n,r)});function uB(e){return NN(cB,e)}const dB=se("ZodArray",(e,t)=>{UL.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,o)=>uF(e,n,r,o),e.element=t.element,e.min=(n,r)=>e.check(Dl(n,r)),e.nonempty=n=>e.check(Dl(1,n)),e.max=(n,r)=>e.check(T0(n,r)),e.length=(n,r)=>e.check(I0(n,r)),e.unwrap=()=>e.element});function Po(e,t){return qN(dB,e,t)}const pB=se("ZodObject",(e,t)=>{YL.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,o)=>dF(e,n,r,o),Dt(e,"shape",()=>t.shape),e.keyof=()=>Lc(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:_g()}),e.loose=()=>e.clone({...e._zod.def,catchall:_g()}),e.strict=()=>e.clone({...e._zod.def,catchall:uB()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>hz(e,n),e.safeExtend=n=>mz(e,n),e.merge=n=>gz(e,n),e.pick=n=>pz(e,n),e.omit=n=>fz(e,n),e.partial=(...n)=>vz(R0,e,n[0]),e.required=(...n)=>yz(A0,e,n[0])});function Gs(e,t){const n={type:"object",shape:e??{},...tt(t)};return new pB(n)}const fB=se("ZodUnion",(e,t)=>{GL.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,o)=>pF(e,n,r,o),e.options=t.options});function hB(e,t){return new fB({type:"union",options:e,...tt(t)})}const mB=se("ZodIntersection",(e,t)=>{KL.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,o)=>fF(e,n,r,o)});function gB(e,t){return new mB({type:"intersection",left:e,right:t})}const Td=se("ZodEnum",(e,t)=>{ZL.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(r,o,i)=>sF(e,r,o),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,o)=>{const i={};for(const s of r)if(n.has(s))i[s]=t.entries[s];else throw new Error(`Key ${s} not found in enum`);return new Td({...t,checks:[],...tt(o),entries:i})},e.exclude=(r,o)=>{const i={...t.entries};for(const s of r)if(n.has(s))delete i[s];else throw new Error(`Key ${s} not found in enum`);return new Td({...t,checks:[],...tt(o),entries:i})}});function Lc(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new Td({type:"enum",entries:n,...tt(t)})}const vB=se("ZodLiteral",(e,t)=>{qL.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,o)=>aF(e,n,r),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function yB(e,t){return new vB({type:"literal",values:Array.isArray(e)?e:[e],...tt(t)})}const bB=se("ZodTransform",(e,t)=>{XL.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,o)=>cF(e,n),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new a0(e.constructor.name);n.addIssue=i=>{if(typeof i=="string")n.issues.push(Ys(i,n.value,t));else{const s=i;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=e),n.issues.push(Ys(s))}};const o=t.transform(n.value,n);return o instanceof Promise?o.then(i=>(n.value=i,n)):(n.value=o,n)}});function wB(e){return new bB({type:"transform",transform:e})}const R0=se("ZodOptional",(e,t)=>{JL.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,o)=>SF(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function Tg(e){return new R0({type:"optional",innerType:e})}const SB=se("ZodNullable",(e,t)=>{QL.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,o)=>hF(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function Ig(e){return new SB({type:"nullable",innerType:e})}const xB=se("ZodDefault",(e,t)=>{eN.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,o)=>gF(e,n,r,o),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function CB(e,t){return new xB({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():d0(t)}})}const kB=se("ZodPrefault",(e,t)=>{tN.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,o)=>vF(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function _B(e,t){return new kB({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():d0(t)}})}const A0=se("ZodNonOptional",(e,t)=>{nN.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,o)=>mF(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function TB(e,t){return new A0({type:"nonoptional",innerType:e,...tt(t)})}const IB=se("ZodCatch",(e,t)=>{rN.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,o)=>yF(e,n,r,o),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function $B(e,t){return new IB({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const EB=se("ZodPipe",(e,t)=>{oN.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,o)=>bF(e,n,r,o),e.in=t.in,e.out=t.out});function $g(e,t){return new EB({type:"pipe",in:e,out:t})}const PB=se("ZodReadonly",(e,t)=>{iN.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,o)=>wF(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function MB(e){return new PB({type:"readonly",innerType:e})}const OB=se("ZodCustom",(e,t)=>{sN.init(e,t),tn.init(e,t),e._zod.processJSONSchema=(n,r,o)=>lF(e,n)});function RB(e,t={}){return XN(OB,e,t)}function AB(e){return JN(e)}const DB=Lc(["markdown","plain","html"]),zB=Gs({id:eo(),role:Lc(["user","assistant","system"]),content:eo(),contentType:DB.optional(),created:Ll(),meta:Gs({referencedItemIds:Po(eo()).optional(),model:eo().optional(),retrievalCount:Ll().optional()}).optional()}),LB=Gs({themePaths:Po(eo()).optional(),types:Po(Lc(["task","block"])).optional(),blockTemplateIds:Po(eo()).optional()}),NB=Gs({id:eo(),title:eo(),created:Ll(),modified:Ll(),filters:LB.optional(),messages:Po(zB)}),FB=Gs({version:yB(1),sessions:Po(NB)}),Eg="think-ai-chat-sessions",Pg=50;function Mg(){return`${Date.now()}-${Math.random().toString(36).slice(2,9)}`}class BB{data;listeners=new Set;constructor(){this.data=this.loadFromStorage()}loadFromStorage(){try{const t=localStorage.getItem(Eg);if(!t)return{version:1,sessions:[]};const n=JSON.parse(t),r=FB.safeParse(n);return r.success?r.data:(console.warn("ChatSessionStore: æ•°æ®æ ¡éªŒå¤±è´¥ï¼Œé‡ç½®ä¸ºç©º",r.error),{version:1,sessions:[]})}catch(t){return console.warn("ChatSessionStore: åŠ è½½å­˜å‚¨å¤±è´¥",t),{version:1,sessions:[]}}}saveToStorage(){try{localStorage.setItem(Eg,JSON.stringify(this.data))}catch(t){console.error("ChatSessionStore: ä¿å­˜å¤±è´¥",t)}}notify(){this.listeners.forEach(t=>{try{t()}catch(n){console.error("ChatSessionStore: é€šçŸ¥å¤±è´¥",n)}})}subscribe(t){return this.listeners.add(t),()=>this.listeners.delete(t)}listSessions(){return[...this.data.sessions].sort((t,n)=>n.modified-t.modified)}getRecentSessions(t=10){return this.listSessions().slice(0,t)}getSession(t){return this.data.sessions.find(n=>n.id===t)}createSession(t,n){const r=Date.now(),o={id:Mg(),title:t||`å¯¹è¯ ${new Date().toLocaleString("zh-CN")}`,created:r,modified:r,filters:n,messages:[]};return this.data.sessions.unshift(o),this.data.sessions.length>Pg&&(this.data.sessions=this.data.sessions.slice(0,Pg)),this.saveToStorage(),this.notify(),o}appendMessage(t,n,r,o,i){const s=this.data.sessions.find(u=>u.id===t);if(!s)return console.warn("ChatSessionStore: ä¼šè¯ä¸å­˜åœ¨",t),null;const a=i??(n==="user"?"plain":"markdown"),c={id:Mg(),role:n,content:r,contentType:a,created:Date.now(),meta:o};return s.messages.push(c),s.modified=Date.now(),n==="user"&&s.messages.filter(u=>u.role==="user").length===1&&(s.title=r.slice(0,30)+(r.length>30?"...":"")),this.saveToStorage(),this.notify(),c}updateSession(t,n){const r=this.data.sessions.find(o=>o.id===t);return r?(n.title!==void 0&&(r.title=n.title),n.filters!==void 0&&(r.filters=n.filters),r.modified=Date.now(),this.saveToStorage(),this.notify(),!0):!1}deleteSession(t){const n=this.data.sessions.findIndex(r=>r.id===t);return n===-1?!1:(this.data.sessions.splice(n,1),this.saveToStorage(),this.notify(),!0)}clearAllSessions(){this.data.sessions=[],this.saveToStorage(),this.notify()}getMessages(t){return this.getSession(t)?.messages??[]}}let vu=null;function WB(){return vu||(vu=new BB),vu}const VB="ENTRIES",D0="KEYS",z0="VALUES",hn="";class yu{constructor(t,n){const r=t._tree,o=Array.from(r.keys());this.set=t,this._type=n,this._path=o.length>0?[{node:r,keys:o}]:[]}next(){const t=this.dive();return this.backtrack(),t}dive(){if(this._path.length===0)return{done:!0,value:void 0};const{node:t,keys:n}=ei(this._path);if(ei(n)===hn)return{done:!1,value:this.result()};const r=t.get(ei(n));return this._path.push({node:r,keys:Array.from(r.keys())}),this.dive()}backtrack(){if(this._path.length===0)return;const t=ei(this._path).keys;t.pop(),!(t.length>0)&&(this._path.pop(),this.backtrack())}key(){return this.set._prefix+this._path.map(({keys:t})=>ei(t)).filter(t=>t!==hn).join("")}value(){return ei(this._path).node.get(hn)}result(){switch(this._type){case z0:return this.value();case D0:return this.key();default:return[this.key(),this.value()]}}[Symbol.iterator](){return this}}const ei=e=>e[e.length-1],HB=(e,t,n)=>{const r=new Map;if(t===void 0)return r;const o=t.length+1,i=o+n,s=new Uint8Array(i*o).fill(n+1);for(let a=0;a<o;++a)s[a]=a;for(let a=1;a<i;++a)s[a*o]=a;return L0(e,t,n,r,s,1,o,""),r},L0=(e,t,n,r,o,i,s,a)=>{const c=i*s;e:for(const u of e.keys())if(u===hn){const d=o[c-1];d<=n&&r.set(a,[e.get(u),d])}else{let d=i;for(let p=0;p<u.length;++p,++d){const f=u[p],h=s*d,m=h-s;let g=o[h];const v=Math.max(0,d-n-1),b=Math.min(s-1,d+n);for(let S=v;S<b;++S){const y=f!==t[S],w=o[m+S]+ +y,k=o[m+S+1]+1,C=o[h+S]+1,T=o[h+S+1]=Math.min(w,k,C);T<g&&(g=T)}if(g>n)continue e}L0(e.get(u),t,n,r,o,d,s,a+u)}};class to{constructor(t=new Map,n=""){this._size=void 0,this._tree=t,this._prefix=n}atPrefix(t){if(!t.startsWith(this._prefix))throw new Error("Mismatched prefix");const[n,r]=Nl(this._tree,t.slice(this._prefix.length));if(n===void 0){const[o,i]=lf(r);for(const s of o.keys())if(s!==hn&&s.startsWith(i)){const a=new Map;return a.set(s.slice(i.length),o.get(s)),new to(a,t)}}return new to(n,t)}clear(){this._size=void 0,this._tree.clear()}delete(t){return this._size=void 0,UB(this._tree,t)}entries(){return new yu(this,VB)}forEach(t){for(const[n,r]of this)t(n,r,this)}fuzzyGet(t,n){return HB(this._tree,t,n)}get(t){const n=Id(this._tree,t);return n!==void 0?n.get(hn):void 0}has(t){const n=Id(this._tree,t);return n!==void 0&&n.has(hn)}keys(){return new yu(this,D0)}set(t,n){if(typeof t!="string")throw new Error("key must be a string");return this._size=void 0,bu(this._tree,t).set(hn,n),this}get size(){if(this._size)return this._size;this._size=0;const t=this.entries();for(;!t.next().done;)this._size+=1;return this._size}update(t,n){if(typeof t!="string")throw new Error("key must be a string");this._size=void 0;const r=bu(this._tree,t);return r.set(hn,n(r.get(hn))),this}fetch(t,n){if(typeof t!="string")throw new Error("key must be a string");this._size=void 0;const r=bu(this._tree,t);let o=r.get(hn);return o===void 0&&r.set(hn,o=n()),o}values(){return new yu(this,z0)}[Symbol.iterator](){return this.entries()}static from(t){const n=new to;for(const[r,o]of t)n.set(r,o);return n}static fromObject(t){return to.from(Object.entries(t))}}const Nl=(e,t,n=[])=>{if(t.length===0||e==null)return[e,n];for(const r of e.keys())if(r!==hn&&t.startsWith(r))return n.push([e,r]),Nl(e.get(r),t.slice(r.length),n);return n.push([e,t]),Nl(void 0,"",n)},Id=(e,t)=>{if(t.length===0||e==null)return e;for(const n of e.keys())if(n!==hn&&t.startsWith(n))return Id(e.get(n),t.slice(n.length))},bu=(e,t)=>{const n=t.length;e:for(let r=0;e&&r<n;){for(const i of e.keys())if(i!==hn&&t[r]===i[0]){const s=Math.min(n-r,i.length);let a=1;for(;a<s&&t[r+a]===i[a];)++a;const c=e.get(i);if(a===i.length)e=c;else{const u=new Map;u.set(i.slice(a),c),e.set(t.slice(r,r+a),u),e.delete(i),e=u}r+=a;continue e}const o=new Map;return e.set(t.slice(r),o),o}return e},UB=(e,t)=>{const[n,r]=Nl(e,t);if(n!==void 0){if(n.delete(hn),n.size===0)N0(r);else if(n.size===1){const[o,i]=n.entries().next().value;F0(r,o,i)}}},N0=e=>{if(e.length===0)return;const[t,n]=lf(e);if(t.delete(n),t.size===0)N0(e.slice(0,-1));else if(t.size===1){const[r,o]=t.entries().next().value;r!==hn&&F0(e.slice(0,-1),r,o)}},F0=(e,t,n)=>{if(e.length===0)return;const[r,o]=lf(e);r.set(o+t,n),r.delete(o)},lf=e=>e[e.length-1],cf="or",B0="and",jB="and_not";class wi{constructor(t){if(t?.fields==null)throw new Error('MiniSearch: option "fields" must be provided');const n=t.autoVacuum==null||t.autoVacuum===!0?xu:t.autoVacuum;this._options={...Su,...t,autoVacuum:n,searchOptions:{...Og,...t.searchOptions||{}},autoSuggestOptions:{...qB,...t.autoSuggestOptions||{}}},this._index=new to,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=Ed,this.addFields(this._options.fields)}add(t){const{extractField:n,stringifyField:r,tokenize:o,processTerm:i,fields:s,idField:a}=this._options,c=n(t,a);if(c==null)throw new Error(`MiniSearch: document does not have ID field "${a}"`);if(this._idToShortId.has(c))throw new Error(`MiniSearch: duplicate ID ${c}`);const u=this.addDocumentId(c);this.saveStoredFields(u,t);for(const d of s){const p=n(t,d);if(p==null)continue;const f=o(r(p,d),d),h=this._fieldIds[d],m=new Set(f).size;this.addFieldLength(u,h,this._documentCount-1,m);for(const g of f){const v=i(g,d);if(Array.isArray(v))for(const b of v)this.addTerm(h,u,b);else v&&this.addTerm(h,u,v)}}}addAll(t){for(const n of t)this.add(n)}addAllAsync(t,n={}){const{chunkSize:r=10}=n,o={chunk:[],promise:Promise.resolve()},{chunk:i,promise:s}=t.reduce(({chunk:a,promise:c},u,d)=>(a.push(u),(d+1)%r===0?{chunk:[],promise:c.then(()=>new Promise(p=>setTimeout(p,0))).then(()=>this.addAll(a))}:{chunk:a,promise:c}),o);return s.then(()=>this.addAll(i))}remove(t){const{tokenize:n,processTerm:r,extractField:o,stringifyField:i,fields:s,idField:a}=this._options,c=o(t,a);if(c==null)throw new Error(`MiniSearch: document does not have ID field "${a}"`);const u=this._idToShortId.get(c);if(u==null)throw new Error(`MiniSearch: cannot remove document with ID ${c}: it is not in the index`);for(const d of s){const p=o(t,d);if(p==null)continue;const f=n(i(p,d),d),h=this._fieldIds[d],m=new Set(f).size;this.removeFieldLength(u,h,this._documentCount,m);for(const g of f){const v=r(g,d);if(Array.isArray(v))for(const b of v)this.removeTerm(h,u,b);else v&&this.removeTerm(h,u,v)}}this._storedFields.delete(u),this._documentIds.delete(u),this._idToShortId.delete(c),this._fieldLength.delete(u),this._documentCount-=1}removeAll(t){if(t)for(const n of t)this.remove(n);else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new to,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}}discard(t){const n=this._idToShortId.get(t);if(n==null)throw new Error(`MiniSearch: cannot discard document with ID ${t}: it is not in the index`);this._idToShortId.delete(t),this._documentIds.delete(n),this._storedFields.delete(n),(this._fieldLength.get(n)||[]).forEach((r,o)=>{this.removeFieldLength(n,o,this._documentCount,r)}),this._fieldLength.delete(n),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()}maybeAutoVacuum(){if(this._options.autoVacuum===!1)return;const{minDirtFactor:t,minDirtCount:n,batchSize:r,batchWait:o}=this._options.autoVacuum;this.conditionalVacuum({batchSize:r,batchWait:o},{minDirtCount:n,minDirtFactor:t})}discardAll(t){const n=this._options.autoVacuum;try{this._options.autoVacuum=!1;for(const r of t)this.discard(r)}finally{this._options.autoVacuum=n}this.maybeAutoVacuum()}replace(t){const{idField:n,extractField:r}=this._options,o=r(t,n);this.discard(o),this.add(t)}vacuum(t={}){return this.conditionalVacuum(t)}conditionalVacuum(t,n){return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&n,this._enqueuedVacuum!=null?this._enqueuedVacuum:(this._enqueuedVacuum=this._currentVacuum.then(()=>{const r=this._enqueuedVacuumConditions;return this._enqueuedVacuumConditions=Ed,this.performVacuuming(t,r)}),this._enqueuedVacuum)):this.vacuumConditionsMet(n)===!1?Promise.resolve():(this._currentVacuum=this.performVacuuming(t),this._currentVacuum)}async performVacuuming(t,n){const r=this._dirtCount;if(this.vacuumConditionsMet(n)){const o=t.batchSize||$d.batchSize,i=t.batchWait||$d.batchWait;let s=1;for(const[a,c]of this._index){for(const[u,d]of c)for(const[p]of d)this._documentIds.has(p)||(d.size<=1?c.delete(u):d.delete(p));this._index.get(a).size===0&&this._index.delete(a),s%o===0&&await new Promise(u=>setTimeout(u,i)),s+=1}this._dirtCount-=r}await null,this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null}vacuumConditionsMet(t){if(t==null)return!0;let{minDirtCount:n,minDirtFactor:r}=t;return n=n||xu.minDirtCount,r=r||xu.minDirtFactor,this.dirtCount>=n&&this.dirtFactor>=r}get isVacuuming(){return this._currentVacuum!=null}get dirtCount(){return this._dirtCount}get dirtFactor(){return this._dirtCount/(1+this._documentCount+this._dirtCount)}has(t){return this._idToShortId.has(t)}getStoredFields(t){const n=this._idToShortId.get(t);if(n!=null)return this._storedFields.get(n)}search(t,n={}){const{searchOptions:r}=this._options,o={...r,...n},i=this.executeQuery(t,n),s=[];for(const[a,{score:c,terms:u,match:d}]of i){const p=u.length||1,f={id:this._documentIds.get(a),score:c*p,terms:Object.keys(d),queryTerms:u,match:d};Object.assign(f,this._storedFields.get(a)),(o.filter==null||o.filter(f))&&s.push(f)}return t===wi.wildcard&&o.boostDocument==null||s.sort(Ag),s}autoSuggest(t,n={}){n={...this._options.autoSuggestOptions,...n};const r=new Map;for(const{score:i,terms:s}of this.search(t,n)){const a=s.join(" "),c=r.get(a);c!=null?(c.score+=i,c.count+=1):r.set(a,{score:i,terms:s,count:1})}const o=[];for(const[i,{score:s,terms:a,count:c}]of r)o.push({suggestion:i,terms:a,score:s/c});return o.sort(Ag),o}get documentCount(){return this._documentCount}get termCount(){return this._index.size}static loadJSON(t,n){if(n==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(t),n)}static async loadJSONAsync(t,n){if(n==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJSAsync(JSON.parse(t),n)}static getDefault(t){if(Su.hasOwnProperty(t))return wu(Su,t);throw new Error(`MiniSearch: unknown option "${t}"`)}static loadJS(t,n){const{index:r,documentIds:o,fieldLength:i,storedFields:s,serializationVersion:a}=t,c=this.instantiateMiniSearch(t,n);c._documentIds=Ua(o),c._fieldLength=Ua(i),c._storedFields=Ua(s);for(const[u,d]of c._documentIds)c._idToShortId.set(d,u);for(const[u,d]of r){const p=new Map;for(const f of Object.keys(d)){let h=d[f];a===1&&(h=h.ds),p.set(parseInt(f,10),Ua(h))}c._index.set(u,p)}return c}static async loadJSAsync(t,n){const{index:r,documentIds:o,fieldLength:i,storedFields:s,serializationVersion:a}=t,c=this.instantiateMiniSearch(t,n);c._documentIds=await ja(o),c._fieldLength=await ja(i),c._storedFields=await ja(s);for(const[d,p]of c._documentIds)c._idToShortId.set(p,d);let u=0;for(const[d,p]of r){const f=new Map;for(const h of Object.keys(p)){let m=p[h];a===1&&(m=m.ds),f.set(parseInt(h,10),await ja(m))}++u%1e3===0&&await W0(0),c._index.set(d,f)}return c}static instantiateMiniSearch(t,n){const{documentCount:r,nextId:o,fieldIds:i,averageFieldLength:s,dirtCount:a,serializationVersion:c}=t;if(c!==1&&c!==2)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");const u=new wi(n);return u._documentCount=r,u._nextId=o,u._idToShortId=new Map,u._fieldIds=i,u._avgFieldLength=s,u._dirtCount=a||0,u._index=new to,u}executeQuery(t,n={}){if(t===wi.wildcard)return this.executeWildcardQuery(n);if(typeof t!="string"){const f={...n,...t,queries:void 0},h=t.queries.map(m=>this.executeQuery(m,f));return this.combineResults(h,f.combineWith)}const{tokenize:r,processTerm:o,searchOptions:i}=this._options,s={tokenize:r,processTerm:o,...i,...n},{tokenize:a,processTerm:c}=s,p=a(t).flatMap(f=>c(f)).filter(f=>!!f).map(ZB(s)).map(f=>this.executeQuerySpec(f,s));return this.combineResults(p,s.combineWith)}executeQuerySpec(t,n){const r={...this._options.searchOptions,...n},o=(r.fields||this._options.fields).reduce((g,v)=>({...g,[v]:wu(r.boost,v)||1}),{}),{boostDocument:i,weights:s,maxFuzzy:a,bm25:c}=r,{fuzzy:u,prefix:d}={...Og.weights,...s},p=this._index.get(t.term),f=this.termResults(t.term,t.term,1,t.termBoost,p,o,i,c);let h,m;if(t.prefix&&(h=this._index.atPrefix(t.term)),t.fuzzy){const g=t.fuzzy===!0?.2:t.fuzzy,v=g<1?Math.min(a,Math.round(t.term.length*g)):g;v&&(m=this._index.fuzzyGet(t.term,v))}if(h)for(const[g,v]of h){const b=g.length-t.term.length;if(!b)continue;m?.delete(g);const S=d*g.length/(g.length+.3*b);this.termResults(t.term,g,S,t.termBoost,v,o,i,c,f)}if(m)for(const g of m.keys()){const[v,b]=m.get(g);if(!b)continue;const S=u*g.length/(g.length+b);this.termResults(t.term,g,S,t.termBoost,v,o,i,c,f)}return f}executeWildcardQuery(t){const n=new Map,r={...this._options.searchOptions,...t};for(const[o,i]of this._documentIds){const s=r.boostDocument?r.boostDocument(i,"",this._storedFields.get(o)):1;n.set(o,{score:s,terms:[],match:{}})}return n}combineResults(t,n=cf){if(t.length===0)return new Map;const r=n.toLowerCase(),o=YB[r];if(!o)throw new Error(`Invalid combination operator: ${n}`);return t.reduce(o)||new Map}toJSON(){const t=[];for(const[n,r]of this._index){const o={};for(const[i,s]of r)o[i]=Object.fromEntries(s);t.push([n,o])}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:t,serializationVersion:2}}termResults(t,n,r,o,i,s,a,c,u=new Map){if(i==null)return u;for(const d of Object.keys(s)){const p=s[d],f=this._fieldIds[d],h=i.get(f);if(h==null)continue;let m=h.size;const g=this._avgFieldLength[f];for(const v of h.keys()){if(!this._documentIds.has(v)){this.removeTerm(f,v,n),m-=1;continue}const b=a?a(this._documentIds.get(v),n,this._storedFields.get(v)):1;if(!b)continue;const S=h.get(v),y=this._fieldLength.get(v)[f],w=KB(S,m,this._documentCount,y,g,c),k=r*o*p*b*w,C=u.get(v);if(C){C.score+=k,XB(C.terms,t);const T=wu(C.match,n);T?T.push(d):C.match[n]=[d]}else u.set(v,{score:k,terms:[t],match:{[n]:[d]}})}}return u}addTerm(t,n,r){const o=this._index.fetch(r,Dg);let i=o.get(t);if(i==null)i=new Map,i.set(n,1),o.set(t,i);else{const s=i.get(n);i.set(n,(s||0)+1)}}removeTerm(t,n,r){if(!this._index.has(r)){this.warnDocumentChanged(n,t,r);return}const o=this._index.fetch(r,Dg),i=o.get(t);i==null||i.get(n)==null?this.warnDocumentChanged(n,t,r):i.get(n)<=1?i.size<=1?o.delete(t):i.delete(n):i.set(n,i.get(n)-1),this._index.get(r).size===0&&this._index.delete(r)}warnDocumentChanged(t,n,r){for(const o of Object.keys(this._fieldIds))if(this._fieldIds[o]===n){this._options.logger("warn",`MiniSearch: document with ID ${this._documentIds.get(t)} has changed before removal: term "${r}" was not present in field "${o}". Removing a document after it has changed can corrupt the index!`,"version_conflict");return}}addDocumentId(t){const n=this._nextId;return this._idToShortId.set(t,n),this._documentIds.set(n,t),this._documentCount+=1,this._nextId+=1,n}addFields(t){for(let n=0;n<t.length;n++)this._fieldIds[t[n]]=n}addFieldLength(t,n,r,o){let i=this._fieldLength.get(t);i==null&&this._fieldLength.set(t,i=[]),i[n]=o;const a=(this._avgFieldLength[n]||0)*r+o;this._avgFieldLength[n]=a/(r+1)}removeFieldLength(t,n,r,o){if(r===1){this._avgFieldLength[n]=0;return}const i=this._avgFieldLength[n]*r-o;this._avgFieldLength[n]=i/(r-1)}saveStoredFields(t,n){const{storeFields:r,extractField:o}=this._options;if(r==null||r.length===0)return;let i=this._storedFields.get(t);i==null&&this._storedFields.set(t,i={});for(const s of r){const a=o(n,s);a!==void 0&&(i[s]=a)}}}wi.wildcard=Symbol("*");const wu=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0,YB={[cf]:(e,t)=>{for(const n of t.keys()){const r=e.get(n);if(r==null)e.set(n,t.get(n));else{const{score:o,terms:i,match:s}=t.get(n);r.score=r.score+o,r.match=Object.assign(r.match,s),Rg(r.terms,i)}}return e},[B0]:(e,t)=>{const n=new Map;for(const r of t.keys()){const o=e.get(r);if(o==null)continue;const{score:i,terms:s,match:a}=t.get(r);Rg(o.terms,s),n.set(r,{score:o.score+i,terms:o.terms,match:Object.assign(o.match,a)})}return n},[jB]:(e,t)=>{for(const n of t.keys())e.delete(n);return e}},GB={k:1.2,b:.7,d:.5},KB=(e,t,n,r,o,i)=>{const{k:s,b:a,d:c}=i;return Math.log(1+(n-t+.5)/(t+.5))*(c+e*(s+1)/(e+s*(1-a+a*r/o)))},ZB=e=>(t,n,r)=>{const o=typeof e.fuzzy=="function"?e.fuzzy(t,n,r):e.fuzzy||!1,i=typeof e.prefix=="function"?e.prefix(t,n,r):e.prefix===!0,s=typeof e.boostTerm=="function"?e.boostTerm(t,n,r):1;return{term:t,fuzzy:o,prefix:i,termBoost:s}},Su={idField:"id",extractField:(e,t)=>e[t],stringifyField:(e,t)=>e.toString(),tokenize:e=>e.split(JB),processTerm:e=>e.toLowerCase(),fields:void 0,searchOptions:void 0,storeFields:[],logger:(e,t)=>{typeof console?.[e]=="function"&&console[e](t)},autoVacuum:!0},Og={combineWith:cf,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:GB},qB={combineWith:B0,prefix:(e,t,n)=>t===n.length-1},$d={batchSize:1e3,batchWait:10},Ed={minDirtFactor:.1,minDirtCount:20},xu={...$d,...Ed},XB=(e,t)=>{e.includes(t)||e.push(t)},Rg=(e,t)=>{for(const n of t)e.includes(n)||e.push(n)},Ag=({score:e},{score:t})=>t-e,Dg=()=>new Map,Ua=e=>{const t=new Map;for(const n of Object.keys(e))t.set(parseInt(n,10),e[n]);return t},ja=async e=>{const t=new Map;let n=0;for(const r of Object.keys(e))t.set(parseInt(r,10),e[r]),++n%1e3===0&&await W0(0);return t},W0=e=>new Promise(t=>setTimeout(t,e)),JB=/[\n\r\p{Z}\p{P}]+/u,QB=10;class e5{miniSearch=null;indexedItemIds=new Set;lastIndexTime=0;constructor(){this.initMiniSearch()}initMiniSearch(){this.miniSearch=new wi({fields:["title","content","tags","theme","categoryKey"],storeFields:["id","title","content","type","theme","tags","categoryKey","dateMs","created"],extractField:(t,n)=>n==="tags"?(t.tags||[]).join(" "):t[n]??"",searchOptions:{boost:{title:2,theme:1.5,tags:1.2},fuzzy:.2,prefix:!0},tokenize:t=>{if(!t)return[];const n=t.toLowerCase().split(/[\s,ï¼Œã€‚ï¼ï¼Ÿã€ï¼›ï¼š""''ï¼ˆï¼‰ã€ã€‘\-_/\\]+/).filter(o=>o.length>0),r=[];for(const o of n)if(/[\u4e00-\u9fa5]/.test(o))for(let i=0;i<o.length;i++)r.push(o[i]),i<o.length-1&&r.push(o.slice(i,i+2));else r.push(o);return[...new Set([...n,...r])]}})}buildIndex(t){const n=Date.now(),r=t??this.getItemsFromDataStore();if(!r||r.length===0){console.log("RetrievalService: æ²¡æœ‰å¯ç´¢å¼•çš„ items");return}this.initMiniSearch(),this.indexedItemIds.clear();try{const o=r.filter(i=>i.id);this.miniSearch.addAll(o),o.forEach(i=>this.indexedItemIds.add(i.id)),this.lastIndexTime=Date.now(),console.log(`RetrievalService: ç´¢å¼•å®Œæˆï¼Œå…± ${o.length} æ¡ï¼Œè€—æ—¶ ${Date.now()-n}ms`)}catch(o){console.error("RetrievalService: ç´¢å¼•æž„å»ºå¤±è´¥",o)}}getItemsFromDataStore(){return Wr?Wr.queryItems([],[]):(console.warn("RetrievalService: DataStore æœªåˆå§‹åŒ–"),[])}needsRebuild(){return!this.miniSearch||this.indexedItemIds.size===0}ensureIndex(){this.needsRebuild()&&this.buildIndex()}getIndexStats(){return{itemCount:this.indexedItemIds.size,lastIndexTime:this.lastIndexTime}}search(t,n){if(this.ensureIndex(),!this.miniSearch||!t.trim())return{items:[],results:[],totalMatched:0};const r=n?.limit??QB;try{const o=this.miniSearch.search(t,{});let i=this.applyFilters(o,n);const s=i.length;i=i.slice(0,r);const a=i.map(u=>({item:this.searchResultToItem(u),score:u.score,match:u.match})),c=a.map(u=>u.item);return console.log(`RetrievalService: æœç´¢ "${t}" æ‰¾åˆ° ${s} æ¡ï¼Œè¿”å›ž ${c.length} æ¡`),{items:c,results:a,totalMatched:s}}catch(o){return console.error("RetrievalService: æœç´¢å¤±è´¥",o),{items:[],results:[],totalMatched:0}}}applyFilters(t,n){return n?t.filter(r=>{if(n.themePaths&&n.themePaths.length>0){const o=r.theme;if(!o||!n.themePaths.some(s=>o===s||o.startsWith(s+"/")))return!1}if(n.types&&n.types.length>0){const o=r.type;if(!o||!n.types.includes(o))return!1}if(n.blockTemplateNames&&n.blockTemplateNames.length>0){const o=r.categoryKey;if(!o)return!1;const i=o.split("/")[0];if(!n.blockTemplateNames.includes(i))return!1}return!0}):t}searchResultToItem(t){return{id:t.id,title:t.title??"",content:t.content??"",type:t.type??"task",theme:t.theme,tags:t.tags??[],categoryKey:t.categoryKey??"",dateMs:t.dateMs,created:t.created??0,modified:0,recurrence:"none",extra:{}}}getItemsByIds(t){if(!Wr)return[];const n=Wr.queryItems([],[]),r=new Set(t);return n.filter(o=>r.has(o.id))}}let Cu=null;function Pd(){return Cu||(Cu=new e5),Cu}const t5=`ä½ æ˜¯ä¸€ä¸ªä¸ªäººå·¥ä½œè®°å½•åŠ©æ‰‹ï¼Œå¸®åŠ©ç”¨æˆ·æŸ¥è¯¢å’Œåˆ†æžä»–ä»¬çš„å·¥ä½œè®°å½•ã€ä»»åŠ¡å’Œç¬”è®°ã€‚

ä½ çš„èŒè´£ï¼š
1. æ ¹æ®ç”¨æˆ·çš„é—®é¢˜ï¼Œä»Žæä¾›çš„ä¸Šä¸‹æ–‡ä¸­æ‰¾åˆ°ç›¸å…³ä¿¡æ¯å¹¶å›žç­”
2. å›žç­”æ—¶è¦ç®€æ´æ˜Žäº†ï¼Œä½¿ç”¨ä¸­æ–‡
3. å¦‚æžœå¼•ç”¨äº†æŸæ¡è®°å½•ï¼Œè¯·æåŠå…¶æ ‡é¢˜ã€æ—¥æœŸæˆ–ä¸»é¢˜
4. å¦‚æžœä¸Šä¸‹æ–‡ä¸­æ²¡æœ‰ç›¸å…³ä¿¡æ¯ï¼Œè¯šå®žåœ°è¯´æ˜Ž
5. å¯ä»¥å¯¹è®°å½•è¿›è¡Œåˆ†æžã€ç»Ÿè®¡æˆ–æ€»ç»“

è¾“å‡ºæ ¼å¼è¦æ±‚ï¼ˆé‡è¦ï¼‰ï¼š
- é»˜è®¤ä½¿ç”¨ Markdown æ ¼å¼è¾“å‡º
- ä¸è¦è¾“å‡ºä»»ä½• HTML æ ‡ç­¾
- ä»£ç å—ä½¿ç”¨ \`\`\`language æ ¼å¼
- åˆ—è¡¨ä½¿ç”¨ - æˆ– 1. 2. æ ¼å¼
- å¼ºè°ƒä½¿ç”¨ **ç²—ä½“** æˆ– *æ–œä½“*
- å¼•ç”¨ä½¿ç”¨ > æ ¼å¼
- ç¦æ­¢åœ¨ä»£ç å—ä¹‹å¤–ä½¿ç”¨ä»»ä½• HTML æ ‡ç­¾

æ³¨æ„ï¼š
- å›žç­”åŸºäºŽç”¨æˆ·æä¾›çš„ä¸ªäººè®°å½•æ•°æ®
- ä¿æŒä¸“ä¸šã€å‹å¥½çš„è¯­æ°”
- ä¸è¦ç¼–é€ ä¸å­˜åœ¨çš„ä¿¡æ¯`,n5=3e3;class r5{httpClient;constructor(){this.httpClient=new Qp}getAiSettings(){return Ir?Ir.getSettings().aiSettings??ul:(console.warn("AiChatService: AppStore æœªåˆå§‹åŒ–ï¼Œä½¿ç”¨é»˜è®¤é…ç½®"),ul)}buildContextFromItems(t){if(!t||t.length===0)return"";const n=[];let r=0;for(const o of t){const i=o.dateMs?Ie(o.dateMs).format("YYYY-MM-DD"):"æœªçŸ¥æ—¥æœŸ",s=o.theme||"æ— ä¸»é¢˜",a=o.title||"æ— æ ‡é¢˜",c=(o.content||"").slice(0,200),d=`- [${o.type==="task"?"ä»»åŠ¡":"è®°å½•"}] ${i} | ${s} | ${a}${c?": "+c:""}`;if(r+d.length>n5)break;n.push(d),r+=d.length}return n.join(`
`)}async chat(t){const n=this.getAiSettings();if(!n.enabled)throw new Error("AI åŠŸèƒ½æœªå¯ç”¨ï¼Œè¯·åœ¨è®¾ç½®ä¸­å¼€å¯");if(!n.apiEndpoint||!n.apiKey||!n.model)throw new Error("AI é…ç½®ä¸å®Œæ•´ï¼Œè¯·æ£€æŸ¥ API è®¾ç½®");const r=[];r.push({role:"system",content:t5});let o=[],i=0;if(t.enableRetrieval){const s=Pd(),a={...t.retrievalFilters};if(a.blockTemplateIds&&a.blockTemplateIds.length>0&&Ir){const u=Ir.getSettings().inputSettings?.blocks??[],d=[];for(const p of a.blockTemplateIds){const f=u.find(h=>h.id===p);f&&f.name&&d.push(f.name)}d.length>0&&(a.blockTemplateNames=d),delete a.blockTemplateIds}const c=s.search(t.userMessage,{...a,limit:t.retrievalLimit??10});if(c.items.length>0){const u=this.buildContextFromItems(c.items);o=c.items.map(d=>d.id),i=c.items.length,r.push({role:"system",content:`ä»¥ä¸‹æ˜¯ä¸Žç”¨æˆ·é—®é¢˜ç›¸å…³çš„ä¸ªäººè®°å½•ï¼ˆå…± ${i} æ¡ï¼‰ï¼š

${u}

è¯·åŸºäºŽè¿™äº›è®°å½•å›žç­”ç”¨æˆ·çš„é—®é¢˜ã€‚`}),console.log(`AiChatService: æ£€ç´¢åˆ° ${i} æ¡ç›¸å…³è®°å½•`)}}if(t.history&&t.history.length>0){const s=t.history.slice(-10);r.push(...s)}r.push({role:"user",content:t.userMessage});try{return{content:await this.httpClient.chatCompletion({baseURL:n.apiEndpoint,apiKey:n.apiKey,model:n.model,temperature:n.temperature,max_tokens:n.maxTokens,messages:r,timeoutMs:n.requestTimeoutMs}),referencedItemIds:o,model:n.model,retrievalCount:i}}catch(s){throw console.error("AiChatService: è¯·æ±‚å¤±è´¥",s),new Error(`AI è¯·æ±‚å¤±è´¥: ${s.message||s}`)}}async simpleChat(t){return(await this.chat({userMessage:t,enableRetrieval:!1})).content}async chatWithRetrieval(t,n,r){return this.chat({userMessage:t,enableRetrieval:!0,retrievalFilters:n,history:r})}}let ku=null;function o5(){return ku||(ku=new r5),ku}function i5({appStore:e}){const t=pn(y=>y.settings),n=t.aiSettings??ul,r=t.inputSettings?.blocks??[],o=t.inputSettings?.themes??[],[i,s]=U(n),[a,c]=U("idle"),[u,d]=U(""),p=te(null);p.current||(p.current=new Qp);const f=y=>{s(w=>({...w,...y}))},h=async()=>{await e._updateSettingsAndPersist(y=>{y.aiSettings=i})},m=async()=>{if(!i.apiEndpoint||!i.apiKey||!i.model){c("error"),d("è¯·å…ˆå¡«å†™ API ç«¯ç‚¹ã€å¯†é’¥å’Œæ¨¡åž‹åç§°");return}c("testing"),d("æ­£åœ¨æµ‹è¯•è¿žæŽ¥...");try{await p.current.chatCompletion({baseURL:i.apiEndpoint,apiKey:i.apiKey,model:i.model,temperature:0,max_tokens:10,messages:[{role:"system",content:"You are a test assistant."},{role:"user",content:"ping"}],timeoutMs:i.requestTimeoutMs}),c("success"),d("è¿žæŽ¥æˆåŠŸï¼API é…ç½®æ­£ç¡®ã€‚")}catch(y){c("error"),d(`è¿žæŽ¥å¤±è´¥: ${y.message||y}`)}},g=()=>{f({enabledBlockIds:r.map(y=>y.id)})},v=y=>{const w=i.enabledBlockIds??[];w.includes(y)?f({enabledBlockIds:w.filter(k=>k!==y)}):f({enabledBlockIds:[...w,y]})},b=()=>{f({customPrompt:bf})},S=JSON.stringify(i)!==JSON.stringify(n);return l(de,{sx:{maxWidth:800},children:[l(oe,{variant:"h6",gutterBottom:!0,children:"AI è‡ªç„¶è¯­è¨€å¿«é€Ÿè®°å½•"}),l(oe,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"å¯ç”¨åŽï¼Œå¯ä»¥é€šè¿‡è‡ªç„¶è¯­è¨€æè¿°å¿«é€Ÿåˆ›å»ºè®°å½•ï¼ŒAI ä¼šè‡ªåŠ¨è¯†åˆ«å¹¶å¡«å……ç›¸åº”å­—æ®µã€‚"}),l(on,{control:l(sl,{checked:i.enabled,onChange:y=>f({enabled:y.target.checked})}),label:"å¯ç”¨ AI å¿«é€Ÿè®°å½•"}),l(dn,{sx:{my:3}}),l(wo,{defaultExpanded:!0,children:[l(xo,{expandIcon:l(Cr,{}),children:l(oe,{variant:"subtitle1",children:"API é…ç½®"})}),l(So,{children:l(qe,{spacing:2,children:[l(pt,{fullWidth:!0,label:"API ç«¯ç‚¹ (baseURL)",placeholder:"https://api.openai.com/v1",value:i.apiEndpoint,onChange:y=>f({apiEndpoint:y.target.value}),helperText:"OpenAI å…¼å®¹çš„ API ç«¯ç‚¹ï¼Œä¾‹å¦‚ https://api.openai.com/v1"}),l(pt,{fullWidth:!0,label:"API å¯†é’¥",type:"password",value:i.apiKey,onChange:y=>f({apiKey:y.target.value}),helperText:"æ‚¨çš„ API å¯†é’¥"}),l(pt,{fullWidth:!0,label:"æ¨¡åž‹åç§°",placeholder:"gpt-4",value:i.model,onChange:y=>f({model:y.target.value}),helperText:"è¦ä½¿ç”¨çš„æ¨¡åž‹ï¼Œä¾‹å¦‚ gpt-4, gpt-3.5-turbo"}),l(de,{children:[l(oe,{gutterBottom:!0,children:["æ¸©åº¦ (Temperature): ",i.temperature]}),l(dM,{value:i.temperature,onChange:(y,w)=>f({temperature:w}),min:0,max:2,step:.1,marks:[{value:0,label:"0"},{value:1,label:"1"},{value:2,label:"2"}]})]}),l(pt,{fullWidth:!0,label:"æœ€å¤§ Token æ•°",type:"number",value:i.maxTokens,onChange:y=>f({maxTokens:parseInt(y.target.value)||4096})}),l(pt,{fullWidth:!0,label:"è¯·æ±‚è¶…æ—¶ (æ¯«ç§’)",type:"number",value:i.requestTimeoutMs,onChange:y=>f({requestTimeoutMs:parseInt(y.target.value)||3e4})}),l(de,{children:[l(Ze,{variant:"outlined",onClick:m,disabled:a==="testing",children:a==="testing"?"æµ‹è¯•ä¸­...":"æµ‹è¯•è¿žæŽ¥"}),a!=="idle"&&l(_r,{severity:a==="success"?"success":a==="error"?"error":"info",sx:{mt:1},children:u})]})]})})]}),l(wo,{defaultExpanded:!0,children:[l(xo,{expandIcon:l(Cr,{}),children:l(oe,{variant:"subtitle1",children:"ä¸ªæ€§åŒ–è§„åˆ™ï¼ˆè‡ªå®šä¹‰æç¤ºè¯ï¼‰"})}),l(So,{children:l(qe,{spacing:2,children:[l(_r,{severity:"info",children:'åœ¨è¿™é‡Œå®šä¹‰æ‚¨çš„ä¸ªæ€§åŒ–æ˜ å°„è§„åˆ™ï¼Œå‘Šè¯‰ AI å¦‚ä½•ç†è§£æ‚¨çš„è¾“å…¥ä¹ æƒ¯ã€‚ ä¾‹å¦‚ï¼šå½“æ‚¨è¯´"å¿ƒæƒ…å¥½"æ—¶åº”è¯¥ç”¨å“ªä¸ª Blockï¼Œ"å†™æ–‡ç« "åº”è¯¥å½’ç±»åˆ°å“ªä¸ªä¸»é¢˜ç­‰ã€‚'}),l(pt,{fullWidth:!0,multiline:!0,rows:8,label:"è‡ªå®šä¹‰æç¤ºè¯/è§„åˆ™",placeholder:bf,value:i.customPrompt??"",onChange:y=>f({customPrompt:y.target.value}),helperText:"å®šä¹‰æ‚¨çš„ä¸ªæ€§åŒ–è§„åˆ™ï¼ŒAI ä¼šæ ¹æ®è¿™äº›è§„åˆ™æ¥ç†è§£æ‚¨çš„è¾“å…¥"}),l(de,{children:l(Ze,{variant:"outlined",size:"small",onClick:b,children:"æ’å…¥ç¤ºä¾‹è§„åˆ™"})}),l(_r,{severity:"warning",children:["æç¤ºï¼šè§„åˆ™è¶Šå…·ä½“ï¼ŒAI è¯†åˆ«è¶Šå‡†ç¡®ã€‚å»ºè®®åŒ…å«ï¼š",l("ul",{style:{margin:"8px 0",paddingLeft:"20px"},children:[l("li",{children:"å…³é”®è¯ä¸Ž Block ç±»åž‹çš„å¯¹åº”å…³ç³»"}),l("li",{children:"ç‰¹å®šè¯æ±‡ä¸Žä¸»é¢˜çš„å¯¹åº”å…³ç³»"}),l("li",{children:"å­—æ®µå¡«å†™çš„é»˜è®¤è§„åˆ™"}),l("li",{children:"ä¸ç¡®å®šæ—¶çš„é»˜è®¤è¡Œä¸º"})]})]})]})})]}),l(wo,{children:[l(xo,{expandIcon:l(Cr,{}),children:l(oe,{variant:"subtitle1",children:"Block å‚ä¸ŽèŒƒå›´"})}),l(So,{children:[l(oe,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"é€‰æ‹©å“ªäº› Block æ¨¡æ¿å‚ä¸Ž AI è¯†åˆ«ã€‚ç•™ç©ºè¡¨ç¤ºå…¨éƒ¨å‚ä¸Žã€‚"}),l(Ze,{variant:"outlined",size:"small",onClick:g,sx:{mb:2},children:"åˆå§‹åŒ–ä¸ºå…¨éƒ¨ Block"}),l(Sc,{children:r.map(y=>l(on,{control:l(co,{checked:(i.enabledBlockIds??[]).includes(y.id),onChange:()=>v(y.id)}),label:y.name},y.id))}),r.length===0&&l(oe,{variant:"body2",color:"text.secondary",children:'æš‚æ—  Block æ¨¡æ¿ï¼Œè¯·å…ˆåœ¨"å¿«é€Ÿè¾“å…¥"è®¾ç½®ä¸­åˆ›å»ºã€‚'})]})]}),l(wo,{children:[l(xo,{expandIcon:l(Cr,{}),children:l(oe,{variant:"subtitle1",children:"é»˜è®¤ä¸»é¢˜è®¾ç½®"})}),l(So,{children:l(qe,{spacing:2,children:[l(oe,{variant:"body2",color:"text.secondary",children:"å½“ AI æ— æ³•ä»Žç”¨æˆ·è¾“å…¥ä¸­è¯†åˆ«å‡ºä¸»é¢˜æ—¶ï¼Œå°†ä½¿ç”¨æ­¤é»˜è®¤ä¸»é¢˜ã€‚ å»ºè®®è®¾ç½®ä¸€ä¸ªå¸¸ç”¨çš„ä¸»é¢˜ä½œä¸ºé»˜è®¤å€¼ã€‚"}),l(xn,{fullWidth:!0,children:[l(Bs,{children:"é»˜è®¤ä¸»é¢˜"}),l(Pi,{value:i.defaultThemeId??"",label:"é»˜è®¤ä¸»é¢˜",onChange:y=>f({defaultThemeId:y.target.value||void 0}),children:[l(Xn,{value:"",children:l("em",{children:"ä¸è®¾ç½®é»˜è®¤ä¸»é¢˜"})}),o.map(y=>l(Xn,{value:y.path,children:y.path},y.id))]})]}),o.length===0&&l(_r,{severity:"info",children:'æš‚æ— ä¸»é¢˜ï¼Œè¯·å…ˆåœ¨"å¿«é€Ÿè¾“å…¥"è®¾ç½®ä¸­åˆ›å»ºä¸»é¢˜ã€‚'}),l(_r,{severity:"info",children:'æç¤ºï¼šAI ä¼šå°è¯•ä»Žæ‚¨çš„è¾“å…¥ä¸­è¯†åˆ«ä¸»é¢˜å…³é”®è¯ï¼ˆå¦‚"è‹±è¯­"ã€"å·¥ä½œ"ç­‰ï¼‰ï¼Œ å¹¶åŒ¹é…åˆ°ç›¸åº”çš„ä¸»é¢˜è·¯å¾„ã€‚å¦‚æžœæ— æ³•è¯†åˆ«ï¼Œåˆ™ä½¿ç”¨æ­¤é»˜è®¤ä¸»é¢˜ã€‚'})]})})]}),l(wo,{children:[l(xo,{expandIcon:l(Cr,{}),children:l(oe,{variant:"subtitle1",children:"å¤šç»“æžœè®¾ç½®"})}),l(So,{children:l(qe,{spacing:2,children:[l(on,{control:l(sl,{checked:i.allowMultipleResults,onChange:y=>f({allowMultipleResults:y.target.checked})}),label:"å…è®¸å¤šæ¡ç»“æžœ"}),l(pt,{fullWidth:!0,label:"æœ€å¤§ç»“æžœæ•°é‡",type:"number",value:i.maxResults,onChange:y=>f({maxResults:parseInt(y.target.value)||5}),disabled:!i.allowMultipleResults}),l(xn,{fullWidth:!0,children:[l(Bs,{children:"ç¡®è®¤æ¨¡å¼"}),l(Pi,{value:i.confirmMode,label:"ç¡®è®¤æ¨¡å¼",onChange:y=>f({confirmMode:y.target.value}),children:[l(Xn,{value:"single",children:"å•æ¡ç¡®è®¤"}),l(Xn,{value:"batch",children:"æ‰¹é‡ç¡®è®¤"})]})]})]})})]}),l(wo,{children:[l(xo,{expandIcon:l(Cr,{}),children:l(oe,{variant:"subtitle1",children:"æ€§èƒ½è®¾ç½®"})}),l(So,{children:l(qe,{spacing:2,children:[l(on,{control:l(sl,{checked:i.preloadConfigOnStartup,onChange:y=>f({preloadConfigOnStartup:y.target.checked})}),label:"å¯åŠ¨æ—¶é¢„åŠ è½½é…ç½®"}),l(pt,{fullWidth:!0,label:"é…ç½®ç¼“å­˜ TTL (ç§’)",type:"number",value:i.configCacheTTLSeconds,onChange:y=>f({configCacheTTLSeconds:parseInt(y.target.value)||300}),helperText:"é…ç½®å¿«ç…§çš„ç¼“å­˜æ—¶é—´ï¼Œé¿å…æ¯æ¬¡è°ƒç”¨éƒ½é‡æ–°æž„å»º"})]})})]}),l(dn,{sx:{my:3}}),l(de,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[S&&l(Wn,{label:"æœ‰æœªä¿å­˜çš„æ›´æ”¹",color:"warning",size:"small"}),l(Ze,{variant:"contained",onClick:h,disabled:!S,children:"ä¿å­˜è®¾ç½®"})]})]})}function Ya(e){return{id:`settings-tab-${e}`,"aria-controls":`settings-tabpanel-${e}`}}function Ga(e){const{children:t,value:n,index:r,...o}=e;return l("div",{role:"tabpanel",hidden:n!==r,id:`settings-tabpanel-${r}`,...o,children:n===r&&l(de,{sx:{p:2,pt:3},children:t})})}function s5({app:e,appStore:t,dataStore:n}){const[r,o]=Pb(xw.SETTINGS_TABS,0);return l(JC,{theme:qR,children:[l(l$,{}),l(de,{sx:{width:"100%"},class:"think-setting-root",children:[l(de,{sx:{borderBottom:1,borderColor:"divider"},children:l(p2,{value:r,onChange:(i,s)=>o(s),"aria-label":"settings tabs",children:[l(Oa,{label:"å¿«é€Ÿè¾“å…¥",...Ya(0)}),l(Oa,{label:"å¸ƒå±€",...Ya(1)}),l(Oa,{label:"é€šç”¨",...Ya(2)}),l(Oa,{label:"AI",...Ya(3)})]})}),l(Ga,{value:r,index:0,children:l(QD,{appStore:t,dataStore:n})}),l(Ga,{value:r,index:1,children:l(DD,{app:e,appStore:t})}),l(Ga,{value:r,index:2,children:l(ez,{appStore:t})}),l(Ga,{value:r,index:3,children:l(i5,{appStore:t})})]})]})}class a5 extends _e.PluginSettingTab{constructor(t,n,r){super(t,n),this.app=t,this.plugin=n,this.dataStore=r,this.id=n.manifest.id}id;display(){const{containerEl:t}=this;t.empty(),er(l(s5,{app:this.app,appStore:this.plugin.appStore,dataStore:this.dataStore}),t)}hide(){Rr(this.containerEl)}}class l5{plugin;dataStore;constructor(t,n){this.plugin=t,this.dataStore=n,this.registerEvents()}handleFileChange=t=>{t instanceof _e.TFile&&t.extension==="md"&&this.dataStore.scanFile(t).then(()=>this.dataStore.notifyChange())};registerEvents(){const{vault:t}=this.plugin.app;this.plugin.registerEvent(t.on("modify",this.handleFileChange)),this.plugin.registerEvent(t.on("create",this.handleFileChange)),this.plugin.registerEvent(t.on("delete",n=>{n instanceof _e.TFile&&n.extension==="md"&&(this.dataStore.removeFileItems(n.path),this.dataStore.notifyChange())})),this.plugin.registerEvent(t.on("rename",(n,r)=>{n instanceof _e.TFile&&n.extension==="md"&&(this.dataStore.removeFileItems(r),this.handleFileChange(n))}))}}class c5{constructor(t,n,r,o,i){this.plugin=t,this.appStore=n,this.dataStore=r,this.rendererService=o,this.actionService=i,this.registerProcessor()}registerProcessor(){this.plugin.registerMarkdownCodeBlockProcessor(Sw,(t,n)=>{try{er(null,n)}catch{}n.empty();let r;try{const s=t.trim();if(s.startsWith("{")){const a=JSON.parse(s);r=a.layout||a.name}else s&&(r=s.replace(/['"]/g,""))}catch(s){console.warn("ThinkPlugin: ä»£ç å—å†…å®¹è§£æžå¤±è´¥",s),n.createDiv({text:"ä»£ç å—å†…å®¹è§£æžå¤±è´¥ï¼Œè¯·æ£€æŸ¥è¯­æ³•ã€‚åº”ä¸ºå¸ƒå±€åç§°æˆ–JSONã€‚"});return}const o=this.appStore.getSettings().layouts;!r&&o.length>0&&(r=o[0].name,new _e.Notice(`Think Plugin: æœªæŒ‡å®šå¸ƒå±€ï¼Œå·²è‡ªåŠ¨é€‰æ‹©ç¬¬ä¸€ä¸ªå¸ƒå±€ "${r}"ã€‚`));const i=o.find(s=>s.name===r);if(!i){n.createDiv({text:`Think Plugin: æ‰¾ä¸åˆ°åç§°ä¸º "${r}" çš„å¸ƒå±€ã€‚è¯·åœ¨æ’ä»¶è®¾ç½®ä¸­åˆ›å»ºã€‚`});return}this.mountAndRegister(n,i)})}mountAndRegister(t,n){this.rendererService.register(t,n)}}function u5(e,t,n="(æœªåˆ†ç±»)"){const r={};for(const o of e){const i=String(Gt(o,t)??n);r[i]||(r[i]=[]),r[i].push(o)}return r}function d5(e){return Object.keys(e).sort((t,n)=>t.localeCompare(n,"zh-CN"))}function V0(e,t){if(!t||t.length===0)return[{key:"__all__",field:"__all__",items:e}];const n=(r,o)=>{const i=t[o],s=u5(r,i);return d5(s).map(c=>{const u=s[c];return o===t.length-1?{key:c,field:i,items:u}:{key:c,field:i,children:n(u,o+1)}})};return n(e,0)}function p5(e,t,n){const r=new Set,o=new Set,i={};e.forEach(c=>{const u=String(Gt(c,t)??yf),d=String(Gt(c,n)??yf);r.add(u),o.add(d),i[u]||(i[u]={}),i[u][d]||(i[u][d]=[]),i[u][d].push(c)});const s=Array.from(r).sort((c,u)=>c.localeCompare(u,"zh-CN")),a=Array.from(o).sort((c,u)=>c.localeCompare(u,"zh-CN"));return{matrix:i,sortedRows:s,sortedCols:a}}function ji(e){return(e||"").split("/")[0]||""}function f5(e,t=[]){const n=new Set;return e.forEach(r=>{r.viewType==="StatisticsView"&&r.viewConfig?.categories&&r.viewConfig.categories.forEach(o=>{o.name&&n.add(o.name)})}),t.forEach(r=>n.add(r)),Array.from(n).sort()}function Yi(e,t){if(!t||!t.vault)return"#error-app-not-provided";let n="",r="";const o=e;if(o&&o.file&&o.file.path&&(n=String(o.file.path),typeof o.file.line=="number"&&(r=String(o.file.line))),!n){const a=typeof e=="string"?e:o?.id||"",c=a.lastIndexOf("#");n=c>=0?a.substring(0,c):a,r=c>=0?a.substring(c+1):""}return`obsidian://advanced-uri?${`vault=${encodeURIComponent(t.vault.getName())}&filepath=${encodeURIComponent(n)}`}${r?"&line="+r:""}`}function h5({done:e,onMarkDone:t}){const n="task-checkbox"+(e?" done":"");return l("input",{type:"checkbox",class:n,checked:e,onClick:e?r=>r.preventDefault():void 0,onChange:()=>!e&&t?.()})}const H0=rt(l("path",{d:"M8 5v14l11-7z"})),m5=rt(l("path",{d:"m6 2 .01 6L10 12l-3.99 4.01L6 22h12v-6l-4-4 4-3.99V2zm10 14.5V20H8v-3.5l4-4z"}));function g5({taskId:e,timerStatus:t,onStart:n}){return t?l(vt,{title:`è¯¥ä»»åŠ¡å·²åœ¨è®¡æ—¶é¢æ¿ä¸­ (${t})`,children:l(ht,{size:"small",color:"primary",sx:{cursor:"default"},children:l(m5,{fontSize:"small"})})}):l(vt,{title:"æ·»åŠ å¹¶å¼€å§‹è®¡æ—¶",children:l(ht,{size:"small",onClick:r=>{r.stopPropagation(),n()},children:l(H0,{fontSize:"small"})})})}function v5(e){return/\/(done|cancelled)$/i.test(e||"")}function U0(e){const t=[],n=new Map;return e.forEach(r=>{const o=r.path.split("/");let i="",s;o.forEach((a,c)=>{const u=c===o.length-1;if(i=i?`${i}/${a}`:a,n.has(i)){if(u){const d=n.get(i);d.themeId=r.id}}else{const d={id:i,name:a,themeId:u?r.id:null,children:[]};n.set(i,d),s?s.children.some(p=>p.id===d.id)||s.children.push(d):t.some(p=>p.id===d.id)||t.push(d)}s=n.get(i)})}),t}function y5(e){if(!e||e.length<2)return e;const t=new Set(e);for(const n of e)for(const r of e)n!==r&&r.startsWith(n+"/")&&t.delete(n);return Array.from(t)}function b5(e,t){const n=new Set(t.map(a=>a.path)),r=[],o=[];for(const a of e)n.has(a)?r.push(a):o.push(a);return{themeLabels:y5(r).map(a=>({fullPath:a,label:a.split("/").pop()||a})),regularTags:o}}function w5({tags:e,allThemes:t}){const{themeLabels:n,regularTags:r}=ie(()=>b5(e,t),[e,t]);return l("div",{class:"bv-fields-list",children:[n.map(({fullPath:o,label:i})=>l("span",{class:"tag-pill",title:`ä¸»é¢˜: ${o}`,style:{background:Qg(o)},children:i},o)),r.map(o=>l("span",{class:"tag-pill",title:`æ ‡ç­¾: ${o}`,children:o},o))]})}function j0({item:e,fieldKey:t,app:n,allThemes:r}){const o=Gt(e,t);if(o==null||o===""||Array.isArray(o)&&o.length===0)return null;const i=Tw(t);if(t==="tags")return l(w5,{tags:o,allThemes:r});if(t==="categoryKey"){const a=ji(e.categoryKey);return l("span",{class:"tag-pill",title:`${i}: ${o}`,style:{backgroundColor:Qg(e.categoryKey)},children:a})}if(t==="pintu"&&typeof o=="string")return l("span",{class:"tag-pill",title:`${i}: ${o}`,children:l("img",{src:n.vault.adapter.getResourcePath(o),alt:i})});const s=Array.isArray(o)?o.join(", "):String(o);return l("span",{class:"tag-pill",title:`${i}: ${s}`,children:s})}function uf({item:e,onMarkDone:t,app:n,timerService:r,timer:o,allThemes:i,showFields:s=[],compact:a=!1}){const c=v5(e.categoryKey);return l("div",{class:`task-row ${a?"task-row--compact":""} ${c?"task-row--done":""}`,children:[l("div",{class:"task-row-checkbox-wrapper",children:l(h5,{done:c,onMarkDone:()=>t(e.id)})}),l("div",{class:"task-row-content",children:[l("div",{class:"flex items-center gap-2",children:[l("a",{href:Yi(e,n),target:"_blank",rel:"noopener",class:`task-row-title ${c?"task-done":""}`,children:[e.icon&&l("span",{class:"icon mr-1",children:e.icon}),e.title]}),!c&&l(g5,{taskId:e.id,timerStatus:o?.status,onStart:()=>r?.startOrResume(e.id)})]}),!a&&s.length>0&&l("div",{class:"task-row-fields",children:s.map(u=>l(j0,{item:e,fieldKey:u,app:n,allThemes:i},u))})]})]})}function Md({item:e,app:t,className:n="",showIcon:r=!0}){return l("a",{href:Yi(e,t),target:"_blank",rel:"noopener",class:`item-link ${n}`,children:[r&&e.icon&&l("span",{class:"icon mr-1",children:e.icon}),e.title]})}const Y0=({item:e,fields:t,isNarrow:n,app:r,allThemes:o})=>{const i=t.filter(u=>u!=="title"&&u!=="content"),s=t.includes("title")&&e.title,a=t.includes("content")&&e.content;return l("div",{class:`bv-item bv-item--block ${n?"is-narrow":""}`,children:[l("div",{class:"bv-block-metadata",children:l("div",{class:"bv-fields-list-wrapper",children:i.map(u=>l(j0,{item:e,fieldKey:u,app:r,allThemes:o},u))})}),l("div",{class:"bv-block-main",children:[s&&l("div",{class:"bv-block-title",children:l(Md,{item:e,app:r})}),a&&l("div",{class:"bv-block-content",children:l(Md,{item:e,app:r,className:"content-link"})})]})]})};function G0(e){const{nodes:t,renderLeaf:n,classNames:r={},enableCtrlToggleAll:o=!0,defaultCollapsed:i=!1}=e,s=ie(()=>{const k=[],C=I=>I.map(E=>`${E.field}=${E.key}`).join("|"),T=(I,E=[])=>{for(const O of I){const P=[...E,{field:O.field,key:O.key}],x=C(P);k.push(x),O.children&&O.children.length>0&&T(O.children,P)}};return T(t),k},[t]),[a,c]=U({}),u=k=>k.map(C=>`${C.field}=${C.key}`).join("|"),d=k=>{c(C=>{const I=Object.prototype.hasOwnProperty.call(C,k)?C[k]:i;return{...C,[k]:!I}})},p=k=>{c(C=>{const T={...C};for(const I of s)T[I]=k;return T})},f=(k,C)=>{if(o&&C.ctrlKey){const T=s.some(I=>!(Object.prototype.hasOwnProperty.call(a,I)?a[I]:i));p(T)}else d(k)},h=k=>{const C=k;return C.items?C.items.length:C.children?C.children.reduce((T,I)=>T+h(I),0):0},{root:m="",group:g="",title:v="",content:b="",toggleIcon:S="",label:y=""}=r,w=(k,C,T=[])=>k.map(I=>{const E=I,O=E.items,P=E.children||[],x=[...T,{field:I.field,key:I.key}],_=u(x),R=Object.prototype.hasOwnProperty.call(a,_)?a[_]:i,M=P&&P.length>0,A=!!O&&O.length>0,D={paddingLeft:`${12+C*24}px`},z=g?`${g}--level-${C}`:"";return l("div",{class:`${g} ${z}`,children:[l("h5",{class:v,style:D,onClick:W=>f(_,W),title:"ç‚¹å‡»æŠ˜å /å±•å¼€ï¼ˆCtrl+ç‚¹å‡»ï¼šå…¨éƒ¨æŠ˜å /å±•å¼€ï¼‰",children:[l("span",{class:S,children:R?"â–¶":"â–¼"}),l("span",{class:y,children:[I.key," (",A?O.length:h(I),")"]})]}),!R&&l("div",{class:b,children:[M&&w(P,C+1,x),A&&n(O,{path:_,level:C,chain:x})]})]},_)});return l("div",{class:m,children:w(t,0)})}function K0(e){const{items:t,groupField:n,groupFields:r,fields:o=[],app:i,onMarkDone:s,timerService:a,timers:c,allThemes:u}=e,d=te(null),[p,f]=U(!1),[h,m]=U({});ae(()=>{const S=new ResizeObserver(y=>{for(const w of y)f(w.contentRect.width<450)});return d.current&&S.observe(d.current),()=>S.disconnect()},[]);const g=S=>{if(S.type==="task"){const y=c.find(w=>w.taskId===S.id);return l(uf,{item:S,onMarkDone:s,app:i,timerService:a,timer:y,allThemes:u,showFields:[]},S.id)}else return l(Y0,{item:S,fields:o,isNarrow:p,app:i,allThemes:u},S.id)},v=r&&r.length>0?r:n?[n]:[];if(!v.length)return l("div",{class:"bv-container",ref:d,children:t.map(g)});console.log("[BlockView] æŽ¥æ”¶åˆ°çš„ Props:",e),console.log("[BlockView] ç”Ÿæ•ˆçš„åˆ†ç»„å­—æ®µ (effectiveGroupFields):",v);const b=V0(t,v);return console.log("[BlockView] ç”Ÿæˆçš„åˆ†ç»„æ ‘ (groupTree):",JSON.parse(JSON.stringify(b))),l("div",{class:"bv-container",ref:d,children:l(G0,{nodes:b,classNames:{root:"",group:"bv-group bv-group--level-0",title:"bv-group-title",content:"bv-group-content",toggleIcon:"bv-group-toggle-icon",label:"bv-group-label"},renderLeaf:S=>S.map(g)})})}const Od="YYYY-MM-DD";function S5(e){const t=e.startTime?Cn(e.startTime):null,n=e.endTime?Cn(e.endTime):null,r=e.duration??null;if(t!==null&&n!==null){let o=n-t;return o<0&&(o+=1440),{startMinute:t,duration:o,endMinute:n}}return t!==null&&r!==null&&r>=0?{startMinute:t,duration:r,endMinute:t+r}:{startMinute:null,duration:null,endMinute:null}}function x5(e){return e.replace(/<!--[\s\S]*?-->/g,"").replace(/[\(\[]\s*(æ—¶é—´|ç»“æŸ|æ—¶é•¿)::.*?[\)\]]/g,"").replace(/#[\p{L}\d\-_/]+/gu,"").replace(/âœ…?\s*\d{4}-\d{2}-\d{2}/g,"").replace(/[\(\[]\s*ðŸ”\s*.*?\s*[\)\]]/gi,"").replace(/\s+/g," ").trim()}function C5(e){const t=[];for(const n of e){const r=n.file?.basename||n.filename||"";if(!r)continue;const o=n.categoryKey?.endsWith("/done")||n.categoryKey?.endsWith("/cancelled")||n.categoryKey==="å®Œæˆä»»åŠ¡";if(n.type!=="task"||!o)continue;const{startMinute:i,duration:s,endMinute:a}=S5(n);if(i!==null&&s!==null&&a!==null&&n.doneDate){const c=Ie(n.doneDate),u=Cn(n.startTime||""),d=Cn(n.endTime||""),f=u!==null&&d!==null&&u>d?c.subtract(1,"day").format(Od):c.format(Od);t.push({...n,startMinute:i,duration:s,endMinute:a,pureText:x5(n.content),fileName:r,actualStartDate:f})}}return t}function k5(e,t){const n=[];if(e.startMinute===null||e.endMinute===null||!e.doneDate)return[];let r=Ie(e.actualStartDate),o=e.startMinute%1440,i=e.duration;for(;i>0&&r.isBefore(t[1].add(1,"day"));){const s=r.format(Od);if(r.isBefore(t[0],"day")){const d=Math.min(1440-o,i);i-=d,o=0,r=r.add(1,"day");continue}const a=o,c=Math.min(1440,o+i);a<c&&n.push({...e,day:s,blockStartMinute:a,blockEndMinute:c});const u=c-a;i-=u,o=0,r=r.add(1,"day")}return n}const _5=(function(e,t,n){t.prototype.isBetween=function(r,o,i,s){var a=n(r),c=n(o);s=s||"()";var u=s[0]==="(",d=s[1]===")";return(u?this.isAfter(a,i):!this.isBefore(a,i))&&(d?this.isBefore(c,i):!this.isAfter(c,i))||(u?this.isBefore(a,i):!this.isAfter(a,i))&&(d?this.isAfter(c,i):!this.isBefore(c,i))}});function Fl({categoryHours:e,order:t,totalHours:n,colorMap:r,untrackedLabel:o}){const i=ie(()=>{const s=Array.isArray(t)?t:[],a=new Set;return s.forEach(c=>{(e[c]||0)>.01&&a.add(c)}),Object.keys(e).forEach(c=>{(e[c]||0)>.01&&a.add(c)}),Array.from(a)},[e,t,o]);return i.length===0?null:l("div",{class:"progress-block-container",children:i.map(s=>{const a=e[s],c=n>0?a/n*100:0;if(c<.1&&a<.01)return null;const u=r[s]||"#cccccc",d=Math.max(c,.5);return l("div",{title:`${s}: ${a.toFixed(1)}h (${Math.round(c)}%)`,class:"progress-block-item",children:[l("div",{class:"progress-block-bar",style:{background:u,width:`${d}%`}}),l("span",{class:`progress-block-text ${d>50?"progress-block-text-light":"progress-block-text-dark"}`,children:`${s} ${a.toFixed(1)}h`})]},s)})})}function T5({summaryData:e,colorMap:t,progressOrder:n,untrackedLabel:r}){return!e||e.length===0?l("div",{class:"timeline-empty-state",children:"æ­¤æ—¶é—´èŒƒå›´å†…æ— æ•°æ®å¯ä¾›æ€»ç»“ã€‚"}):l("table",{class:"timeline-summary-table",children:[l("thead",{children:l("tr",{children:[l("th",{children:"æœˆä»½"}),l("th",{children:"æœˆåº¦æ€»ç»“"}),l("th",{children:"W1"}),l("th",{children:"W2"}),l("th",{children:"W3"}),l("th",{children:"W4"}),l("th",{children:"W5"})]})}),l("tbody",{children:e.map(o=>l("tr",{children:[l("td",{children:l("strong",{children:o.month})}),l("td",{children:l(Fl,{categoryHours:o.monthlySummary,order:n,totalHours:o.totalMonthHours,colorMap:t,untrackedLabel:r})}),o.weeklySummaries.map((i,s)=>l("td",{children:i?l(Fl,{categoryHours:i.summary,order:n,totalHours:i.totalHours,colorMap:t,untrackedLabel:r}):null},s))]},o.month))})]})}function Ks(e,t){if(!e||!t)return e;for(const n in t){const r=t[n];if(r.files&&r.files.some(o=>e.includes(o)))return n}return e}function I5(e,t){const n=[];if(!e||e.length===0)return n;const r=e.map(c=>Ie(c.doneDate)),o=r.reduce((c,u)=>u.isBefore(c)?u:c),i=r.reduce((c,u)=>u.isAfter(c)?u:c);let s=o.startOf("month");const a=i.endOf("month");for(;s.isBefore(a)||s.isSame(a,"month");){const c=s.format("YYYY-MM"),u=e.filter(m=>Ie(m.doneDate).format("YYYY-MM")===c),d={};let p=0;u.forEach(m=>{const g=Ks(m.fileName||"",t.categories),v=m.duration/60;d[g]=(d[g]||0)+v,p+=v});const f=s.daysInMonth(),h=Math.max(0,f*24-p);if(h>.01&&(d[t.UNTRACKED_LABEL]=h),Object.keys(d).length>0){const m=Array.from({length:5}).map((g,v)=>{const b=v*7+1;if(b>f)return null;const S={};let y=0;if(u.forEach(C=>{const T=Ie(C.doneDate).date();if(T>=b&&T<b+7){const I=Ks(C.fileName||"",t.categories),E=C.duration/60;S[I]=(S[I]||0)+E,y+=E}}),y<.01)return null;const w=Math.min(7,f-b+1),k=Math.max(0,w*24-y);return k>.01&&(S[t.UNTRACKED_LABEL]=k),{summary:S,totalHours:w*24}});n.push({month:c,monthlySummary:d,totalMonthHours:f*24,weeklySummaries:m})}s=s.add(1,"month")}return n}function $5(e,t,n){const r=Ie(t[0]),o=Ie(t[1]),i=e.filter(d=>Ie(d.doneDate).isBetween(r,o,"day","[]")),s={};let a=0;i.forEach(d=>{const p=Ks(d.fileName||"",n.categories),f=d.duration/60;s[p]=(s[p]||0)+f,a+=f});const c=Ie(t[1]).diff(Ie(t[0]),"day")+1,u=Math.max(0,c*24-a);return u>.01&&(s[n.UNTRACKED_LABEL]=u),s}function E5(e,t,n){const r={};let o=0;e.forEach(s=>{const a=Ks(s.fileName||"",t),c=(s.blockEndMinute-s.blockStartMinute)/60;r[a]=(r[a]||0)+c,o+=c});const i=Math.max(0,24-o);return i>.01&&(r[n]=i),{categoryHours:r,totalDayHours:Math.max(24,o)}}function P5({day:e,blocks:t,categoriesConfig:n,colorMap:r,untrackedLabel:o,progressOrder:i}){const{categoryHours:s,totalDayHours:a}=ie(()=>E5(t,n,o),[t,n,o]);return l("div",{class:"day-column-header",children:[l("div",{class:"day-header-title",children:Ie(e).format("MM-DD ddd")}),l("div",{class:"daily-progress-bar",children:l(Fl,{categoryHours:s,order:i,totalHours:a,colorMap:r,untrackedLabel:o})})]})}function M5({isOpen:e,onClose:t,task:n,itemService:r,onSave:o}){const i=PD({startTime:Tn(n.startMinute),endTime:Tn(n.endMinute),duration:String(n.duration)}),{state:s,updateField:a,lastChanged:c}=i;ae(()=>{const p=s.startTime,f=s.endTime,h=String(s.duration),m=isNaN(parseInt(h))?null:parseInt(h),g=Cn(p),v=Cn(f);let b={};if(g!==null&&v!==null&&c!=="duration"){let S=v-g;S<0&&(S+=1440),S!==m&&(b.duration=String(S))}else if(g!==null&&m!==null&&c!=="endTime"){const S=Tn(g+m);S!==f&&(b.endTime=S)}else if(v!==null&&m!==null&&c!=="startTime"){const S=Tn(v-m);S!==p&&(b.startTime=S)}Object.keys(b).length>0&&Object.entries(b).forEach(([S,y])=>{a(S,y)})},[s,c,a]);const u=()=>{if(!r)throw new Error("ItemService æœªæä¾›ï¼Œæ— æ³•ä¿å­˜");const p=Cn(s.startTime),f=Cn(s.endTime),h=Number(s.duration);if(p===null||s.endTime&&f===null||isNaN(h))throw new Error("è¯·è¾“å…¥æœ‰æ•ˆçš„æ—¶é—´å’Œæ—¶é•¿");let m=h;if(p!==null&&f!==null){let g=f-p;g<0&&(g+=1440),m=g}return{time:s.startTime,endTime:s.endTime,duration:m}},d=e0(async()=>{const p=u();await r.updateItemTime(n.id,p),o?.(),t()},{successMessage:"ä»»åŠ¡æ—¶é—´å·²æ›´æ–°",errorMessage:"æ›´æ–°å¤±è´¥"});return l(vc,{open:e,onClose:t,children:[l(wc,{children:"ç¼–è¾‘ä»»åŠ¡æ—¶é—´"}),l(bc,{children:[l("div",{style:{marginBottom:"1rem",marginTop:"0.5rem"},children:l("p",{style:{fontSize:"0.9em",color:"var(--text-muted)",maxWidth:"400px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:n.pureText})}),l(pt,{label:"å¼€å§‹æ—¶é—´",type:"time",value:s.startTime,onChange:p=>a("startTime",p.target.value),fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}}),l(pt,{label:"ç»“æŸæ—¶é—´",type:"time",value:s.endTime,onChange:p=>a("endTime",p.target.value),fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}}),l(pt,{label:"æŒç»­æ—¶é•¿ (åˆ†é’Ÿ)",type:"number",value:s.duration,onChange:p=>a("duration",p.target.value),fullWidth:!0,margin:"normal",inputProps:{min:0}})]}),l(yc,{children:[l(Ze,{onClick:t,children:"å–æ¶ˆ"}),l(Ze,{onClick:d,variant:"contained",children:"ä¿å­˜"})]})]})}const O5=(e,t=.35)=>{const n=e.replace("#",""),r=parseInt(n,16);return`rgba(${r>>16&255},${r>>8&255},${r&255},${t})`},Rd=e=>{const t=Math.floor(e/60),n=e%60;return`${String(t).padStart(2,"0")}:${String(n).padStart(2,"0")}`},R5=e=>{if(e.startMinute%1440+e.duration>1440){const n=Ie(e.actualStartDate).add(e.startMinute,"minute"),r=n.add(e.duration,"minute"),o=n.format("HH:mm"),i=r.format("HH:mm");return`ä»»åŠ¡: ${e.pureText}
æ—¶é—´: ${o} - ${i}`}else{const n=Rd(e.startMinute),r=Rd(e.endMinute);return`ä»»åŠ¡: ${e.pureText}
æ—¶é—´: ${n} - ${r}`}};function A5({app:e,day:t,blocks:n,hourHeight:r,categoriesConfig:o,colorMap:i,maxHours:s,itemService:a,onColumnClick:c,onEditTask:u,onAlignPrev:d,onAlignNext:p}){const[f,h]=U(null),m=S=>{u?u(S):h(S)},g=()=>{h(null)},v=(S,y)=>{if(d)d(S,y);else{if(!y)return;const w=y.blockEndMinute-S.blockStartMinute,k=S.startMinute+w,C=Rd(k);a.updateItemTime(S.id,{time:C})}},b=(S,y)=>{if(p)p(S,y);else{if(!y)return;const w=y.blockStartMinute-S.blockEndMinute,k=S.duration+w;if(k<=0){new _e.Notice("æ— æ³•å¯¹é½ï¼šä»»åŠ¡æ—¶é•¿å°†å˜ä¸ºè´Ÿæ•°æˆ–é›¶");return}a.updateItemTime(S.id,{duration:k})}};return l("div",{class:"day-column-body",style:{height:`${s*r}px`},onClick:S=>c(t,S),onTouchStart:S=>c(t,S),children:[f&&l(M5,{isOpen:!0,onClose:g,task:f,itemService:a}),n.map((S,y)=>{const w=S.blockStartMinute/60*r,k=(S.blockEndMinute-S.blockStartMinute)/60*r,C=Ks(S.fileName||"",o),T=i[C]||"#ccc",I=y>0?n[y-1]:null,E=y<n.length-1?n[y+1]:null,O=E&&E.blockStartMinute>S.blockStartMinute;return l("div",{class:"timeline-task-block",title:R5(S),style:{top:`${w}px`,height:`${Math.max(k,2)}px`},onClick:P=>P.stopPropagation(),onTouchStart:P=>P.stopPropagation(),children:[l("a",{class:"timeline-task-link",onClick:P=>{P.preventDefault(),window.open(Yi(S,e))},children:[l("div",{class:"timeline-task-indicator",style:{background:T}}),l("div",{class:"timeline-task-content",style:{background:O5(T)},children:S.pureText})]}),l("div",{class:"task-buttons",children:[l("button",{class:"task-button",title:"å‘å‰å¯¹é½",disabled:!I,onClick:()=>v(S,I),children:"â‡¡"}),l("button",{class:"task-button",title:"å‘åŽå¯¹é½",disabled:!O,onClick:()=>b(S,E),children:"â‡£"}),l("button",{class:"task-button",title:"ç²¾ç¡®ç¼–è¾‘",onClick:()=>m(S),children:"âœŽ"})]})]},S.id+S.day)})]})}function ll(e,t){return e.replace(/\{\{\s*([^}]+?)\s*\}\}/g,(n,r)=>{const o=r.trim();let i="";try{if(o==="block")i=t.block?.name||"";else if(o==="theme")i=t.theme?.path||"";else if(o==="icon")i=t.theme?.icon||"";else if(o.startsWith("moment:")){const s=o.substring(7);i=_e.moment().format(s)}else{const s=o.split("."),a=s[0];if(!(a in t))return"";let c=t[a];if(s.length>1)for(let u=1;u<s.length;u++)if(c&&typeof c=="object"&&s[u]in c)c=c[s[u]];else{c="";break}typeof c=="object"&&c!==null&&"label"in c?i=String(c.label):i=c!=null?String(c):""}return i}catch(s){return console.error(`[ThinkPlugin] è§£æžæ¨¡æ¿å˜é‡ {{${o}}} æ—¶å‘ç”Ÿé”™è¯¯:`,s),`(è§£æžé”™è¯¯: ${o})`}})}class Uo extends _e.Modal{constructor(t,n,r,o,i,s=!1){super(t),this.blockId=n,this.context=r,this.themeId=o,this.onSave=i,this.allowBlockSwitch=s}onOpen(){this.contentEl.empty(),this.modalEl.addClass("think-quick-input-modal"),this.setupKeyboardDetection(),Fo(l(z5,{app:this.app,blockId:this.blockId,context:this.context,themeId:this.themeId,onSave:this.onSave,closeModal:()=>this.close(),allowBlockSwitch:this.allowBlockSwitch}),this.contentEl)}setupKeyboardDetection(){let t=window.innerHeight;const n=c=>{this.modalEl.style.setProperty("--keyboard-height",`${c}px`),document.documentElement.style.setProperty("--keyboard-height",`${c}px`)},r=c=>{const u=c.target;(u.tagName==="INPUT"||u.tagName==="TEXTAREA")&&(this.modalEl.addClass("keyboard-active"),setTimeout(()=>{u.scrollIntoView({behavior:"smooth",block:"center"})},300))},o=c=>{const u=c.target;(u.tagName==="INPUT"||u.tagName==="TEXTAREA")&&setTimeout(()=>{this.modalEl.removeClass("keyboard-active")},100)},i=()=>{const c=window.visualViewport?.height||window.innerHeight,u=t-c;if(u>150){this.modalEl.addClass("keyboard-active"),n(u);const d=this.contentEl.querySelector(".modal-content, .think-modal");d&&(d.scrollTop=d.scrollHeight)}else this.modalEl.removeClass("keyboard-active"),n(300)},s=()=>{if(window.visualViewport){const c=window.visualViewport.height,u=t-c;if(u>150){this.modalEl.addClass("keyboard-active"),n(u);const d=window.visualViewport.offsetTop||0;d>0&&this.modalEl.style.setProperty("--keyboard-offset",`${d}px`)}else this.modalEl.removeClass("keyboard-active"),n(300)}};this.contentEl.addEventListener("focusin",r),this.contentEl.addEventListener("focusout",o),window.visualViewport?window.visualViewport.addEventListener("resize",s):window.addEventListener("resize",i);const a=()=>{setTimeout(()=>{t=window.innerHeight,n(300)},500)};window.addEventListener("orientationchange",a),n(300),this.onClose=()=>{this.contentEl.removeEventListener("focusin",r),this.contentEl.removeEventListener("focusout",o),window.visualViewport?window.visualViewport.removeEventListener("resize",s):window.removeEventListener("resize",i),window.removeEventListener("orientationchange",a),document.documentElement.style.removeProperty("--keyboard-height"),this.modalEl.style.removeProperty("--keyboard-height"),this.modalEl.style.removeProperty("--keyboard-offset"),Rr(this.contentEl)}}onClose(){Rr(this.contentEl)}}function D5(e,t,n){const r=e.blocks.find(i=>i.id===t);if(!r)return{template:null,theme:null};const o=e.themes.find(i=>i.id===n)||null;if(n){const i=e.overrides.find(s=>s.blockId===t&&s.themeId===n);if(i&&!i.disabled)return{template:{...r,fields:i.fields??r.fields,outputTemplate:i.outputTemplate??r.outputTemplate,targetFile:i.targetFile??r.targetFile,appendUnderHeader:i.appendUnderHeader??r.appendUnderHeader},theme:o}}return{template:r,theme:o}}const Z0=(e,t)=>{for(const n of e){if(n.themeId===t)return[n];if(n.children.length>0){const r=Z0(n.children,t);if(r.length>0)return[n,...r]}}return[]},q0=(e,t,n,r=0)=>{const o=t[r-1],i=o?o.themeId:null;return l("div",{children:[l(Ni,{row:!0,value:t[r]?.themeId||"",children:e.map(s=>l(on,{value:s.themeId,disabled:!s.themeId,control:l(oo,{onClick:()=>s.themeId&&n(s.themeId,i),size:"small"}),label:s.name},s.id))}),t[r]&&t[r].children.length>0&&l("div",{style:{paddingLeft:"20px"},children:q0(t[r].children,t,n,r+1)})]})};function z5({app:e,blockId:t,context:n,themeId:r,onSave:o,closeModal:i,allowBlockSwitch:s}){const a=pn(P=>P.settings.inputSettings),[c,u]=U(t),d=ie(()=>a.blocks||[],[a.blocks]),{themeTree:p,themeIdMap:f}=ie(()=>{const{themes:P,overrides:x}=a,_=new Set;x.forEach(A=>{A.blockId===c&&A.disabled&&_.add(A.themeId)});const $=P.filter(A=>!_.has(A.id)),R=U0($),M=new Map(P.map(A=>[A.id,A]));return{themeTree:R,themeIdMap:M}},[a,c]),[h,m]=U(r||null),{template:g,theme:v}=ie(()=>D5(a,c,h||void 0),[a,c,h]),[b,S]=U({});ae(()=>{if(!g)return;const P={...n,theme:v?{path:v.path,icon:v.icon||""}:{}},x={};g.fields.forEach(_=>{if(b[_.key]!==void 0&&b[_.key]!==""){x[_.key]=b[_.key];return}let $=!1;const R=n?.[_.key]??n?.[_.label];if(R!==void 0){if(["select","radio","rating"].includes(_.type)){const M=(_.options||[]).find(A=>A.value===R||A.label===R);M?x[_.key]={value:M.value,label:M.label||M.value}:x[_.key]=R}else x[_.key]=R;$=!0}if(!$){const M=["select","radio","rating"].includes(_.type);if(_.defaultValue)if(M){let D=(z=>(_.options||[]).find(W=>W.label===z||W.value===z))(_.defaultValue);!D&&_.options&&_.options.length>0&&(D=_.options[0]),D&&(x[_.key]={value:D.value,label:D.label||D.value})}else{let A=_.defaultValue||"";typeof A=="string"&&(A=ll(A,P)),x[_.key]=A}else if(_.type==="date")x[_.key]=Ie().format("YYYY-MM-DD");else if(_.type==="time")x[_.key]=Ie().format("HH:mm");else if(M&&_.options&&_.options.length>0){const A=_.options[0];x[_.key]={value:A.value,label:A.label||A.value}}}}),S(x)},[g,v,n]);const y=P=>{if(P===c)return;const x={};["å†…å®¹","content","æ—¥æœŸ","date","æ—¶é—´","time","å¤‡æ³¨","note","description"].forEach($=>{b[$]!==void 0&&(x[$]=b[$])}),u(P),S(x)};ae(()=>{const P={...b},x=P.æ—¶é—´,_=P.ç»“æŸ,$=String(P.æ—¶é•¿),R=isNaN(parseInt($))?null:parseInt($),M=Cn(x),A=Cn(_),D=P.lastChanged;let z={};if(M!==null&&A!==null&&D!=="æ—¶é•¿"){let W=A-M;W<0&&(W+=1440),W!==R&&(z.æ—¶é•¿=W)}else if(M!==null&&R!==null&&D!=="ç»“æŸ"){const W=Tn(M+R);W!==_&&(z.ç»“æŸ=W)}else if(A!==null&&R!==null&&D!=="æ—¶é—´"){const W=Tn(A-R);W!==x&&(z.æ—¶é—´=W)}Object.keys(z).length>0&&S(W=>({...W,...z,lastChanged:void 0}))},[b]);const w=(P,x,_=!1)=>{S($=>({...$,[P]:_?{value:x.value,label:x.label}:x,lastChanged:P}))},k=async()=>{if(!g)return;if(!Qr){new _e.Notice("âŒ ä¿å­˜å¤±è´¥: InputService æœªåˆå§‹åŒ–");return}const P={...b},x=Cn(P.æ—¶é—´),_=Cn(P.ç»“æŸ);let $=isNaN(parseInt(P.æ—¶é•¿))?null:parseInt(P.æ—¶é•¿);if(x!==null&&_!==null){let M=_-x;M<0&&(M+=1440),P.æ—¶é•¿=M}else x!==null&&$!==null?P.ç»“æŸ=Tn(x+$):_!==null&&$!==null&&(P.æ—¶é—´=Tn(_-$));const R=h?f.get(h):void 0;if(o)o({template:g,formData:P,theme:R}),i();else try{await Qr.executeTemplate(g,P,R),new _e.Notice("âœ… å·²ä¿å­˜"),Wr?.notifyChange?.(),i()}catch(M){new _e.Notice(`âŒ ä¿å­˜å¤±è´¥: ${M.message||M}`,1e4)}},C=P=>{const x=typeof b[P.key]=="object"&&b[P.key]!==null,_=x?b[P.key]?.value:b[P.key],$=P.label||P.key;switch(P.type){case"rating":return l(xn,{component:"fieldset",children:[l(oe,{variant:"body2",sx:{fontWeight:500},children:$}),l(qe,{direction:"row",spacing:1,sx:{mt:1},children:(P.options||[]).map(M=>{const A=x&&b[P.key]?.label===M.label&&b[P.key]?.value===M.value,D=n&&(n.è¯„åˆ†!==void 0||n.rating!==void 0),z=D&&(n.è¯„åˆ†!==void 0&&n.è¯„åˆ†===M.label||n.rating!==void 0&&n.rating===M.value),W=M.value&&(M.value.endsWith(".png")||M.value.endsWith(".jpg")||M.value.endsWith(".svg"));let B;if(W){const Y=e.vault.adapter.getResourcePath(M.value);B=l("img",{src:Y,alt:M.label,style:{width:"24px",height:"24px",objectFit:"contain"}})}else B=l("span",{style:{fontSize:"20px"},children:M.value});return l(Ze,{variant:"text",onClick:()=>w(P.key,{value:M.value,label:M.label},!0),title:`è¯„åˆ†: ${M.label}`,sx:{minWidth:"40px",height:"40px",p:1,opacity:A?1:.6,"&:hover":{opacity:1,transform:"scale(1.05)"},border:D?z?"2px solid var(--interactive-accent)":"1px solid transparent":A?"2px solid var(--interactive-accent)":"1px solid transparent",borderRadius:"8px",transition:"all 0.2s ease",boxShadow:D&&z||A?"0 0 4px rgba(var(--interactive-accent-rgb), 0.2)":"none"},children:B},M.label)})})]});case"radio":case"select":if(P.type==="radio"){const M=b[P.key],A=P.options?.findIndex(D=>D.value===M?.value&&D.label===M?.label)??-1;return l(xn,{component:"fieldset",children:[l(oe,{variant:"body2",sx:{fontWeight:500},children:$}),l(Ni,{row:!0,value:A>-1?String(A):"",onChange:D=>{const z=parseInt(D.target.value,10),W=P.options?.[z];W&&w(P.key,{value:W.value,label:W.label||W.value},!0)},children:(P.options||[]).map((D,z)=>l(on,{value:String(z),control:l(oo,{}),label:D.label||D.value},z))})]})}else{const M=(P.options||[]).map(A=>({value:A.value,label:A.label||A.value}));return l(xn,{fullWidth:!0,children:[l(oe,{variant:"body2",sx:{fontWeight:500,mb:.5},children:$}),l(Qn,{value:_||"",options:M,placeholder:`-- é€‰æ‹© ${$} --`,onChange:A=>{const D=P.options?.find(z=>z.value===A);D&&w(P.key,{value:D.value,label:D.label||D.value},!0)}})]})}default:{const M={className:"think-native-input",value:_||"",onInput:A=>w(P.key,A.target.value),onKeyDown:A=>A.stopPropagation()};return l("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:[l("label",{style:{fontWeight:500,fontSize:"0.875rem",marginBottom:"4px"},children:$}),P.type==="textarea"?l("textarea",{...M,rows:4}):l("input",{...M,type:P.type==="text"?"text":P.type,min:P.min,max:P.max})]})}}};if(!g)return l("div",{children:['é”™è¯¯ï¼šæ‰¾ä¸åˆ°IDä¸º "',c,'" çš„Blockæ¨¡æ¿ã€‚']});const T=h?Z0(p,h):[],I=(P,x)=>{m(h===P?x:P)},O=d.find(P=>P.id===c)?.name||g.name;return l("div",{class:"think-modal",style:{padding:"0 1rem 1rem 1rem"},children:[l(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:"1rem"},children:[l("h3",{style:{margin:0},children:o?`å¼€å§‹æ–°ä»»åŠ¡: ${O}`:`å¿«é€Ÿå½•å…¥ Â· ${O}`}),l(vt,{title:"å…³é—­",children:l(ht,{onClick:i,size:"small",children:l(Bi,{})})})]}),s&&d.length>1&&l(xn,{fullWidth:!0,sx:{mb:2},children:[l(oe,{variant:"body2",sx:{fontWeight:600,mb:1},children:"è®°å½•ç±»åž‹"}),l(de,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:d.map(P=>l(Ze,{variant:c===P.id?"contained":"outlined",size:"small",onClick:()=>y(P.id),sx:{minWidth:"auto",px:2,py:.5,fontSize:"0.875rem"},children:P.name},P.id))})]}),p.length>0&&l(xn,{component:"fieldset",sx:{mb:1,width:"100%"},children:[l(oe,{variant:"body2",sx:{fontWeight:600,mb:1},children:"ä¸»é¢˜åˆ†ç±»"}),l(de,{sx:{height:"120px",overflowY:"auto",borderColor:"divider",borderRadius:1,p:1,pr:.5},children:q0(p,T,I)})]}),l(dn,{sx:{mb:2.5}}),l(qe,{spacing:2.5,sx:{minHeight:"300px"},children:(()=>{const P=["æ—¶é—´","ç»“æŸ","æ—¶é•¿"],_=[],$=g.fields.find(A=>A.key==="æ—¥æœŸ"),R=[],M=new Set;if(g.fields.forEach(A=>{A.key!=="æ—¥æœŸ"&&!P.includes(A.key)?(_.push(l("div",{children:C(A)},A.id)),M.add(A.key)):P.includes(A.key)?(R.push(A),M.add(A.key)):A.key==="æ—¥æœŸ"&&M.add(A.key)}),$&&_.push(l("div",{children:C($)},$.id)),R.length>0){const A=P.map(D=>R.find(z=>z.key===D)).filter(D=>D!==void 0);_.push(l(de,{sx:{display:"flex",gap:1,flexWrap:"nowrap","& > div":{flex:1,minWidth:0}},children:A.map(D=>l("div",{children:C(D)},D.id))},"time-fields"))}return _})()}),l("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"1.5rem",gap:"8px"},children:[l(Ze,{onClick:k,variant:"contained",children:o?"åˆ›å»ºå¹¶å¼€å§‹è®¡æ—¶":"æäº¤"}),l(Ze,{onClick:i,children:"å–æ¶ˆ"})]})]})}function L5(e,t,n){const{app:r,inputBlocks:o,hourHeight:i,dayBlocks:s}=n;if(!o||o.length===0){new _e.Notice("æ²¡æœ‰å¯ç”¨çš„Blockæ¨¡æ¿ï¼Œè¯·å…ˆåœ¨è®¾ç½®ä¸­åˆ›å»ºä¸€ä¸ªã€‚");return}let a=o.find(v=>v.name==="Task"||v.name==="ä»»åŠ¡");a||(a=o[0]);const u=t.currentTarget.getBoundingClientRect();let d=0;"touches"in t?d=t.touches[0].clientY:d=t.clientY;const p=d-u.top,f=Math.floor(p/i*60),h=s.filter(v=>v.blockEndMinute<=f).pop(),m=s.find(v=>v.blockStartMinute>=f),g={æ—¥æœŸ:e};h?g.æ—¶é—´=Tn(h.blockEndMinute):g.æ—¶é—´=Tn(f),m&&(g.ç»“æŸ=Tn(m.blockStartMinute)),new Uo(r,a.id,g).open()}function N5(e,t){const n=Ie(t[0]),r=Ie(t[1]),o=r.diff(n,"day"),i=Array.from({length:o+1},(c,u)=>n.add(u,"day")),s={},a=[n,r];i.forEach(c=>s[c.format("YYYY-MM-DD")]=[]);for(const c of e){const u=k5(c,a);for(const d of u)s[d.day]&&s[d.day].push(d)}return Object.values(s).forEach(c=>{c.sort((u,d)=>u.blockStartMinute-d.blockStartMinute)}),{dateRangeDays:i,blocksByDay:s}}function F5(e){const{defaultHeight:t,minHeight:n=10,maxHeight:r=200,step:o=5}=e,[i,s]=U(t),a=te(null),c=te(null);ae(()=>{s(t)},[t]);const u=Te(h=>{h.altKey&&(h.preventDefault(),s(m=>{const g=h.deltaY<0?m+o:m-o;return Math.max(n,Math.min(r,g))}))},[n,r,o]),d=Te(h=>{if(h.touches.length===2){h.preventDefault();const m=h.touches[0],g=h.touches[1],v=Math.hypot(m.clientX-g.clientX,m.clientY-g.clientY);a.current=v,c.current=i}},[i]),p=Te(h=>{if(h.touches.length===2&&a.current){h.preventDefault();const m=h.touches[0],g=h.touches[1],b=Math.hypot(m.clientX-g.clientX,m.clientY-g.clientY)/a.current,S=(c.current||t)*b;s(Math.max(n,Math.min(r,S)))}},[t,n,r]),f=Te(()=>{a.current=null,c.current=null},[]);return{hourHeight:i,zoomHandlers:{onWheel:u,onTouchStart:d,onTouchMove:p,onTouchEnd:f}}}Ie.extend(mb);Ie.extend(vb);Ie.extend(_5);function B5({items:e,dateRange:t,module:n,currentView:r,app:o,itemService:i,inputSettings:s}){const a=s?.blocks||[],c=ie(()=>{const S=JSON.parse(JSON.stringify(Lp)),y=n.viewConfig||{};return{...S,...y,categories:y.categories||S.categories}},[n.viewConfig]),{hourHeight:u,zoomHandlers:d}=F5({defaultHeight:c.defaultHourHeight}),p=ie(()=>{const S=n.filters?$c(e,n.filters):e;return C5(S)},[e,n.filters]),f=ie(()=>{const S={},y=c.categories||{};for(const w in y)S[w]=y[w].color;return S[c.UNTRACKED_LABEL]="#9ca3af",S},[c.categories,c.UNTRACKED_LABEL]),h=ie(()=>N5(p,t),[p,t]),m=Te((S,y)=>{L5(S,y,{app:o,inputBlocks:a,hourHeight:u,dayBlocks:h?.blocksByDay[S]||[]})},[o,a,u,h]);if(p.length===0)return l("div",{class:"timeline-empty-state",children:"å½“å‰èŒƒå›´å†…æ²¡æœ‰æ•°æ®ã€‚"});if(r==="å¹´"||r==="å­£"){const S=ie(()=>{const y=Ie(t[0]),w=Ie(t[1]),k=p.filter(C=>Ie(C.doneDate).isBetween(y,w,"day","[]"));return I5(k,c)},[p,t,c]);return l(T5,{summaryData:S,colorMap:f,progressOrder:c.progressOrder,untrackedLabel:c.UNTRACKED_LABEL})}const g=ie(()=>$5(p,t,c),[p,t,c]),v=Object.values(g||{}).reduce((S,y)=>S+y,0),b=90;return l("div",{class:"timeline-view-wrapper",...d,children:[l("div",{class:"timeline-sticky-header",children:[l("div",{class:"summary-progress-container",style:{flex:`0 0 ${b}px`},children:[l("div",{class:"summary-title",children:"æ€»ç»“"}),l("div",{class:"summary-content",children:g&&v>0&&l(Fl,{categoryHours:g,order:c.progressOrder,totalHours:v,colorMap:f,untrackedLabel:c.UNTRACKED_LABEL})})]}),h.dateRangeDays.map(S=>{const y=S.format("YYYY-MM-DD"),w=h.blocksByDay[y]||[];return l(P5,{day:y,blocks:w,categoriesConfig:c.categories,colorMap:f,untrackedLabel:c.UNTRACKED_LABEL,progressOrder:c.progressOrder},y)})]}),l("div",{class:"timeline-scrollable-body",children:[l("div",{class:"time-axis",style:{flex:`0 0 ${b}px`},children:Array.from({length:c.MAX_HOURS_PER_DAY+1},(S,y)=>l("div",{class:"time-axis-hour",style:{height:`${u}px`},children:y>0&&y%2===0?`${y}:00`:""},y))}),h.dateRangeDays.map(S=>{const y=S.format("YYYY-MM-DD"),w=h.blocksByDay[y]||[];return l(A5,{app:o,day:y,blocks:w,hourHeight:u,categoriesConfig:c.categories,colorMap:f,maxHours:c.MAX_HOURS_PER_DAY,itemService:i,onColumnClick:m},y)})]})]})}function W5(e){const{items:t,app:n,dateRange:r,module:o,currentView:i,actionService:s,timerService:a,timers:c,allThemes:u}=e,d=o.fields||["title","date"],p=o.groupFields||[],f=o.viewConfig||{},h=f.timeField||"date",m=f.titleField||"title";f.contentField,f.maxContentLength;const g=ie(()=>Ie(r[0]),[r]),v=ie(()=>Ie(r[1]),[r]);function b(k){const C=Gt(k,h);if(!C)return null;try{return Ie(C)}catch{return null}}const S=ie(()=>{const k=[];for(const C of t){const T=b(C);T&&T.isBetween(g,v,"minute","[]")&&k.push(C)}return k.sort((C,T)=>{const I=b(C),E=b(T);return I.valueOf()-E.valueOf()})},[t,g,v,h]),y=ie(()=>!p||p.length===0?null:V0(S,p),[S,p]);if(S.length===0)return l("div",{class:"event-timeline-empty",children:"å½“å‰æ—¶é—´èŒƒå›´å†…æ²¡æœ‰äº‹ä»¶è®°å½•ã€‚"});const w=k=>{let C="";return k.map((T,I)=>{const E=b(T),O=E?E.format("YYYY-MM-DD"):"",P=E?E.format("HH:mm"):"",x=O!==C;x&&(C=O);const _=Gt(T,m)||Gt(T,"title")||"";return l("div",{class:"et-event",children:[l("div",{class:"et-event-date",children:[x&&E&&l("div",{class:"et-date-label",children:O}),T.type==="task"&&l("div",{class:"et-time-label",children:P})]}),l("div",{class:"et-line",children:l("div",{class:"et-dot"})}),l("div",{class:"et-event-card",children:T.type==="task"?l(uf,{item:T,onMarkDone:$=>s?.markTaskDone?.($),app:n,timerService:a,timer:c.find($=>$.taskId===T.id),allThemes:u,showFields:[]}):l(Y0,{item:T,fields:d,isNarrow:!1,app:n,allThemes:u})})]},`${O}-${P}-${_}-${I}`)})};return y?l(G0,{nodes:y,classNames:{root:"event-timeline-view",group:"et-group",title:"et-group-title",content:"et-group-content",toggleIcon:"et-group-toggle-icon",label:"et-group-label"},renderLeaf:k=>w(k)}):l("div",{class:"event-timeline-view",children:l("div",{class:"et-ungrouped",children:w(S)})})}function V5({app:e,date:t,items:n,onSave:r,onClose:o}){const[i,s]=U(n.length>0?"view":"edit"),[a,c]=U(!1),u=ie(()=>n.length>0?{display:n.reduce((w,k)=>w+bb(k),0),level:n.reduce((w,k)=>w+yb(k),0),countForLevel:n.every(w=>w.countForLevel!==!1)}:{display:0,level:0,countForLevel:!0},[n]),[d,p]=U(u.display),[f,h]=U(u.level),[m,g]=U(u.countForLevel),v=async()=>{if(d<0||f<0){new _e.Notice("æ¬¡æ•°ä¸èƒ½ä¸ºè´Ÿæ•°");return}if(f>d){new _e.Notice("ç­‰çº§æ¬¡æ•°ä¸èƒ½å¤§äºŽæ˜¾ç¤ºæ¬¡æ•°");return}c(!0);try{await r({displayCount:d,levelCount:f,countForLevel:m}),o()}catch(w){new _e.Notice(`ä¿å­˜å¤±è´¥: ${w?.message||String(w)}`)}finally{c(!1)}},b=w=>{if(w.file?.path){const k=Yi(w,e);window.open(k,"_blank"),o()}},S=()=>l("div",{class:"checkin-details-list",children:[n.map(w=>l("div",{className:"checkin-details-item",onClick:()=>b(w),children:[l("div",{class:"checkin-item-content",children:w.content||"æ— å†…å®¹"}),l("div",{class:"checkin-item-meta",children:`è®°å½•äºŽ ${Ie(w.created).format("HH:mm:ss")} Â· ä½ç½®: ${w.file?.path}`})]},w.id)),!n.length&&l("p",{style:{textAlign:"center",color:"var(--text-muted)"},children:"è¯¥æ—¥æ— æ‰“å¡è®°å½•"})]}),y=()=>l("div",{children:[l("div",{style:{marginBottom:"16px"},children:[l("label",{children:"æ˜¾ç¤ºæ¬¡æ•°"}),l("input",{type:"number",min:"0",value:d,onChange:w=>p(parseInt(w.target.value)||0)}),l("small",{children:"åœ¨çƒ­åŠ›å›¾ä¸­æ˜¾ç¤ºçš„æ‰“å¡æ¬¡æ•°"})]}),l("div",{style:{marginBottom:"16px"},children:[l("label",{children:"ç­‰çº§æ¬¡æ•°"}),l("input",{type:"number",min:"0",max:d,value:f,onChange:w=>h(parseInt(w.target.value)||0)}),l("small",{children:"è®¡å…¥ç­‰çº§è®¡ç®—çš„æ¬¡æ•°ï¼ˆä¸èƒ½è¶…è¿‡æ˜¾ç¤ºæ¬¡æ•°ï¼‰"})]}),l("div",{style:{marginBottom:"20px"},children:l("label",{class:"checkbox-container",children:[l("input",{type:"checkbox",checked:m,onChange:w=>g(w.target.checked)}),l("span",{children:"è®¡å…¥ç­‰çº§è®¡ç®—"})]})})]});return l("div",{class:"checkin-manager-modal",children:[l("div",{class:"modal-header",children:[l("h3",{children:i==="view"?`æ‰“å¡è¯¦æƒ… - ${t}`:`ç¼–è¾‘æ¬¡æ•° - ${t}`}),l("div",{class:"modal-actions",children:n.length>0&&l("button",{class:"mod-subtle",onClick:()=>s(i==="view"?"edit":"view"),title:i==="view"?"ç¼–è¾‘æ¬¡æ•°":"æŸ¥çœ‹è¯¦æƒ…",children:i==="view"?"ç¼–è¾‘":"è¯¦æƒ…"})})]}),l("div",{class:"modal-content",children:i==="view"?S():y()}),l("div",{class:"modal-footer",children:[l("button",{onClick:o,disabled:a,children:"å–æ¶ˆ"}),i==="edit"&&l("button",{class:"mod-cta",onClick:v,disabled:a,children:a?"ä¿å­˜ä¸­...":"ä¿å­˜"})]})]})}class H5 extends _e.Modal{constructor(t,n,r,o){super(t),this.date=n,this.items=r,this.onSave=o}onOpen(){this.contentEl.empty(),this.modalEl.addClass("checkin-manager-modal-container"),Fo(l(V5,{app:this.app,date:this.date,items:this.items,onSave:this.onSave,onClose:()=>this.close()}),this.contentEl),this.contentEl.createEl("style").textContent=`
            .checkin-manager-modal-container .modal-content { padding: 0; }
            .checkin-manager-modal { display: flex; flex-direction: column; height: 100%; }
            .modal-header { display: flex; justify-content: space-between; align-items: center; padding: 12px 16px; border-bottom: 1px solid var(--background-modifier-border); }
            .modal-header h3 { margin: 0; font-size: 1.2em; }
            .modal-content { padding: 16px; flex-grow: 1; }
            .modal-footer { display: flex; justify-content: flex-end; gap: 8px; padding: 12px 16px; border-top: 1px solid var(--background-modifier-border); }
            .checkin-details-item { padding: 10px 0; border-bottom: 1px solid var(--background-modifier-border); cursor: pointer; transition: background-color 0.2s ease; }
            .checkin-details-item:hover { background-color: var(--background-modifier-hover); }
            .checkin-details-item:last-child { border-bottom: none; }
            .checkin-item-content { font-weight: 500; }
            .checkin-item-meta { font-size: var(--font-ui-smaller); color: var(--text-muted); margin-top: 4px; }
            .checkin-manager-modal label { display: block; font-weight: bold; margin-bottom: 4px; }
            .checkin-manager-modal small { color: var(--text-muted); font-size: 12px; }
            .checkin-manager-modal input[type="number"] { width: 100%; }
            .checkbox-container { display: flex; align-items: center; gap: 8px; font-weight: normal; }
        `}onClose(){Rr(this.contentEl)}}const U5=e=>/\.(png|svg|jpg|jpeg|gif)$/i.test(e),j5=e=>/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(e);function Y5(e,t,n=0,r=0,o=!1){if(!t||t.length===0)return`ðŸ“… ${e}
æ— è®°å½•`;const i=t[t.length-1];return[`ðŸ“… ${e}`,`ðŸ‘† æ‰“å¡æ¬¡æ•°: ${n}`,r!==n?`ðŸ† ç­‰çº§æ¬¡æ•°: ${r}`:"",o?"âœï¸ åŒ…å«æ‰‹åŠ¨ç¼–è¾‘":"",i.rating!==void 0?`â­ æœ€åŽè¯„åˆ†: ${i.rating}`:"",i.content?`ðŸ’­ æœ€åŽå†…å®¹: ${i.content}`:"","","ðŸ’¡ å·¦é”®ç‚¹å‡»æ–°å¢žæ‰“å¡","ðŸ’¡ å³é”®æŸ¥çœ‹è¯¦æƒ…æˆ–ç¼–è¾‘"].filter(Boolean).join(`
`)}function G5(e,t){if(!e||e.length===0)return null;const n=[...e].reverse().find(r=>r.pintu||r.rating!==void 0);return n?n.pintu?n.pintu:n.rating!==void 0&&t.get(String(n.rating))||null:null}function Ka({date:e,items:t,config:n,ratingMapping:r,app:o,onCellClick:i,onEditCount:s}){const a=Ie().format("YYYY-MM-DD"),c=e===a;let u="",d={};const p=t?t.reduce((b,S)=>b+bb(S),0):0,f=t?t.reduce((b,S)=>b+yb(S),0):0,h=t?t.some(b=>b.manuallyEdited):!1,m=G5(t||[],r),g=t&&t.length>0?t[t.length-1]:void 0;if(m){if(j5(m))d.backgroundColor=m;else if(U5(m)){const b=o.vault.adapter.getResourcePath(m);u=l("div",{class:"cell-with-image",children:l("img",{src:b,alt:"",class:"w-full h-full object-cover"})})}else u=l("div",{class:"cell-with-text",children:l("span",{class:"visual-content",children:m})});if(p>1){const b=["#4A90E2","#E74C3C","#F39C12","#27AE60"],S=Math.min(p-2,b.length-1);d.boxShadow=`0 0 0 1px ${b[S]} inset`,d.border=`1px solid ${b[S]}`}}else if(p>0){const b=p>99?"large":p>9?"medium":"small";u=l("div",{class:"cell-with-count",children:l("span",{class:`pure-count ${b}`,children:p>999?"999+":p})})}const v=Y5(e,t,p,f,h);return l("div",{class:`heatmap-cell ${c?"current-day":""} ${g?"has-data":"empty"}`,style:d,title:v,onClick:()=>i(e,g),onContextMenu:b=>{b.preventDefault(),s&&s(e,t)},children:l("div",{class:"heatmap-cell-content",children:u})})}function K5(e,t){const n=[],r={noDate:0,themeNotTracked:0},o=t.length===0||t.length===1&&t[0]==="__default__";return e.forEach(i=>{if(!i.date){r.noDate++;return}if(o){n.push(i);return}i.theme&&t.includes(i.theme)?n.push(i):r.themeNotTracked++}),{kept:n,skippedCount:r.noDate+r.themeNotTracked,skippedByReason:r}}function Z5(e,t){const n=new Map,r=t.length>0?t:["__default__"];r.forEach(i=>n.set(i,new Map));const o=r.length===1&&r[0]==="__default__";return e.forEach(i=>{if(!i.date)return;const s=o?"__default__":i.theme||"__default__";let a=n.get(s);a||(a=new Map,n.set(s,a));const c=a.get(i.date)||[];a.set(i.date,[...c,i])}),n}function q5(e,t){const n=t&&t.length>0?t:["__default__"],r=K5(e,n);return{themeMap:Z5(r.kept,n),filterResult:r}}function X5(e,t){const n=q5(e,t);return n.filterResult.skippedCount>0&&console.debug("[buildThemeDataMap] Skipped items:",n.filterResult.skippedByReason),n.themeMap}function J5(e){const t=new Map;return e.forEach(n=>t.set(n.path,n)),t}function Q5(e,t){const n=e.get(t);if(!n)return[];const r=[];return n.forEach(o=>{o&&r.push(...o)}),r}function e4(e,t,n){const r=e.blocks.find(o=>o.id===t);if(!r)return null;if(n){const o=e.overrides.find(i=>i.blockId===t&&i.themeId===n);if(o&&!o.disabled)return{...r,fields:o.fields??r.fields,outputTemplate:o.outputTemplate??r.outputTemplate,targetFile:o.targetFile??r.targetFile,appendUnderHeader:o.appendUnderHeader??r.appendUnderHeader}}return r}function t4(e,t,n){const o=e4(e,t,n)?.fields.find(i=>i.type==="rating");return new Map(o?.options?.filter(i=>i.value).map(i=>[i.label||"",i.value])||[])}class n4{cache=new Map;clear(){this.cache.clear()}get(t,n,r,o){const i=r&&r!=="__default__"&&o?o.get(r)?.id:void 0,s=`${n}:${r||"default"}`;if(this.cache.has(s))return this.cache.get(s);const a=t4(t,n,i);return this.cache.set(s,a),a}}function r4({items:e,app:t,dateRange:n,module:r,currentView:o,inputSettings:i}){const s=ie(()=>({...zp,...r.viewConfig}),[r.viewConfig]),a=ie(()=>J5(i.themes),[i.themes]),c=te(new n4).current;ae(()=>{c.clear()},[i.themes,i.blocks,i.overrides]),ae(()=>{console.log(`ðŸ”„ [æ•°æ®æ›´æ–°] æ£€æµ‹åˆ°itemsæ•°æ®å˜åŒ–ï¼Œé¡¹ç›®æ•°é‡: ${e.length}`),c.clear()},[e]);const u=ie(()=>X5(e,s.themePaths||[]),[e,s.themePaths]),d=(C,T,I)=>{if(!s.sourceBlockId)return;let E;I&&I!=="__default__"?E=a.get(I):T?.theme&&(E=a.get(T.theme));const O={æ—¥æœŸ:C,...T?{å†…å®¹:T.content||"",è¯„åˆ†:T.rating??0}:{},...E?{ä¸»é¢˜:E.path}:{}};new Uo(t,s.sourceBlockId,O,E?.id).open()},p=(C,T)=>{const I=async E=>{try{new _e.Notice(`å·²æ›´æ–° ${C} çš„æ‰“å¡æ•°æ®`)}catch(O){throw new _e.Notice("ä¿å­˜å¤±è´¥ï¼š"+O.message),O}};new H5(t,C,T||[],I).open()},f=(C,T,I)=>{const E=C.startOf("month"),O=C.endOf("month"),P=E.isoWeekday(),x=c.get(i,s.sourceBlockId||"",I,a),_=[];for(let $=1;$<P;$++)_.push(l("div",{class:"heatmap-cell grid-spacer"},`spacer-${$}`));for(let $=1;$<=O.date();$++){const R=E.clone().date($).format("YYYY-MM-DD"),M=T.get(R);_.push(l(Ka,{date:R,items:M,config:s,ratingMapping:x,app:t,onCellClick:(A,D)=>d(A,D,I),onEditCount:p},R))}return l("div",{class:"month-section",children:[l("div",{class:"month-label",children:C.format("Mæœˆ")}),l("div",{class:"heatmap-row calendar",children:_})]},C.format("YYYY-MM"))},h=(C,T,I)=>{const E=Ie(n[0]),O=Ie(n[1]),P=c.get(i,s.sourceBlockId||"",T,a);switch(C){case"å¤©":{const x=E.format("YYYY-MM-DD"),_=I.get(x);return[l(Ka,{date:x,items:_,config:s,ratingMapping:P,app:t,onCellClick:($,R)=>d($,R,T),onEditCount:p},x)]}case"å‘¨":{const x=[];let _=E.startOf("isoWeek");const $=E.endOf("isoWeek");for(;_.isSameOrBefore($,"day");){const R=_.format("YYYY-MM-DD"),M=I.get(R);x.push(l(Ka,{date:R,items:M,config:s,ratingMapping:P,app:t,onCellClick:(A,D)=>d(A,D,T),onEditCount:p},`${T}-${R}`)),_=_.add(1,"day")}return x}case"æœˆ":{const x=[];let _=E.startOf("month");const $=E.endOf("month");for(;_.isSameOrBefore($,"day");){const R=_.format("YYYY-MM-DD"),M=I.get(R);x.push(l(Ka,{date:R,items:M,config:s,ratingMapping:P,app:t,onCellClick:(A,D)=>d(A,D,T),onEditCount:p},R)),_=_.add(1,"day")}return x}case"å¹´":case"å­£":{const x=[];let _=E.clone().startOf("month");for(;_.isSameOrBefore(O,"month");)x.push(f(_,I,T)),_=_.add(1,"month");return x}default:return[]}},[m,g]=U(new Set),[v,b]=U(new Set),S=te(new Map),y=C=>{b(T=>{const I=new Set(T);return I.has(C)?I.delete(C):I.add(C),I})},w=(C,T)=>{if(!T||C==="__default__"||["å¹´","å­£"].includes(o))return;const P=T.clientWidth<600;g(x=>{const _=new Set(x);return P?_.add(C):_.delete(C),_})};return ae(()=>{const C=new ResizeObserver(T=>{T.forEach(I=>{const E=I.target,O=E.dataset.theme;O&&w(O,E)})});return S.current.forEach((T,I)=>{C.observe(T),w(I,T)}),()=>{C.disconnect()}},[s.themePaths]),l("div",{class:"heatmap-container",children:(()=>{const C=s.themePaths&&s.themePaths.length>0?s.themePaths:["__default__"],T=["å¤©","å‘¨","æœˆ"].includes(o);return l("div",{class:`heatmap-view-wrapper ${T?"layout-row":"layout-grid"}`,children:C.map(I=>{const E=u.get(I),O=Q5(u,I),P=s.enableLeveling&&I!=="__default__"?bO(O):null,x=m.has(I),_=v.has(I);return l("div",{class:"heatmap-theme-group",children:l("div",{class:`heatmap-theme-header ${x?"vertical-layout":""}`,"data-theme":I,ref:$=>{$&&I!=="__default__"&&S.current.set(I,$)},children:[I!=="__default__"&&l("div",{class:"heatmap-header-info",onClick:()=>y(I),title:"ç‚¹å‡»æŠ˜å /å±•å¼€",children:[l("div",{class:"heatmap-header-info-left",children:[l("span",{class:"heatmap-toggle-icon",style:{display:"inline-block",width:"16px",textAlign:"center",transform:_?"rotate(-90deg)":"rotate(0deg)",transition:"transform 0.2s ease",marginRight:"4px",color:"var(--text-muted)"},children:"â–¼"}),P&&l(yt,{children:[l("span",{class:"level-icon",children:P.config.icon}),l("span",{class:"level-text",children:["Lv.",P.level]})]}),l("span",{class:"theme-name",children:I})]}),P&&s.showLevelProgress&&P.nextConfig&&l("div",{class:"heatmap-header-info-right",children:l("div",{class:"progress-bar-container",title:`å½“å‰è¿›åº¦: ${P.totalChecks}${P.nextRequirement?` / ${P.nextRequirement}`:""} 
ä¸‹ä¸€ç­‰çº§: ${P.nextConfig.title}
è·ç¦»å‡çº§è¿˜éœ€: ${P.nextRequirement?Math.max(0,P.nextRequirement-P.totalChecks):0} æ¬¡æ‰“å¡`,children:l("div",{class:"progress-bar",style:{width:`${P.progress*100}%`,backgroundColor:P.config.color}})})})]}),!_&&l("div",{class:`heatmap-header-cells ${T?"":"grid-view"}`,children:h(o,I,E)})]})},I)})})})()})}function X0(e){return{BlockView:fd,EventTimelineView:S2,ExcelView:x2,StatisticsView:C2,HeatmapView:k2,TimelineView:_2,TableView:T2}[e]||fd}function J0(e,t=fd){const n=[],o=(c,u,d)=>{if(!u||d>=u.length)return[{key:"æœªåˆ†ç±»",items:c}];const p=u[d],f=new Map;c.forEach(m=>{let g="æœªåˆ†ç±»";if(p){const v=Gt(m,p);v!=null&&v!==""&&(g=String(v))}f.has(g)||f.set(g,[]),f.get(g).push(m)});const h=[];return f.forEach((m,g)=>{const v=o(m,u,d+1);h.push({key:g,items:d===u.length-1?m:[],children:d===u.length-1?void 0:v})}),h},i=t.groupFields||(t.groupField?[t.groupField]:void 0),s=o(e,i,0),a=(c,u)=>{c.forEach((d,p)=>{if(u===0&&p>0&&(n.push("---"),n.push("")),t.useMarkdownHeadingForGroup){const h=t.groupTitlePrefix||"",m=Math.min(6,2+u),g="#".repeat(m);n.push(`${g} ${h}${d.key}`),n.push("")}d.children&&d.children.length>0&&a(d.children,u+1),d.items.forEach((h,m)=>{h.type==="task"?n.push(i4(h)):n.push(...o4(h,m+1,t))})})};return a(s,0),n.join(`
`)}function o4(e,t,n){const r=[];let o=n.idTemplate.replace("{{index}}",t.toString().padStart(2,"0")).replace("{{filename}}",e.filename||"æœªçŸ¥æ–‡ä»¶").replace("{{id}}",e.id||"");return o=o.replace(/\{\{(\w+)\}\}/g,(i,s)=>{const a=Gt(e,s);return a!==void 0?String(a):i}),r.push(`- **${o}**`),n.detailFields.forEach(i=>{const s=Gt(e,i);if(s==null||s==="")return;const a=n.fieldLabels[i]||i,c=n.fieldRender?.[i];let u=String(s);c?.type==="emojiOrLink"?(/^[\p{Emoji}\p{Emoji_Presentation}\p{Extended_Pictographic}\s]*$/u.test(u)&&u.trim().length<=8&&!u.includes(".")?u=u.trim():!u.startsWith("![[")&&!u.startsWith("![")&&(u=`![[${u}]]`),r.push(`  - ${a}: ${u}`)):c?.type==="content"?(r.push(`  - ${a}:`),u.split(`
`).forEach(d=>{const p=d.trim();p&&r.push(`  - ${p}`)})):r.push(`  - ${a}: ${u}`)}),r}function i4(e){const t=e.categoryKey.includes("/done"),n=e.categoryKey.includes("/cancelled");let o=`- ${t?"[x]":n?"[-]":"[ ]"} ${e.title}`;const i={å‘¨æœŸ:e.period,è¯„åˆ†:e.rating,æ—¶é—´:e.startTime,ç»“æŸ:e.endTime,æ—¶é•¿:e.duration,...e.extra};for(const s in i){const a=i[s];s==="filename"||s==="header"||a!=null&&a!==""&&(o+=` (${s}:: ${a})`)}return e.dueDate&&(o+=` ${Yt.due} ${e.dueDate}`),e.scheduledDate&&(o+=` ${Yt.scheduled} ${e.scheduledDate}`),e.startDate&&(o+=` ${Yt.start} ${e.startDate}`),e.createdDate&&(o+=` ${Yt.created} ${e.createdDate}`),e.doneDate&&(o+=` ${Yt.done} ${e.doneDate}`),e.cancelledDate&&(o+=` ${Yt.cancelled} ${e.cancelledDate}`),o.replace(/\s+/g," ").trim()}function Gi(e){return{counts:Object.fromEntries(e.map(t=>[t.name,0])),blocks:[]}}function s4(e,t,n){const r=Gi(t),o=t.map(i=>i.name);return e.forEach(i=>{const s=Ie(i.date);if(!s.isValid()||!s.isSame(n,"day"))return;const a=ji(i.categoryKey);o.includes(a)&&(r.counts[a]++,r.blocks.push(i))}),r}function Bl(e,t,n){const r=Gi(t),o=t.map(a=>a.name),i=n.startOf("isoWeek"),s=n.endOf("isoWeek");return e.forEach(a=>{const c=Ie(a.date);if(!c.isValid()||!c.isBetween(i,s,"day","[]"))return;const u=ji(a.categoryKey);o.includes(u)&&(r.counts[u]++,r.blocks.push(a))}),r}function _u(e,t,n,r=!1){const o=Gi(t),i=t.map(s=>s.name);return e.forEach(s=>{const a=Ie(s.date);if(!a.isValid()||!a.isSame(n,"month"))return;const c=ji(s.categoryKey);i.includes(c)&&(r?(Gt(s,"period")||"")==="æœˆ"&&(o.counts[c]++,o.blocks.push(s)):(o.counts[c]++,o.blocks.push(s)))}),o}function zg(e,t,n,r=!1){const o=Gi(t),i=t.map(s=>s.name);return e.forEach(s=>{const a=Ie(s.date);if(!a.isValid()||!a.isSame(n,"quarter"))return;const c=ji(s.categoryKey);i.includes(c)&&(r?(Gt(s,"period")||"")==="å­£"&&(o.counts[c]++,o.blocks.push(s)):(o.counts[c]++,o.blocks.push(s)))}),o}function a4(e,t,n,r=!1){const o=Gi(t),i=t.map(s=>s.name);return e.forEach(s=>{const a=Ie(s.date);if(!a.isValid()||!a.isSame(n,"year"))return;const c=ji(s.categoryKey);i.includes(c)&&(r?(Gt(s,"period")||"")==="å¹´"&&(o.counts[c]++,o.blocks.push(s)):(o.counts[c]++,o.blocks.push(s)))}),o}function Lg(e,t,n,r=!1){const o=n.startOf("month"),i=n.endOf("month"),s=[];let a=o.startOf("isoWeek");for(;a.isBefore(i)||a.isSame(i,"week");){const c=a.endOf("isoWeek"),u=e.filter(p=>Ie(p.date).isBetween(a,c,"day","[]")),d=Bl(u,t,a);s.push(d),a=a.add(1,"week")}return s}function l4(e,t,n,r){if(e===0)return 0;const o=t.filter(u=>u>0);if(o.length===0)return 0;const i=Math.max(...o),s=Math.min(...o),a=i/Math.max(s,1);let c=0;switch(n){case"logarithmic":c=Math.log(e+1)/Math.log(i+1)*100;break;case"linear":c=e/i*100;break;case"smart":default:if(a>10){const u=Math.log(e+1)/Math.log(i+1)*100,d=e/i*100,p=Math.min(a/20,.7);c=u*p+d*(1-p)}else c=e/i*100;break}return c>0&&c<r&&(c=r),Math.min(c,100)}function ur({data:e,label:t,onCellClick:n,categories:r,cellIdentifier:o,isCompact:i=!1,displayMode:s="smart",minVisibleHeight:a=15}){const c=e.counts,u=Object.values(c).reduce((h,m)=>h+m,0),d=r.map(h=>c[h.name]||0),p=ie(()=>r.map(h=>{const m=c[h.name]||0;return l4(m,d,s,a)}),[c,r,s,a,d]);return l("div",{class:`sv-chart-block ${i?"is-compact":""} ${u===0?"is-empty":""}`,onClick:h=>n(o("å…¨éƒ¨"),h.currentTarget,e.blocks,`${t} Â· å…¨éƒ¨`),children:[l("div",{class:"sv-chart-label",children:t}),l("div",{class:"sv-chart-content",children:[l("div",{class:"sv-chart-numbers",children:r.map(({name:h})=>{const m=c[h]||0;return l("div",{class:"sv-chart-number",children:m>0?m:""},`num-${h}`)})}),l("div",{class:"sv-chart-bars-container",children:r.map(({name:h,color:m,alias:g},v)=>{const b=c[h]||0,S=p[v],y=g||h;return l("div",{class:"sv-vbar-wrapper",title:`${h}: ${b}`,onClick:w=>{w.stopPropagation(),n(o(h),w.currentTarget,e.blocks.filter(k=>(k.categoryKey||"").startsWith(h)),`${t} Â· ${y}`)},children:l("div",{class:"sv-vbar-bar",style:{height:`${S}%`,backgroundColor:m||"#ccc"}})},h)})}),l("div",{class:"sv-chart-categories",children:r.map(({name:h,alias:m})=>{const g=m||h;return l("div",{class:"sv-chart-category",title:`${h}${m?` (${h})`:""}`,children:g},`cat-${h}`)})})]})]})}const Ng=ht,as=({target:e,blocks:t,title:n,onClose:r,app:o,module:i,actionService:s,dateRange:a,currentView:c,timerService:u,timers:d,allThemes:p})=>{const f=te(null),[h,m]=U({x:0,y:0}),[g,v]=U(!1),[b,S]=U({x:0,y:0});ae(()=>{const C=window.innerWidth/2,T=window.innerHeight/2;m({x:C,y:T})},[]),ae(()=>{const C=T=>{f.current&&!f.current.contains(T.target)&&r()};return setTimeout(()=>document.addEventListener("mousedown",C),50),()=>document.removeEventListener("mousedown",C)},[r]);const y=C=>{C.target.closest(".sv-popover-title")&&(v(!0),S({x:C.clientX-h.x,y:C.clientY-h.y}))};ae(()=>{const C=I=>{g&&m({x:I.clientX-b.x,y:I.clientY-b.y})},T=()=>{v(!1)};return g&&(document.addEventListener("mousemove",C),document.addEventListener("mouseup",T)),()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",T)}},[g,b]);const w={top:`${h.y}px`,left:`${h.x}px`,cursor:g?"grabbing":"default"},k=()=>{if(t.length===0){new _e.Notice("æ²¡æœ‰å†…å®¹å¯å¯¼å‡º");return}const C=X0("StatisticsView"),T=J0(t,C);navigator.clipboard.writeText(T),new _e.Notice(`"${n}" çš„å†…å®¹å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼`)};return l("div",{ref:f,style:w,className:"sv-popover",onMouseDown:y,children:[l("div",{className:"sv-popover-title",children:[l("span",{children:n}),l("div",{class:"flex items-center gap-1",children:[l(vt,{title:"å¯¼å‡ºä¸º Markdown",children:l(Ng,{size:"small",onClick:C=>{C.stopPropagation(),k()},sx:{padding:"4px"},children:l(kb,{sx:{fontSize:"1rem"}})})}),l(vt,{title:"å¿«æ·åˆ›å»º",children:l(Ng,{size:"small",onClick:C=>{if(C.stopPropagation(),s){const T=Ie(a[0]),I=s.getQuickInputConfigForView(i,T,c);I&&new Uo(o,I.blockId,I.context,I.themeId).open()}},sx:{padding:"4px"},children:l(Ao,{sx:{fontSize:"1rem"}})})})]})]}),l("div",{className:"sv-popover-content",children:t.length===0?l("div",{class:"sv-popover-empty",children:"æ— å†…å®¹"}):l(K0,{items:t,app:o,fields:i.fields||["title","content","categoryKey","tags","date","period"],groupFields:i.groupFields,onMarkDone:()=>{},timerService:u,timers:d,allThemes:p})})]})};function c4({items:e,app:t,dateRange:n,module:r,currentView:o,useFieldGranularity:i=!1,actionService:s,selectedCategories:a,timerService:c,timers:u,allThemes:d}){const{categories:p=[],displayMode:f="smart",minVisibleHeight:h=15,usePeriodField:m=!1}={...Dp,...r.viewConfig},g=p,v=ie(()=>g.map($=>$.name),[g]),[b,S]=U(null),[y,w]=U(null),[k,C]=U(m),T=ie(()=>Ie(n[0]),[n]);ie(()=>Ie(n[1]),[n]),ie(()=>v.join(","),[v]),te("");const I=ie(()=>!a||a.length===0?g:g.filter($=>a.includes($.name)),[g,a]),E=($,R,M,A)=>{console.log("ç‚¹å‡»å•å…ƒæ ¼:",{cellIdentifier:$,title:A,blocksCount:M.length,blocks:M}),JSON.stringify($)===JSON.stringify(b)?(w(null),S(null)):(S($),w({target:R,blocks:M,title:A}))};if(!p||p.length===0)return l("div",{class:"statistics-view-placeholder",children:"è¯·å…ˆåœ¨è§†å›¾è®¾ç½®ä¸­é…ç½®æ‚¨æƒ³ç»Ÿè®¡çš„åˆ†ç±»ã€‚"});const O=()=>o==="å¹´"||o==="å­£"||o==="æœˆ"?l("div",{class:"sv-top-controls",children:l("label",{class:"sv-period-toggle",title:"å‹¾é€‰åŽï¼Œæœ‰å‘¨æœŸå­—æ®µçš„æ¡ç›®æŒ‰å‘¨æœŸè¿‡æ»¤ï¼Œæ— å‘¨æœŸå­—æ®µçš„æ¡ç›®æŒ‰æ—¶é—´å½’å±žæ˜¾ç¤º",children:[l("input",{type:"checkbox",checked:k,onChange:$=>C($.target.checked)}),l("span",{children:"ä½¿ç”¨å‘¨æœŸå­—æ®µ"})]})}):null;if(o==="å¤©"){const $=T,R=s4(e,I,$);return l("div",{class:"statistics-view",children:[l("div",{class:"sv-timeline",children:l("div",{class:"sv-row",children:l(ur,{data:R,label:$.format("YYYYå¹´MMæœˆDDæ—¥ dddd"),categories:I,onCellClick:E,cellIdentifier:M=>({type:"day",date:$.format("YYYY-MM-DD"),category:M}),displayMode:f,minVisibleHeight:h})})}),y&&l(as,{...y,onClose:()=>{w(null),S(null)},app:t,module:r,actionService:s,dateRange:n,currentView:o,timerService:c,timers:u,allThemes:d})]})}if(o==="å‘¨"){const $=T.startOf("isoWeek"),R=T.endOf("isoWeek"),M=Bl(e,I,$);return l("div",{class:"statistics-view",children:[l("div",{class:"sv-timeline",children:l("div",{class:"sv-row",children:l(ur,{data:M,label:`${$.format("YYYYå¹´MMæœˆDDæ—¥")} ~ ${R.format("MMæœˆDDæ—¥")} (ç¬¬${$.isoWeek()}å‘¨)`,categories:I,onCellClick:E,cellIdentifier:A=>({type:"week",week:$.isoWeek(),year:$.year(),category:A}),displayMode:f,minVisibleHeight:h})})}),y&&l(as,{...y,onClose:()=>{w(null),S(null)},app:t,module:r,actionService:s,dateRange:n,currentView:o,timerService:c,timers:u,allThemes:d})]})}if(o==="æœˆ"){const $=_u(e,I,T,k),R=Lg(e,I,T,k),M=T.startOf("month"),A=T.endOf("month"),D=[];let z=M.startOf("isoWeek");for(;z.isBefore(A)||z.isSame(A,"week");){const W=z,B=W.endOf("isoWeek");D.push({weekStart:W,label:`${W.format("MM-DD")} ~ ${B.format("MM-DD")}`}),z=z.add(1,"week")}return l("div",{class:"statistics-view",children:[l(O,{}),l("div",{class:"sv-timeline",children:[l("div",{class:"sv-row",children:l(ur,{data:$,label:T.format("YYYYå¹´MMæœˆ"),categories:I,onCellClick:E,cellIdentifier:W=>({type:"month",month:T.month()+1,year:T.year(),category:W}),displayMode:f,minVisibleHeight:h})}),l("div",{class:"sv-row sv-row-month-weeks",children:R.map((W,B)=>{const Y=D[B];if(!Y)return null;const{weekStart:K}=Y;return l(ur,{data:W,label:`ç¬¬${B+1}å‘¨`,categories:I,onCellClick:E,cellIdentifier:q=>({type:"week",week:K.isoWeek(),year:K.year(),category:q}),isCompact:!0,displayMode:f,minVisibleHeight:h},K.format("YYYY-MM-DD"))})})]}),y&&l(as,{...y,onClose:()=>{w(null),S(null)},app:t,module:r,actionService:s,dateRange:n,currentView:o,timerService:c,timers:u,allThemes:d})]})}if(o==="å­£"){const $=T.startOf("quarter"),R=zg(e,I,T,k),M=Array.from({length:3},(A,D)=>{const z=$.add(D,"month"),W=_u(e,I,z,k),B=Lg(e,I,z,k),Y=z.startOf("month"),K=z.endOf("month"),q=[];let N=Y.startOf("isoWeek");for(;N.isBefore(K)||N.isSame(K,"week");){const V=N;q.push({weekStart:V}),N=N.add(1,"week")}return{month:z,data:W,weeksData:B,weeksMeta:q}});return l("div",{class:"statistics-view",children:[l(O,{}),l("div",{class:"sv-timeline",children:[l("div",{class:"sv-row",children:l(ur,{data:R,label:`${T.format("YYYYå¹´")} ç¬¬${T.quarter()}å­£åº¦`,categories:I,onCellClick:E,cellIdentifier:A=>({type:"quarter",quarter:T.quarter(),year:T.year(),category:A}),displayMode:f,minVisibleHeight:h})}),l("div",{class:"sv-row sv-row-quarter-months",children:M.map(({month:A,data:D})=>l(ur,{data:D,label:A.format("MMæœˆ"),categories:I,onCellClick:E,cellIdentifier:z=>({type:"month",month:A.month()+1,year:A.year(),category:z}),displayMode:f,minVisibleHeight:h},A.format("YYYY-MM")))}),M.map(({month:A,weeksData:D,weeksMeta:z})=>l("div",{class:"sv-month-weeks-section",children:[l("div",{class:"sv-month-header",children:[A.format("YYYYå¹´MMæœˆ")," å‘¨è§†å›¾"]}),l("div",{class:"sv-row sv-row-month-weeks",children:D.map((W,B)=>{const Y=z[B];if(!Y)return null;const{weekStart:K}=Y;return l(ur,{data:W,label:`${K.isoWeek()}W`,categories:I,onCellClick:E,cellIdentifier:q=>({type:"week",week:K.isoWeek(),year:K.year(),category:q}),isCompact:!0,displayMode:f,minVisibleHeight:h},K.format("YYYY-MM-DD"))})})]},A.format("YYYY-MM")))]}),y&&l(as,{...y,onClose:()=>{w(null),S(null)},app:t,module:r,actionService:s,dateRange:n,currentView:o,timerService:c,timers:u,allThemes:d})]})}const P=T.year(),x=ie(()=>{const $=Array.from({length:12},(M,A)=>({month:A+1,weeks:[]})),R=Pm(P);for(let M=1;M<=R;M++){const D=Ie().year(P).isoWeek(M).day(4).month();$[D]&&$[D].weeks.push(M)}return $},[P]),_=ie(()=>{const $=Pm(P),R=Ie().year(P),M=a4(e,I,R,k),A=[];for(let W=1;W<=4;W++){const B=R.quarter(W);A.push(zg(e,I,B,k))}const D=[];for(let W=0;W<12;W++){const B=R.month(W);D.push(_u(e,I,B,k))}const z=[];for(let W=1;W<=$;W++){const B=R.isoWeek(W);z.push(Bl(e,I,B))}return{yearData:M,quartersData:A,monthsData:D,weeksData:z}},[e,P,I,k]);return l("div",{class:"statistics-view",children:[l(O,{}),l("div",{class:"sv-timeline",children:[l("div",{class:"sv-row",children:l(ur,{data:_.yearData,label:`${P}å¹´`,categories:I,onCellClick:E,cellIdentifier:$=>({type:"year",year:P,category:$}),displayMode:f,minVisibleHeight:h})}),l("div",{class:"sv-row sv-row-quarters",children:_.quartersData.map(($,R)=>l(ur,{data:$,label:`Q${R+1}`,categories:I,onCellClick:E,cellIdentifier:M=>({type:"quarter",year:P,quarter:R+1,category:M}),displayMode:f,minVisibleHeight:h},R))}),l("div",{class:"sv-row sv-row-months",children:_.monthsData.map(($,R)=>l(ur,{data:$,label:`${R+1}æœˆ`,categories:I,onCellClick:E,cellIdentifier:M=>({type:"month",year:P,month:R+1,category:M}),displayMode:f,minVisibleHeight:h},R))}),l("div",{class:"sv-row-weeks",children:x.map(({month:$,weeks:R})=>l("div",{class:"sv-month-col",children:[l("div",{class:"sv-month-col-header",children:[$,"æœˆ"]}),l("div",{class:"sv-month-col-weeks",children:R.map(M=>{const A=M-1,D=_.weeksData[A]||Gi(I);return l(ur,{data:D,label:`${M}W`,categories:I,onCellClick:E,cellIdentifier:z=>({type:"week",year:P,week:M,category:z}),isCompact:!0,displayMode:f,minVisibleHeight:h},M)})})]},$))})]}),y&&l(as,{...y,onClose:()=>{w(null),S(null)},app:t,module:r,dateRange:n,currentView:o,timerService:c,timers:u,allThemes:d})]})}function u4({items:e,rowField:t,colField:n,onMarkDone:r,app:o,timerService:i,timers:s,allThemes:a=[]}){if(!t||!n)return l("div",{children:'ï¼ˆè¡¨æ ¼è§†å›¾éœ€è¦é…ç½®"è¡Œå­—æ®µ"å’Œ"åˆ—å­—æ®µ"ï¼‰'});const{matrix:c,sortedRows:u,sortedCols:d}=p5(e,t,n);function p(f){if(f.type==="task"){const h=s.find(m=>m.taskId===f.id);return l(uf,{item:f,onMarkDone:r,app:o,timerService:i,timer:h,allThemes:a,compact:!0})}return l(Md,{item:f,app:o})}return l("table",{class:"think-table",children:[l("thead",{children:l("tr",{children:[l("th",{children:t}),d.map(f=>l("th",{children:f},f))]})}),l("tbody",{children:u.map(f=>l("tr",{children:[l("td",{children:l("strong",{children:f})}),d.map(h=>{const m=c[f]?.[h]||[];return m.length?l("td",{children:m.map(g=>l("div",{children:p(g)},g.id))},h):l("td",{class:"empty"},h)})]},f))})]})}function d4(e){return Array.isArray(e)?e.join(", "):e==null?"":String(e)}function p4({items:e,fields:t,app:n}){const r=t&&t.length?t:Ld(e),o=Array.from(new Set(r.map(s=>s==="status"||s==="category"?"categoryKey":s))),i=(s,a)=>{const c=Gt(s,a);if(a==="content"&&typeof c=="string"){if(!c)return"";const u=c.length>20?c.substring(0,20)+"...":c,d=Yi(s,n);return l("a",{href:d,target:"_blank",rel:"noopener",title:c,class:"excel-view-content-link",children:u})}return d4(c)};return l("div",{children:l("table",{class:"think-table excel-view-table",children:[l("thead",{children:l("tr",{children:o.map(s=>l("th",{children:s},s))})}),l("tbody",{children:e.map(s=>l("tr",{children:o.map(a=>l("td",{children:i(s,a)},a))},s.id))})]})})}const Q0=rt(l("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"})),Tu=Ze,f4=Mp,Fg=de,Bg=oe,Wg=Wn,h4=on,m4=co,g4=ht;function v4({selectedThemes:e,onSelectionChange:t,themes:n}){const[r,o]=U(null),[i,s]=U(new Set),a=ie(()=>{const k=n.map(C=>({...C,status:"active",source:"predefined",usageCount:0}));return Pc(k,i)},[n,i]),c=ie(()=>n.map(k=>k.path),[n]),u=k=>{o(k.currentTarget)},d=()=>{o(null)},p=k=>{const C=[k.theme.path];return k.children.forEach(T=>{C.push(...p(T))}),C},f=(k,C)=>{for(const T of k){if(T.theme.path===C)return T;const I=f(T.children,C);if(I)return I}return null},h=k=>{const C=f(a,k);if(C&&C.children.length>0&&!C.expanded){const I=p(C),E=e.includes(k);let O;E?O=e.filter(P=>!I.includes(P)):O=[...e,...I.filter(P=>!e.includes(P))],t(O);return}const T=e.includes(k)?e.filter(I=>I!==k):[...e,k];t(T)},m=()=>{t(c)},g=()=>{t([])},v=k=>{const C=new Set(i);C.has(k)?C.delete(k):C.add(k),s(C)},b=k=>{const C=k.children.length>0,T=k.expanded,I=k.level*16;return l("div",{children:[l("div",{className:"theme-filter-node",style:{paddingLeft:`${I}px`},children:[C&&l(g4,{size:"small",onClick:()=>v(k.theme.id),sx:{padding:"2px",marginRight:"4px"},title:"å±•å¼€/æŠ˜å ",children:T?l(Cr,{fontSize:"small"}):l(Up,{fontSize:"small"})}),!C&&l("div",{className:"theme-filter-node-placeholder"}),l(h4,{control:l(m4,{size:"small",checked:e.includes(k.theme.path),onChange:()=>h(k.theme.path)}),label:l("span",{className:"theme-filter-node-label",title:C&&!T?`${k.theme.path} (æŠ˜å æ—¶ç‚¹å‡»é€‰æ‹©æ‰€æœ‰å­ä¸»é¢˜)`:k.theme.path,children:[k.theme.icon&&`${k.theme.icon} `,k.theme.path.split("/").pop()||k.theme.path]}),sx:{margin:0,flex:1}})]}),T&&C&&l("div",{children:k.children.map(E=>b(E))})]},k.theme.id)},S=!!r,y=e.length,w=c.length;return l("div",{className:"theme-filter-container",children:[l(Tu,{size:"small",variant:y>0&&y<w?"contained":"outlined",startIcon:l(Q0,{}),onClick:u,sx:{textTransform:"none"},children:["ä¸»é¢˜ç­›é€‰ ",y>0&&y<w&&`(${y}/${w})`]}),y>0&&y<w&&l("div",{className:"theme-filter-selected-chips",children:[e.slice(0,3).map(k=>{const C=n.find(T=>T.path===k);return C?l(Wg,{label:C.path.split("/").pop()||C.path,size:"small",onDelete:()=>h(k),sx:{height:"20px",fontSize:"0.75rem"}},k):null}),e.length>3&&l(Wg,{label:`+${e.length-3}`,size:"small",sx:{height:"20px",fontSize:"0.75rem"}})]}),l(f4,{open:S,anchorEl:r,onClose:d,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:l(Fg,{sx:{p:2,minWidth:"250px",maxWidth:"400px",maxHeight:"500px",overflowY:"auto"},children:[l(Bg,{variant:"subtitle2",gutterBottom:!0,children:"é€‰æ‹©è¦æ˜¾ç¤ºçš„ä¸»é¢˜"}),l(Fg,{sx:{mb:1,display:"flex",gap:1},children:[l(Tu,{size:"small",onClick:m,children:"å…¨é€‰"}),l(Tu,{size:"small",onClick:g,children:"æ¸…ç©º"})]}),a.length===0?l(Bg,{variant:"body2",color:"text.secondary",sx:{py:2},children:"æš‚æ— ä¸»é¢˜"}):l("div",{children:a.map(k=>b(k))})]})})]})}const Iu=Ze,y4=Mp,Vg=de,Hg=oe,Ug=Wn,b4=Sc,w4=on,S4=co;function x4({selectedCategories:e,onSelectionChange:t,viewInstances:n,predefinedCategories:r=[]}){const[o,i]=U(null),s=ie(()=>f5(n,r),[n,r]),a=g=>{i(g.currentTarget)},c=()=>{i(null)},u=g=>{const v=e.includes(g)?e.filter(b=>b!==g):[...e,g];t(v)},d=()=>{t(s)},p=()=>{t([])},f=!!o,h=e.length,m=s.length;return l("div",{class:"category-filter-container",children:[l(Iu,{size:"small",variant:h>0&&h<m?"contained":"outlined",startIcon:l(Q0,{}),onClick:a,sx:{textTransform:"none"},children:["åˆ†ç±»ç­›é€‰ ",h>0&&h<m&&`(${h}/${m})`]}),h>0&&h<m&&l("div",{class:"selected-categories-list",children:[e.slice(0,3).map(g=>l(Ug,{label:g,size:"small",onDelete:()=>u(g),sx:{height:"20px",fontSize:"0.75rem"}},g)),e.length>3&&l(Ug,{label:`+${e.length-3}`,size:"small",sx:{height:"20px",fontSize:"0.75rem"}})]}),l(y4,{open:f,anchorEl:o,onClose:c,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:l(Vg,{sx:{p:2,minWidth:"250px",maxWidth:"400px",maxHeight:"500px",overflowY:"auto"},children:[l(Hg,{variant:"subtitle2",gutterBottom:!0,children:"é€‰æ‹©è¦æ˜¾ç¤ºçš„åˆ†ç±»"}),l(Vg,{sx:{mb:1,display:"flex",gap:1},children:[l(Iu,{size:"small",onClick:d,children:"å…¨é€‰"}),l(Iu,{size:"small",onClick:p,children:"æ¸…ç©º"})]}),s.length===0?l(Hg,{variant:"body2",color:"text.secondary",sx:{py:2},children:"æš‚æ— åˆ†ç±»"}):l(b4,{children:s.map(g=>l(w4,{control:l(S4,{size:"small",checked:e.includes(g),onChange:()=>u(g)}),label:l("span",{class:"text-md",children:g})},g))})]})})]})}function C4({currentView:e,currentDate:t,onViewChange:n,onDateChange:r,selectedThemes:o,selectedCategories:i,onThemeSelectionChange:s,onCategorySelectionChange:a,viewInstances:c,themes:u,predefinedCategories:d,hideToolbar:p=!1}){const f=ie(()=>m=>({å¹´:"year",å­£:"quarter",æœˆ:"month",å‘¨:"week",å¤©:"day"})[m]||"day",[]),h=["å¹´","å­£","æœˆ","å‘¨","å¤©"];return p?null:l("div",{class:"tp-toolbar",children:[h.map(m=>l("button",{onClick:()=>n(m),class:m===e?"active":"",children:m},m)),l("button",{disabled:!0,class:"tp-toolbar-date-display",children:mO(t,e)}),l("button",{onClick:()=>r(t.clone().subtract(1,f(e))),children:"â†"}),l("button",{onClick:()=>r(t.clone().add(1,f(e))),children:"â†’"}),l("button",{onClick:()=>r(Ie()),children:"ï¼"}),l(v4,{selectedThemes:o,onSelectionChange:s,themes:u}),l(x4,{selectedCategories:i,onSelectionChange:a,viewInstances:c,predefinedCategories:d})]})}function k4(e){e.plugin.addSettingTab(new a5(e.app,e.plugin,e.dataStore))}function _4(e){const{plugin:t,dataStore:n,appStore:r,rendererService:o,actionService:i}=e;new l5(t,n),new c5(t,r,n,o,i)}const T4={TableView:u4,BlockView:K0,TimelineView:B5,EventTimelineView:W5,ExcelView:p4,StatisticsView:c4,HeatmapView:r4},I4=T4;function $4(e){return e.period||"å¤©"}function E4({dataStore:e,viewInstance:t,dateRange:n,keyword:r,layoutView:o,isOverviewMode:i,useFieldGranularity:s=!1,selectedThemes:a,selectedCategories:c}){const u=t?.filters||[],d=t?.sort||[],p=t?.title||"æœªçŸ¥è§†å›¾",[f,h]=U(()=>e.queryItems());return ae(()=>{const g=()=>{h(e.queryItems())};return e.subscribe(g),()=>e.unsubscribe(g)},[e,p]),ie(()=>{if(console.time(`[useViewData] ä¸ºè§†å›¾ [${p}] è®¡ç®—æ•°æ®è€—æ—¶`),!t)return console.timeEnd(`[useViewData] ä¸ºè§†å›¾ [${p}] è®¡ç®—æ•°æ®è€—æ—¶`),[];const g=Ie(n[0]).format("YYYY-MM-DD"),v=Ie(n[1]).format("YYYY-MM-DD");let b=f;b=$c(b,u),b=EO(b,r),a&&a.length>0&&(b=b.filter(w=>w.theme&&a.includes(w.theme))),c&&c.length>0&&(b=b.filter(w=>{const k=(w.categoryKey||"").split("/")[0];return c.includes(k)}));let S;if(i){const w=Ie(n[1]),k=C=>/\/(done|cancelled)\b/.test((C.categoryKey||"").toLowerCase());S=b.filter(C=>{const T=C.date?Ie(C.date):null;if(!T||!T.isValid())return!k(C);if(s)switch($4(C)){case"å¹´":return T.isSame(w,"year");case"å­£":return T.isSame(w,"quarter");case"æœˆ":return T.isSame(w,"month");case"å‘¨":return T.isSame(w,"week");default:const E=T.valueOf(),O=Ie(g).startOf("day").valueOf(),P=Ie(v).endOf("day").valueOf();return E>=O&&E<=P}else{const I=T.valueOf(),E=Ie(g).startOf("day").valueOf(),O=Ie(v).endOf("day").valueOf();return I>=E&&I<=O}})}else{const w=u.find(k=>k.field==="period");w?b=Om(b,w.value):s&&(b=Om(b,o)),S=$O(b,g,v)}const y=wb(S,d);return console.timeEnd(`[useViewData] ä¸ºè§†å›¾ [${p}] è®¡ç®—æ•°æ®è€—æ—¶`),y},[f,u,d,n,r,o,i,s,a,c,p])}const P4=({viewInstance:e,dataStore:t,dateRange:n,keyword:r,layoutView:o,isOverviewMode:i,useFieldGranularity:s,selectedThemes:a,selectedCategories:c,app:u,onMarkDone:d,actionService:p,itemService:f,timerService:h,timers:m,allThemes:g,inputSettings:v,onDataLoaded:b})=>{const S=E4({dataStore:t,viewInstance:e,dateRange:n,keyword:r,layoutView:o,isOverviewMode:!!i,useFieldGranularity:s,selectedThemes:a,selectedCategories:c});ae(()=>{b&&b(S)},[S,b]);const y=I4[e.viewType];if(!y)return l("div",{children:["æœªçŸ¥è§†å›¾: ",e.viewType]});const w={app:u,items:S,dateRange:n,module:e,currentView:o,useFieldGranularity:s,...e.viewConfig,groupField:e.group,groupFields:e.groupFields,fields:e.fields,onMarkDone:d,actionService:p,itemService:f,timerService:h,timers:m,allThemes:g,inputSettings:v,selectedCategories:c};return l(y,{...w})};function jg({layout:e,dataStore:t,app:n,actionService:r,itemService:o,timerService:i}){const s=pn(q=>q.settings.viewInstances),a=pn(q=>q.timer.getTimers()),c=pn(q=>q.settings.inputSettings),u=c.themes,[d,p]=U({}),[f,h]=U(!1),m=te({}),g=te(!1);ae(()=>{g.current||(g.current=!0,requestAnimationFrame(()=>{t.writePerformanceReport("firstScreenReady",{layoutId:e.id,viewCount:e.viewInstanceIds.length}),console.log("[ThinkPlugin] é¦–å±å°±ç»ª")}))},[]),ae(()=>{const q={};e.viewInstanceIds.forEach(N=>{const V=s.find(ne=>ne.id===N);V&&(q[N]=!V.collapsed)}),p(q),h(!0)},[e.id]),ae(()=>{f&&p(q=>{const N={...q};return e.viewInstanceIds.forEach(V=>{const ne=s.find(Ce=>Ce.id===V);ne&&!(V in q)&&(N[V]=!ne.collapsed)}),N})},[s,f,e.viewInstanceIds]);const v=()=>e.initialDateFollowsNow?Ie():e.initialDate?Ie(e.initialDate):Ie(),[b,S]=U(e.initialView||"æœˆ"),[y,w]=U(v()),[k,C]=U(e.selectedThemes||[]),[T,I]=U(e.selectedCategories||[]),E=ie(()=>c.categories||[],[c]);ae(()=>{w(v()),S(e.initialView||"æœˆ")},[e.id,e.initialDate,e.initialDateFollowsNow,e.initialView]),ae(()=>{C(e.selectedThemes||[]),I(e.selectedCategories||[])},[e.selectedThemes,e.selectedCategories]);const O=Te((q,N)=>{const V=m.current[q];if(!V||V.length===0){new _e.Notice("æ²¡æœ‰å†…å®¹å¯å¯¼å‡º");return}const ne=s.find(J=>J.id===q);let Ce=ne?X0(ne.viewType):void 0;if(ne&&Ce){const J=ne.groupFields&&ne.groupFields.length>0?ne.groupFields:ne.group?[ne.group]:void 0;J&&(Ce={...Ce,groupFields:J})}const ve=J0(V,Ce);navigator.clipboard.writeText(ve),new _e.Notice(`"${N}" çš„å†…å®¹å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼`)},[s]),P=q=>{const N=r.getQuickInputConfigForView(q,y,b);N&&new Uo(n,N.blockId,N.context,N.themeId).open()},x=Te(q=>{o.completeItem(q)},[o]),_=Te((q,N)=>{const V=N?.metaKey||N?.ctrlKey;p(V?ne=>{const Ce=!ne[q],ve={};for(const J in ne)ve[J]=Ce;return ve}:ne=>({...ne,[q]:!ne[q]}))},[]),[$,R]=U(!1),[M,A]=U(null),D=Te(q=>{A(q),R(!0)},[]),z=Te(()=>{R(!1),A(null)},[]),W=Te(q=>{C(q),Ir.updateLayout(e.id,{selectedThemes:q})},[e.id]),B=Te(q=>{I(q),Ir.updateLayout(e.id,{selectedCategories:q})},[e.id]),Y=q=>{const N=s.find(ne=>ne.id===q);if(!N)return l("div",{class:"think-module",children:["è§†å›¾ (ID: ",q,") æœªæ‰¾åˆ°"]});const V=!!d[q];return l(xR,{title:N.title,collapsed:!V,onToggle:ne=>_(q,ne),onActionClick:()=>P(N),onExport:()=>O(N.id,N.title),onSettingsClick:()=>D(N),children:V&&l(P4,{viewInstance:N,dataStore:t,dateRange:ie(()=>{const ne=fO(y,b);return[ne.startDate.toDate(),ne.endDate.toDate()]},[y,b]),keyword:"",layoutView:b,isOverviewMode:!1,useFieldGranularity:!1,selectedThemes:k,selectedCategories:T,app:n,onMarkDone:x,actionService:r,itemService:o,timerService:i,timers:a,allThemes:u,inputSettings:c,onDataLoaded:ne=>{m.current[N.id]=ne}})},q)},K=e.displayMode==="grid"?{display:"grid",gridTemplateColumns:`repeat(${e.gridConfig?.columns||2}, 1fr)`,gap:"8px"}:{};return l("div",{children:[l(C4,{currentView:b,currentDate:y,onViewChange:S,onDateChange:w,selectedThemes:k,selectedCategories:T,onThemeSelectionChange:W,onCategorySelectionChange:B,viewInstances:e.viewInstanceIds.map(q=>s.find(N=>N.id===q)).filter(Boolean),hideToolbar:e.hideToolbar,themes:u,predefinedCategories:E}),l("div",{style:K,children:f&&e.viewInstanceIds.map(Y)}),$&&M&&l(t0,{isOpen:$,onClose:z,module:M,appStore:Ir,dataStore:t})]})}var M4=Object.getOwnPropertyDescriptor,O4=(e,t,n,r)=>{for(var o=r>1?void 0:r?M4(t,n):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(o=s(o)||o);return o},R4=(e,t)=>(n,r)=>t(n,r,e);let Zs=class{constructor(e){this.app=e}async executeTemplate(e,t,n){if(!e)throw new Error("ä¼ å…¥äº†æ— æ•ˆçš„æ¨¡æ¿å¯¹è±¡ã€‚");const r={...t,block:{name:e.name},theme:n?{path:n.path,icon:n.icon||""}:{}},o=ll(e.outputTemplate,r).trim(),i=ll(e.targetFile,r).trim(),s=e.appendUnderHeader?ll(e.appendUnderHeader,r):null;if(!i)throw new Error("æ¨¡æ¿æœªå®šä¹‰ç›®æ ‡æ–‡ä»¶è·¯å¾„ (targetFile)ã€‚");const a=await this.getOrCreateFile(i);if(s)await this.appendUnderHeader(a,s,o);else{const c=await this.app.vault.read(a),u=c?`${c.trim()}

${o}`:o;await this.app.vault.modify(a,u)}return i}async getOrCreateFile(e){let t=this.app.vault.getAbstractFileByPath(e);if(t instanceof _e.TFile)return t;if(t instanceof _e.TFolder)throw new Error(`ç›®æ ‡è·¯å¾„ "${e}" æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œæ— æ³•åˆ›å»ºæ–‡ä»¶ã€‚`);const n=e.includes("/")?e.slice(0,e.lastIndexOf("/")):"";n&&await this.ensureFolder(n);try{return await this.app.vault.create(e,"")}catch(r){console.warn(`ThinkPlugin: åˆ›å»ºæ–‡ä»¶æ—¶é‡åˆ°åˆå§‹é”™è¯¯: ${r.message}. æ­£åœ¨å°è¯•é‡æ–°èŽ·å–...`),await new Promise(i=>setTimeout(i,100));const o=this.app.vault.getAbstractFileByPath(e);if(o instanceof _e.TFile)return o;throw console.error("ThinkPlugin: æ–‡ä»¶åˆ›å»ºå¤±è´¥ï¼Œå¹¶ä¸”åœ¨æ•èŽ·é”™è¯¯åŽä»æ— æ³•æ‰¾åˆ°è¯¥æ–‡ä»¶ã€‚",r),new Error(`åˆ›å»ºæ–‡ä»¶ "${e}" å¤±è´¥ã€‚åŽŸå§‹é”™è¯¯: ${r.message}`)}}async ensureFolder(e){const t=e.split("/").filter(Boolean);let n="";for(const r of t){n=n?`${n}/${r}`:r;const o=this.app.vault.getAbstractFileByPath(n);if(o){if(o instanceof _e.TFile)throw new Error(`è·¯å¾„å†²çªï¼š"${n}" æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œæ— æ³•åœ¨å…¶ä¸‹åˆ›å»ºæ–‡ä»¶å¤¹ã€‚`)}else try{await this.app.vault.createFolder(n)}catch(i){throw new Error(`åˆ›å»ºæ–‡ä»¶å¤¹ "${n}" å¤±è´¥ã€‚è¯·æ£€æŸ¥è·¯å¾„æ˜¯å¦æœ‰æ•ˆæˆ–å­˜åœ¨æƒé™é—®é¢˜ã€‚åŽŸå§‹é”™è¯¯: ${i.message}`)}}}async appendUnderHeader(e,t,n){const r=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),o=new RegExp(`^${r}\\s*$`,"m"),s=(await this.app.vault.read(e)).split(`
`);let a=s.findIndex(u=>o.test(u));a===-1&&(s.length&&s[s.length-1].trim()!==""&&s.push(""),s.push(t,""),a=s.length-2);let c=s.length;for(let u=a+1;u<s.length;u++){const d=s[u].match(/^(#+)\s/);if(d&&d[1].length<=(t.match(/^(#+)\s/)?.[1].length||0)){c=u;break}}c>0&&s[c-1].trim()!==""?s.splice(c,0,"",n):s.splice(c,0,n),await this.app.vault.modify(e,s.join(`
`))}};Zs=O4([or(),R4(0,Ot(Lr))],Zs);var A4=Object.getOwnPropertyDescriptor,D4=(e,t,n,r)=>{for(var o=r>1?void 0:r?A4(t,n):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(o=s(o)||o);return o},Za=(e,t)=>(n,r)=>t(n,r,e);let Wl=class{constructor(e,t,n,r){this.app=e,this.dataStore=t,this.settingsProvider=n,this.inputService=r}getQuickInputConfigForView(e,t,n){const r=this.settingsProvider.getSettings();if(e.viewType==="StatisticsView")return this.getQuickInputConfigForStatisticsView(e,t,n);const o=e.filters||[],i=o.find(f=>f.field==="categoryKey"&&(f.op==="="||f.op==="includes"));if(!i||!i.value)return new _e.Notice('å¿«æ·è¾“å…¥å¤±è´¥ï¼šæ­¤è§†å›¾æœªæŒ‰ "categoryKey" è¿›è¡Œç­›é€‰ã€‚'),null;const s=i.value;let a=r.inputSettings.blocks.find(f=>f.name===s);if(!a&&(s==="å®Œæˆä»»åŠ¡"||s==="æœªå®Œæˆä»»åŠ¡")&&(a=r.inputSettings.blocks.find(f=>f.name.includes("ä»»åŠ¡"))),!a)return s==="å®Œæˆä»»åŠ¡"||s==="æœªå®Œæˆä»»åŠ¡"?new _e.Notice('å¿«æ·è¾“å…¥å¤±è´¥ï¼šæ‰¾ä¸åˆ°åç§°åŒ…å«"ä»»åŠ¡"çš„Blockæ¨¡æ¿ã€‚è¯·åœ¨è®¾ç½®ä¸­åˆ›å»ºä¸€ä¸ªä»»åŠ¡ç±»åž‹çš„æ¨¡æ¿ã€‚'):new _e.Notice(`å¿«æ·è¾“å…¥å¤±è´¥ï¼šæ‰¾ä¸åˆ°åä¸º "${s}" çš„Blockæ¨¡æ¿ã€‚`),null;let c;const u=o.find(f=>f.field==="tags"&&f.op==="includes"&&typeof f.value=="string");if(u){const f=u.value,h=r.inputSettings.themes.find(m=>m.path===f);h&&(c=h.id)}const d={æ—¥æœŸ:t.format("YYYY-MM-DD"),å‘¨æœŸ:n},p=o.filter(f=>f.op==="=");for(const f of p)if(f.field!=="categoryKey"){for(const h of a.fields)if(f.field===h.key||f.field===h.label){d[h.key]=f.value;break}}return{blockId:a.id,context:d,themeId:c}}getQuickInputConfigForTaskEdit(e){const t=this.dataStore.queryItems().find(a=>a.id===e);if(!t)return new _e.Notice(`é”™è¯¯ï¼šæ‰¾ä¸åˆ°IDä¸º ${e} çš„ä»»åŠ¡ã€‚`),null;const n=this.settingsProvider.getSettings(),r=(t.categoryKey||"").split("/")[0],o=n.inputSettings.blocks.find(a=>a.name===r);if(!o)return new _e.Notice(`æ‰¾ä¸åˆ°ä¸Žåˆ†ç±» "${r}" åŒ¹é…çš„Blockæ¨¡æ¿ï¼Œæ— æ³•ç¼–è¾‘ã€‚`),null;const i={};for(const a of o.fields){const c=Gt(t,a.key)??Gt(t,a.label);c!=null&&(i[a.key]=c)}!i.title&&!i.æ ‡é¢˜&&(i[o.fields.find(a=>a.label==="æ ‡é¢˜")?.key||"æ ‡é¢˜"]=t.title);const s=o.fields.find(a=>a.label==="æ ‡ç­¾"||a.key==="tags");return s&&!i[s.key]&&(i[s.key]=t.tags.join(", ")),{blockId:o.id,context:i}}getQuickInputConfigForStatisticsView(e,t,n,r){const o=this.settingsProvider.getSettings(),s=(e.viewConfig||{}).categories||[];if(s.length===0)return new _e.Notice("å¿«æ·è¾“å…¥å¤±è´¥ï¼šç»Ÿè®¡è§†å›¾æœªé…ç½®åˆ†ç±»ã€‚"),null;const a=r||s[0].name;let c=o.inputSettings.blocks.find(m=>m.name===a);if(!c&&(a==="å®Œæˆä»»åŠ¡"||a==="æœªå®Œæˆä»»åŠ¡")&&(c=o.inputSettings.blocks.find(m=>m.name.includes("ä»»åŠ¡"))),!c)return a==="å®Œæˆä»»åŠ¡"||a==="æœªå®Œæˆä»»åŠ¡"?new _e.Notice('å¿«æ·è¾“å…¥å¤±è´¥ï¼šæ‰¾ä¸åˆ°åç§°åŒ…å«"ä»»åŠ¡"çš„Blockæ¨¡æ¿ã€‚è¯·åœ¨è®¾ç½®ä¸­åˆ›å»ºä¸€ä¸ªä»»åŠ¡ç±»åž‹çš„æ¨¡æ¿ã€‚'):new _e.Notice(`å¿«æ·è¾“å…¥å¤±è´¥ï¼šæ‰¾ä¸åˆ°åä¸º "${a}" çš„Blockæ¨¡æ¿ã€‚`),null;let u;const d=e.filters||[],p=d.find(m=>m.field==="tags"&&m.op==="includes"&&typeof m.value=="string");if(p){const m=p.value,g=o.inputSettings.themes.find(v=>v.path===m);g&&(u=g.id)}const f={æ—¥æœŸ:t.format("YYYY-MM-DD"),å‘¨æœŸ:n},h=d.filter(m=>m.op==="="&&m.field!=="categoryKey");for(const m of h)for(const g of c.fields)if(m.field===g.key||m.field===g.label){f[g.key]=m.value;break}return{blockId:c.id,context:f,themeId:u}}getQuickInputConfigForNewTimer(){const e=this.settingsProvider.getSettings().inputSettings.blocks;return!e||e.length===0?(new _e.Notice("æ²¡æœ‰å¯ç”¨çš„Blockæ¨¡æ¿ï¼Œè¯·å…ˆåœ¨è®¾ç½®ä¸­åˆ›å»ºä¸€ä¸ªã€‚"),null):{blockId:e[0].id}}};Wl=D4([or(),Za(0,Ot(Lr)),Za(1,Ot(Do)),Za(2,Ot(yv)),Za(3,Ot(Zs))],Wl);var z4=Object.getOwnPropertyDescriptor,L4=(e,t,n,r)=>{for(var o=r>1?void 0:r?z4(t,n):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(o=s(o)||o);return o},Yg=(e,t)=>(n,r)=>t(n,r,e);let qs=class{constructor(e,t){this.dataStore=e,this.app=t}async getItemLine(e){const{path:t,lineNo:n}=this.parseItemId(e),r=this.app.vault.getAbstractFileByPath(t);if(!(r instanceof _e.TFile))throw new Error(`æ‰¾ä¸åˆ°æ¡ç›®æ–‡ä»¶: ${t}`);const i=(await this.app.vault.read(r)).split(`
`);if(n>i.length)throw new Error(`æ–‡ä»¶ ${t} çš„è¡Œå· ${n} è¶…å‡ºèŒƒå›´ã€‚`);return i[n-1]}async updateItemLine(e,t,n,r){const o=this.app.vault.getAbstractFileByPath(e);if(!(o instanceof _e.TFile))throw new Error(`æ‰¾ä¸åˆ°æ–‡ä»¶: ${e}`);const s=(await this.app.vault.read(o)).split(`
`);s[t-1]=n,r&&s.splice(t,0,r),await this.app.vault.modify(o,s.join(`
`)),this.dataStore.scanFile(o).then(()=>this.dataStore.notifyChange())}async completeItem(e,t){const{path:n,lineNo:r}=this.parseItemId(e),o=await this.getItemLine(e);if(t){const{completedLine:s,nextTaskLine:a}=za(o,Aa(),t.endTime||fs(),t);await this.updateItemLine(n,r,s,a);return}const i=this.dataStore.queryItems().find(s=>s.id===e);if(i&&i.duration){const s=i.duration,a=fs(),c=Cn(a);if(c!==null){const u=c-s,d=Tn(u),p={duration:s,startTime:d,endTime:a},{completedLine:f,nextTaskLine:h}=za(o,Aa(),a,p);await this.updateItemLine(n,r,f,h)}else{const{completedLine:u,nextTaskLine:d}=za(o,Aa(),fs());await this.updateItemLine(n,r,u,d)}}else{const{completedLine:s,nextTaskLine:a}=za(o,Aa(),fs());await this.updateItemLine(n,r,s,a)}}async updateItemTime(e,t){const{path:n,lineNo:r}=this.parseItemId(e);let o=await this.getItemLine(e);t.time!==void 0&&(o=this.upsertKvTag(o,"æ—¶é—´",t.time)),t.endTime!==void 0&&(o=this.upsertKvTag(o,"ç»“æŸ",t.endTime)),t.duration!==void 0&&(o=this.upsertKvTag(o,"æ—¶é•¿",String(t.duration))),await this.updateItemLine(n,r,o)}parseItemId(e){const t=e.lastIndexOf("#");if(t===-1)throw new Error(`æ— æ•ˆçš„æ¡ç›®IDæ ¼å¼: ${e}`);const n=e.substring(0,t),r=parseInt(e.substring(t+1),10);if(isNaN(r))throw new Error(`æ— æ•ˆçš„æ¡ç›®è¡Œå·: ${e}`);return{path:n,lineNo:r}}upsertKvTag(e,t,n){const r=new RegExp(`([(\\[]\\s*${t}::\\s*)[^\\)\\]]*(\\s*[\\)\\]])`);return r.test(e)?e.replace(r,`$1${n}$2`):`${e.trim()} (${t}:: ${n})`}};qs=L4([or(),Yg(0,Ot(Do)),Yg(1,Ot(Lr))],qs);var N4=Object.getOwnPropertyDescriptor,F4=(e,t,n,r)=>{for(var o=r>1?void 0:r?N4(t,n):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(o=s(o)||o);return o},ls=(e,t)=>(n,r)=>t(n,r,e);let Vl=class{constructor(e,t,n,r,o){this.timerStore=e,this.dataStore=t,this.itemService=n,this.inputService=r,this.app=o}async startOrResume(e){const t=this.timerStore.getTimers();for(const r of t)r.status==="running"&&await this.pause(r.id);const n=t.find(r=>r.taskId===e);if(n&&n.status==="paused")await this.resume(n.id);else if(!n){if(!this.dataStore.queryItems().find(o=>o.id===e)){new _e.Notice("æ‰¾ä¸åˆ°è¦è®¡æ—¶çš„ä»»åŠ¡");return}new _e.Notice("è®¡æ—¶å¼€å§‹ã€‚"),await this.timerStore.addTimer({taskId:e,startTime:Date.now(),elapsedSeconds:0,status:"running"})}}async pause(e){const t=this.timerStore.getTimers().find(n=>n.id===e);if(t&&t.status==="running"){const n=(Date.now()-t.startTime)/1e3;await this.timerStore.updateTimer({...t,elapsedSeconds:t.elapsedSeconds+n,status:"paused"})}}async resume(e){const t=this.timerStore.getTimers();for(const r of t)r.id!==e&&r.status==="running"&&await this.pause(r.id);const n=t.find(r=>r.id===e);n&&n.status==="paused"&&await this.timerStore.updateTimer({...n,startTime:Date.now(),status:"running"})}async stopAndApply(e){const t=this.timerStore.getTimers().find(o=>o.id===e);if(!t)return;let n=t.elapsedSeconds;t.status==="running"&&(n+=(Date.now()-t.startTime)/1e3);const r=Math.ceil(n/60);try{if(!this.dataStore.queryItems().find(u=>u.id===t.taskId)){new _e.Notice("é”™è¯¯ï¼šæ‰¾ä¸åˆ°åŽŸå§‹ä»»åŠ¡ï¼Œå¯èƒ½å·²è¢«ç§»åŠ¨æˆ–åˆ é™¤ã€‚è®¡æ—¶æ—¶é•¿æ— æ³•ä¿å­˜ã€‚"),await this.timerStore.removeTimer(e);return}const i=fs(),s=Cn(i);let a;if(s!==null&&r>0){const u=s-r;a=Tn(u)}const c=await this.itemService.getItemLine(t.taskId);c&&/^\s*-\s*\[ \]\s*/.test(c)?(await this.itemService.completeItem(t.taskId,{duration:r,startTime:a,endTime:i}),new _e.Notice(`ä»»åŠ¡å·²å®Œæˆï¼Œæ—¶é•¿ ${r} åˆ†é’Ÿå·²è®°å½•ã€‚`)):(await this.itemService.updateItemTime(t.taskId,{duration:r,time:a,endTime:i}),new _e.Notice(`ä»»åŠ¡æ—¶é•¿å·²æ›´æ–°ä¸º ${r} åˆ†é’Ÿã€‚`))}catch(o){new _e.Notice(`é”™è¯¯ï¼šæ›´æ–°ä»»åŠ¡å¤±è´¥ - ${o.message}`),console.error("TimerService Error:",o)}await this.timerStore.removeTimer(e)}async cancel(e){await this.timerStore.removeTimer(e),new _e.Notice("è®¡æ—¶ä»»åŠ¡å·²å–æ¶ˆã€‚")}async createNewTaskAndStart(e){const{template:t,formData:n,theme:r}=e;try{const o=await this.inputService.executeTemplate(t,n,r),i=this.app.vault.getAbstractFileByPath(o);if(i instanceof _e.TFile){const s=await this.dataStore.scanFile(i);if(s.length>0){const a=s.sort((c,u)=>(u.file?.line||0)-(c.file?.line||0))[0];this.startOrResume(a.id)}else new _e.Notice("ä»»åŠ¡å†…å®¹å·²åˆ›å»ºï¼Œä½†æœªè¯†åˆ«ä¸ºå¯è®¡æ—¶çš„ä»»åŠ¡é¡¹ã€‚")}else new _e.Notice("ä»»åŠ¡å·²åˆ›å»ºï¼Œä½†æ— æ³•åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­ç«‹å³æ‰¾åˆ°å®ƒä»¥å¼€å§‹è®¡æ—¶ã€‚"),this.dataStore.notifyChange()}catch(o){new _e.Notice(`åˆ›å»ºä»»åŠ¡å¤±è´¥: ${o.message}`),console.error(o)}}};Vl=F4([or(),ls(0,Ot(Ms)),ls(1,Ot(Do)),ls(2,Ot(qs)),ls(3,Ot(Zs)),ls(4,Ot(Lr))],Vl);var B4=Object.getOwnPropertyDescriptor,W4=(e,t,n,r)=>{for(var o=r>1?void 0:r?B4(t,n):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(o=s(o)||o);return o},ti=(e,t)=>(n,r)=>t(n,r,e);let Ad=class{constructor(e,t,n,r,o,i){this.app=e,this.dataStore=t,this.appStore=n,this.actionService=r,this.itemService=o,this.timerService=i,this.appStore.subscribe(()=>this.rerenderAll()),this.isInitialized=!0}isInitialized=!1;activeLayouts=[];register(e,t){this.unregister(e),er(Kt(jg,{layout:t,dataStore:this.dataStore,app:this.app,actionService:this.actionService,itemService:this.itemService,timerService:this.timerService}),e),this.activeLayouts.push({container:e,layoutName:t.name})}unregister(e){const t=this.activeLayouts.findIndex(n=>n.container===e);if(t>-1){try{er(null,e)}catch{}e.empty(),this.activeLayouts.splice(t,1)}}rerenderAll(){if(!this.isInitialized)return;const e=this.appStore.getSettings();for(const t of[...this.activeLayouts]){const{container:n,layoutName:r}=t,o=e.layouts.find(i=>i.name===r);o?er(Kt(jg,{layout:o,dataStore:this.dataStore,app:this.app,actionService:this.actionService,itemService:this.itemService,timerService:this.timerService}),n):(this.unregister(n),n.createDiv({text:`å¸ƒå±€é…ç½® "${r}" å·²è¢«åˆ é™¤ã€‚`}))}}cleanup(){[...this.activeLayouts].forEach(e=>this.unregister(e.container)),this.activeLayouts=[]}};Ad=W4([or(),ti(0,Ot(Lr)),ti(1,Ot(Do)),ti(2,Ot(Oi)),ti(3,Ot(Wl)),ti(4,Ot(qs)),ti(5,Ot(Vl))],Ad);const V4=rt(l("path",{d:"M6 6h12v12H6z"})),H4=rt(l("path",{d:"M6 19h4V5H6zm8-14v14h4V5z"})),U4=rt(l("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}));function j4({timer:e,actionService:t,timerService:n,dataStore:r,app:o}){const[i,s]=U("00:00:00"),a=r.queryItems().find(u=>u.id===e.taskId);ae(()=>{let u=null;const d=()=>{const f=(Date.now()-e.startTime)/1e3,h=e.elapsedSeconds+f;s(Em(h))};return e.status==="running"?(d(),u=window.setInterval(d,1e3)):s(Em(e.elapsedSeconds)),()=>{u&&window.clearInterval(u)}},[e]);const c=()=>{if(a){const u=t.getQuickInputConfigForTaskEdit(a.id);u&&new Uo(o,u.blockId,u.context).open()}};return l(de,{sx:{display:"flex",alignItems:"center",gap:"8px",width:"100%"},children:[l(vt,{title:`ç‚¹å‡»è·³è½¬: ${a?.title}`,children:l("a",{href:a?Yi(a,o):"#",style:{flexGrow:1,minWidth:0,textDecoration:"none",color:"inherit",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:l(oe,{variant:"body2",noWrap:!0,children:a?.title||"ä»»åŠ¡å·²ä¸å­˜åœ¨"})})}),l(oe,{variant:"body2",sx:{fontFamily:"monospace"},children:i}),e.status==="running"?l(vt,{title:"æš‚åœ",children:l(ht,{size:"small",onClick:()=>n.pause(e.id),children:l(H4,{fontSize:"inherit"})})}):l(vt,{title:"ç»§ç»­",children:l(ht,{size:"small",onClick:()=>n.resume(e.id),color:"primary",children:l(H0,{fontSize:"inherit"})})}),l(vt,{title:"åœæ­¢å¹¶è®°å½•",children:l(ht,{size:"small",onClick:()=>n.stopAndApply(e.id),children:l(V4,{fontSize:"inherit"})})}),l(vt,{title:"ç¼–è¾‘ä»»åŠ¡",children:l(ht,{size:"small",onClick:c,children:l(Hp,{fontSize:"inherit"})})}),l(vt,{title:"å–æ¶ˆä»»åŠ¡",children:l(ht,{size:"small",onClick:()=>n.cancel(e.id),color:"error",children:l(U4,{fontSize:"inherit"})})})]})}const Gg=e=>e instanceof MouseEvent?{x:e.clientX,y:e.clientY}:e.touches&&e.touches.length>0?{x:e.touches[0].clientX,y:e.touches[0].clientY}:null;function Y4({app:e,actionService:t,timerService:n,dataStore:r}){const o=pn(h=>h.timer.getTimers()),i=pn(h=>h.isTimerWidgetVisible),[s,a]=Pb("think-timer-position",{x:window.innerWidth-350,y:100}),c=te({x:0,y:0,panelX:0,panelY:0}),u=Te(h=>{h.preventDefault();const m=Gg(h);if(!m)return;const g=m.x-c.current.x,v=m.y-c.current.y;a({x:c.current.panelX+g,y:c.current.panelY+v})},[]),d=Te(()=>{window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",d),window.removeEventListener("touchmove",u),window.removeEventListener("touchend",d)},[u]),p=Te(h=>{const m=Gg(h);m&&(c.current={x:m.x,y:m.y,panelX:s.x,panelY:s.y},window.addEventListener("mousemove",u),window.addEventListener("mouseup",d),window.addEventListener("touchmove",u,{passive:!1}),window.addEventListener("touchend",d))},[s,u,d]),f=()=>{const h=t.getQuickInputConfigForNewTimer();if(h){const m=g=>{n.createNewTaskAndStart(g)};new Uo(e,h.blockId,h.context,void 0,m).open()}};return l(br,{elevation:4,sx:{position:"fixed",top:`${s.y}px`,left:`${s.x}px`,zIndex:9999,userSelect:"none",minWidth:"320px",display:i?"block":"none"},children:l(qe,{children:[l(de,{sx:{display:"flex",alignItems:"center",p:"4px 8px",borderBottom:"1px solid",borderColor:"divider"},children:[l(de,{onMouseDown:p,onTouchStart:p,sx:{cursor:"move",display:"flex",alignItems:"center"},children:l(n0,{sx:{color:"text.disabled",fontSize:"1.2rem"}})}),l(oe,{sx:{flexGrow:1,fontWeight:"bold",ml:1},children:"ä»»åŠ¡è®¡æ—¶å™¨"}),l(vt,{title:"å¼€å§‹æ–°ä»»åŠ¡",children:l(Ze,{size:"small",startIcon:l(Ao,{}),onClick:f,children:"æ–°ä»»åŠ¡"})})]}),l(qe,{spacing:1,sx:{p:"8px",maxHeight:"400px",overflowY:"auto"},children:o.length>0?o.map(h=>l(j4,{timer:h,actionService:t,timerService:n,dataStore:r,app:e},h.id)):l(oe,{variant:"body2",color:"text.secondary",sx:{textAlign:"center",p:2},children:"æ²¡æœ‰æ­£åœ¨è®¡æ—¶çš„ä»»åŠ¡"})})]})})}class G4{plugin;containerEl=null;constructor(t){this.plugin=t}load(){this.containerEl=document.createElement("div"),this.containerEl.id="think-plugin-floating-timer-container",document.body.appendChild(this.containerEl),this.render()}unload(){this.containerEl&&(Rr(this.containerEl),this.containerEl.remove())}render(){if(!this.containerEl||!this.plugin.actionService||!this.plugin.timerService||!this.plugin.dataStore)return;const t=Kt(Y4,{app:this.plugin.app,actionService:this.plugin.actionService,timerService:this.plugin.timerService,dataStore:this.plugin.dataStore});er(t,this.containerEl)}}function K4(e,t){const n=t.getSettings().inputSettings;if(!n||!n.blocks||n.blocks.length===0){console.log("ThinkPlugin: No Block Templates found to register commands.");return}const{blocks:r}=n;r.forEach(o=>{e.addCommand({id:`think-quick-input-unified-${o.id}`,name:`å¿«é€Ÿå½•å…¥ - ${o.name}`,callback:()=>{new Uo(e.app,o.id).open()}})})}function Z4(e){K4(e.plugin,e.appStore)}const q4=rt(l("path",{d:"M20 9V7c0-1.1-.9-2-2-2h-3c0-1.66-1.34-3-3-3S9 3.34 9 5H6c-1.1 0-2 .9-2 2v2c-1.66 0-3 1.34-3 3s1.34 3 3 3v4c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-4c1.66 0 3-1.34 3-3s-1.34-3-3-3M7.5 11.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S9.83 13 9 13s-1.5-.67-1.5-1.5M16 17H8v-2h8zm-1-4c-.83 0-1.5-.67-1.5-1.5S14.17 10 15 10s1.5.67 1.5 1.5S15.83 13 15 13"}));function X4({onSubmit:e,onCancel:t,isLoading:n}){const[r,o]=U(""),i=()=>{r.trim()&&e(r.trim())};return l(de,{sx:{p:2,minWidth:400},children:[l(de,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[l(qe,{direction:"row",spacing:1,alignItems:"center",children:[l(q4,{color:"primary"}),l(oe,{variant:"h6",children:"AI è‡ªç„¶è¯­è¨€å¿«é€Ÿè®°å½•"})]}),l(vt,{title:"å…³é—­",children:l(ht,{onClick:t,size:"small",children:l(Bi,{})})})]}),l(oe,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"ç”¨è‡ªç„¶è¯­è¨€æè¿°ä½ æƒ³è®°å½•çš„å†…å®¹ï¼ŒAI ä¼šè‡ªåŠ¨è¯†åˆ«å¹¶å¡«å……ç›¸åº”å­—æ®µã€‚"}),l(pt,{fullWidth:!0,multiline:!0,rows:4,placeholder:"ä¾‹å¦‚ï¼šä»Šå¤©æ—©ä¸Š9ç‚¹åˆ°11ç‚¹å­¦ä¹ äº†2å°æ—¶è‹±è¯­ï¼Œæ„Ÿè§‰å¾ˆå¥½",value:r,onChange:a=>o(a.target.value),onKeyDown:a=>{(a.ctrlKey||a.metaKey)&&a.key==="Enter"&&(a.preventDefault(),i()),a.key==="Escape"&&(a.preventDefault(),t())},autoFocus:!0,disabled:n,sx:{mb:2}}),l(oe,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:2},children:"æç¤ºï¼šæŒ‰ Ctrl+Enter å¿«é€Ÿæäº¤"}),l(qe,{direction:"row",spacing:1,justifyContent:"flex-end",children:[l(Ze,{onClick:t,disabled:n,children:"å–æ¶ˆ"}),l(Ze,{variant:"contained",onClick:i,disabled:!r.trim()||n,startIcon:n?l(dc,{size:16}):void 0,children:n?"è§£æžä¸­...":"è§£æž"})]})]})}class J4 extends _e.Modal{resolvePromise=null;isLoading=!1;constructor(t){super(t)}openAndGetValue(){return new Promise(t=>{this.resolvePromise=t,this.open()})}setLoading(t){this.isLoading=t,this.renderContent()}onOpen(){this.contentEl.empty(),this.modalEl.addClass("think-ai-prompt-modal"),this.renderContent()}renderContent(){this.contentEl.empty(),Fo(l(X4,{onSubmit:t=>{this.resolvePromise&&(this.resolvePromise(t),this.resolvePromise=null),this.close()},onCancel:()=>{this.resolvePromise&&(this.resolvePromise(null),this.resolvePromise=null),this.close()},isLoading:this.isLoading}),this.contentEl)}onClose(){this.resolvePromise&&(this.resolvePromise(null),this.resolvePromise=null),Rr(this.contentEl)}}const Q4=rt(l("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}));class eW extends _e.Modal{constructor(t,n,r){super(t),this.items=n,this.onComplete=r}onOpen(){this.contentEl.empty(),this.modalEl.addClass("think-ai-batch-confirm-modal"),this.modalEl.style.width="90vw",this.modalEl.style.maxWidth="900px",this.modalEl.style.height="80vh",Fo(l(tW,{app:this.app,items:this.items,closeModal:()=>this.close(),onComplete:this.onComplete}),this.contentEl)}onClose(){Rr(this.contentEl)}}function Kg(e,t,n){const r=e.blocks.find(i=>i.id===t);if(!r)return{template:null,theme:null};const o=e.themes.find(i=>i.id===n)||null;if(n){const i=e.overrides.find(s=>s.blockId===t&&s.themeId===n);if(i&&!i.disabled)return{template:{...r,fields:i.fields??r.fields,outputTemplate:i.outputTemplate??r.outputTemplate,targetFile:i.targetFile??r.targetFile,appendUnderHeader:i.appendUnderHeader??r.appendUnderHeader},theme:o}}return{template:r,theme:o}}const ew=(e,t)=>{for(const n of e){if(n.themeId===t)return[n];if(n.children.length>0){const r=ew(n.children,t);if(r.length>0)return[n,...r]}}return[]},tw=(e,t,n,r=0)=>{const o=t[r-1],i=o?o.themeId:null;return l("div",{children:[l(Ni,{row:!0,value:t[r]?.themeId||"",children:e.map(s=>l(on,{value:s.themeId,disabled:!s.themeId,control:l(oo,{onClick:()=>s.themeId&&n(s.themeId,i),size:"small"}),label:s.name},s.id))}),t[r]&&t[r].children.length>0&&l("div",{style:{paddingLeft:"20px"},children:tw(t[r].children,t,n,r+1)})]})};function tW({app:e,items:t,closeModal:n,onComplete:r}){const o=pn(_=>_.settings.inputSettings),i=o.blocks||[],s=o.themes||[],[a,c]=U(()=>t.map((_,$)=>{let R=i.find(A=>A.id===_.target.blockId);R||(R=i.find(A=>A.name===_.target.blockId)),!R&&i.length>0&&(R=i[0]);let M;if(_.target.themeId){const A=s.find(D=>D.id===_.target.themeId||D.path===_.target.themeId);A&&(M=A.id)}return!M&&s.length>0&&(M=s[0].id),{id:`record-${$}`,cmd:_,blockId:R?.id||"",themeId:M,formData:{..._.fieldValues},saved:!1,skipped:!1}})),[u,d]=U(0),p=a[u],{template:f,theme:h,themeTree:m,themeIdMap:g}=ie(()=>{if(!p)return{template:null,theme:null,themeTree:[],themeIdMap:new Map};const{template:_,theme:$}=Kg(o,p.blockId,p.themeId),R=new Set;o.overrides.forEach(z=>{z.blockId===p.blockId&&z.disabled&&R.add(z.themeId)});const M=s.filter(z=>!R.has(z.id)),A=U0(M),D=new Map(s.map(z=>[z.id,z]));return{template:_,theme:$,themeTree:A,themeIdMap:D}},[o,p?.blockId,p?.themeId]),v=_=>{c($=>$.map((R,M)=>M===u?{...R,..._}:R))},b=(_,$,R=!1)=>{const M={...p.formData,[_]:R?{value:$.value,label:$.label}:$,lastChanged:_};v({formData:M})},S=_=>{if(_===p.blockId)return;const $={};["å†…å®¹","content","æ—¥æœŸ","date","æ—¶é—´","time","å¤‡æ³¨","note","description"].forEach(M=>{p.formData[M]!==void 0&&($[M]=p.formData[M])}),v({blockId:_,formData:$})},y=(_,$)=>{const R=p.themeId===_?$:_;v({themeId:R||void 0})},w=async()=>{if(!f||!Qr){new _e.Notice("ä¿å­˜å¤±è´¥ï¼šæ¨¡æ¿æˆ–æœåŠ¡æœªåˆå§‹åŒ–");return}const _={...p.formData},$=Cn(_.æ—¶é—´),R=Cn(_.ç»“æŸ);let M=isNaN(parseInt(_.æ—¶é•¿))?null:parseInt(_.æ—¶é•¿);if($!==null&&R!==null){let D=R-$;D<0&&(D+=1440),_.æ—¶é•¿=D}else $!==null&&M!==null?_.ç»“æŸ=Tn($+M):R!==null&&M!==null&&(_.æ—¶é—´=Tn(R-M));const A=p.themeId?g.get(p.themeId):void 0;try{await Qr.executeTemplate(f,_,A),v({saved:!0}),new _e.Notice(`âœ… ç¬¬ ${u+1} æ¡å·²ä¿å­˜`),Wr?.notifyChange?.();const D=a.findIndex((z,W)=>W>u&&!z.saved&&!z.skipped);D>=0&&d(D)}catch(D){new _e.Notice(`âŒ ä¿å­˜å¤±è´¥: ${D.message||D}`,1e4)}},k=()=>{v({skipped:!0});const _=a.findIndex(($,R)=>R>u&&!$.saved&&!$.skipped);_>=0&&d(_)},C=async()=>{for(let _=0;_<a.length;_++){const $=a[_];if($.saved||$.skipped)continue;d(_);const{template:R}=Kg(o,$.blockId,$.themeId);if(!R||!Qr)continue;const M={...$.formData},A=$.themeId?g.get($.themeId):void 0;try{await Qr.executeTemplate(R,M,A),c(D=>D.map((z,W)=>W===_?{...z,saved:!0}:z))}catch(D){new _e.Notice(`âŒ ç¬¬ ${_+1} æ¡ä¿å­˜å¤±è´¥: ${D.message||D}`)}}new _e.Notice("âœ… æ‰¹é‡ä¿å­˜å®Œæˆ"),Wr?.notifyChange?.()},T=()=>{const _=a.filter(R=>R.saved).length,$=a.filter(R=>R.skipped).length;new _e.Notice(`å®Œæˆï¼šå·²ä¿å­˜ ${_} æ¡ï¼Œè·³è¿‡ ${$} æ¡`),r?.(),n()},I=a.filter(_=>_.saved).length,E=a.filter(_=>_.skipped).length,O=a.length-I-E,P=_=>{const $=p.formData,R=typeof $[_.key]=="object"&&$[_.key]!==null,M=R?$[_.key]?.value:$[_.key],A=_.label||_.key;switch(_.type){case"rating":return l(xn,{component:"fieldset",children:[l(oe,{variant:"body2",sx:{fontWeight:500},children:A}),l(qe,{direction:"row",spacing:1,sx:{mt:1},children:(_.options||[]).map(D=>{const z=R&&$[_.key]?.label===D.label&&$[_.key]?.value===D.value,W=D.value&&(D.value.endsWith(".png")||D.value.endsWith(".jpg")||D.value.endsWith(".svg"));let B;if(W){const Y=e.vault.adapter.getResourcePath(D.value);B=l("img",{src:Y,alt:D.label,style:{width:"24px",height:"24px",objectFit:"contain"}})}else B=l("span",{style:{fontSize:"20px"},children:D.value});return l(Ze,{variant:"text",onClick:()=>b(_.key,{value:D.value,label:D.label},!0),title:`è¯„åˆ†: ${D.label}`,sx:{minWidth:"40px",height:"40px",p:1,opacity:z?1:.5,border:z?"2px solid var(--interactive-accent)":"1px solid transparent",borderRadius:"8px",transition:"all 0.2s ease","&:hover":{opacity:1}},children:B},D.label)})})]});case"radio":case"select":if(_.type==="radio"){const D=$[_.key],z=_.options?.findIndex(W=>W.value===D?.value&&W.label===D?.label)??-1;return l(xn,{component:"fieldset",children:[l(oe,{variant:"body2",sx:{fontWeight:500},children:A}),l(Ni,{row:!0,value:z>-1?String(z):"",onChange:W=>{const B=parseInt(W.target.value,10),Y=_.options?.[B];Y&&b(_.key,{value:Y.value,label:Y.label||Y.value},!0)},children:(_.options||[]).map((W,B)=>l(on,{value:String(B),control:l(oo,{}),label:W.label||W.value},B))})]})}else{const D=(_.options||[]).map(z=>({value:z.value,label:z.label||z.value}));return l(xn,{fullWidth:!0,children:[l(oe,{variant:"body2",sx:{fontWeight:500,mb:.5},children:A}),l(Qn,{value:M||"",options:D,placeholder:`-- é€‰æ‹© ${A} --`,onChange:z=>{const W=_.options?.find(B=>B.value===z);W&&b(_.key,{value:W.value,label:W.label||W.value},!0)}})]})}default:{const z={className:"think-native-input",value:M||"",onInput:W=>{const B=W.target;B&&b(_.key,B.value)},onKeyDown:W=>W.stopPropagation()};return l("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:[l("label",{style:{fontWeight:500,fontSize:"0.875rem",marginBottom:"4px"},children:A}),_.type==="textarea"?l("textarea",{...z,rows:3}):l("input",{...z,type:_.type==="text"?"text":_.type,min:_.min,max:_.max})]})}}};if(!p||!f)return l("div",{children:"æ²¡æœ‰å¯å¤„ç†çš„è®°å½•"});const x=p.themeId?ew(m,p.themeId):[];return i.find(_=>_.id===p.blockId),l(de,{sx:{display:"flex",height:"100%",overflow:"hidden"},children:[l(de,{sx:{width:"200px",borderRight:"1px solid var(--background-modifier-border)",display:"flex",flexDirection:"column",flexShrink:0},children:[l(de,{sx:{p:1.5,borderBottom:"1px solid var(--background-modifier-border)"},children:[l(oe,{variant:"subtitle2",sx:{fontWeight:600},children:"AI è¯†åˆ«ç»“æžœ"}),l(oe,{variant:"caption",color:"text.secondary",children:["å…± ",a.length," æ¡ Â· å·²ä¿å­˜ ",I]})]}),l(xc,{sx:{flex:1,overflow:"auto",py:0},children:a.map((_,$)=>{const R=i.find(A=>A.id===_.blockId),M=$===u;return l(Cc,{selected:M,onClick:()=>d($),sx:{py:1,opacity:_.skipped?.5:1,bgcolor:M?"action.selected":"transparent"},children:[l(VE,{sx:{minWidth:32},children:_.saved?l(Eb,{color:"success",fontSize:"small"}):_.skipped?l(Vp,{color:"disabled",fontSize:"small"}):l(Q4,{color:"action",fontSize:"small"})}),l(kc,{primary:l(oe,{variant:"body2",noWrap:!0,sx:{fontWeight:M?600:400},children:R?.name||"æœªçŸ¥ç±»åž‹"}),secondary:l(oe,{variant:"caption",noWrap:!0,color:"text.secondary",children:_.cmd.fieldValues?.å†…å®¹?.slice(0,20)||_.cmd.rawText?.slice(0,20)||`è®°å½• ${$+1}`})})]},_.id)})}),l(de,{sx:{p:1.5,borderTop:"1px solid var(--background-modifier-border)"},children:l(Ze,{fullWidth:!0,variant:"outlined",size:"small",onClick:C,disabled:O===0,children:["ä¿å­˜å…¨éƒ¨ (",O,")"]})})]}),l(de,{sx:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[l(de,{sx:{p:2,borderBottom:"1px solid var(--background-modifier-border)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l(de,{children:[l(oe,{variant:"h6",sx:{fontWeight:600},children:["ç¼–è¾‘ç¬¬ ",u+1," æ¡è®°å½•"]}),p.saved&&l(Wn,{label:"å·²ä¿å­˜",color:"success",size:"small",sx:{ml:1}}),p.skipped&&l(Wn,{label:"å·²è·³è¿‡",color:"default",size:"small",sx:{ml:1}})]}),l(ht,{onClick:n,size:"small",children:l(Bi,{})})]}),l(de,{sx:{flex:1,overflow:"auto",p:2},children:[l(xn,{fullWidth:!0,sx:{mb:2},children:[l(oe,{variant:"body2",sx:{fontWeight:600,mb:1},children:"è®°å½•ç±»åž‹"}),l(de,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:i.map(_=>{const $=p.blockId===_.id;return l(Ze,{variant:$?"contained":"text",size:"small",onClick:()=>S(_.id),sx:{minWidth:"auto",px:2,py:.5,fontSize:"0.875rem",border:$?"2px solid var(--interactive-accent)":"1px solid var(--background-modifier-border)",fontWeight:$?600:400,bgcolor:$?"var(--interactive-accent)":"transparent",color:$?"white":"inherit","&:hover":{bgcolor:$?"var(--interactive-accent)":"var(--background-modifier-hover)"}},children:_.name},_.id)})})]}),m.length>0&&l(xn,{component:"fieldset",sx:{mb:2,width:"100%"},children:[l(oe,{variant:"body2",sx:{fontWeight:600,mb:1},children:"ä¸»é¢˜åˆ†ç±»"}),l(de,{sx:{maxHeight:"100px",overflowY:"auto",border:"1px solid var(--background-modifier-border)",borderRadius:1,p:1},children:tw(m,x,y)})]}),l(dn,{sx:{my:2}}),l(qe,{spacing:2,children:f.fields.map(_=>l("div",{children:P(_)},_.id))})]}),l(de,{sx:{p:2,borderTop:"1px solid var(--background-modifier-border)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l(Ze,{variant:"text",color:"inherit",onClick:k,disabled:p.saved||p.skipped,children:"è·³è¿‡æ­¤æ¡"}),l(de,{sx:{display:"flex",gap:1},children:[l(Ze,{variant:"contained",onClick:w,disabled:p.saved,children:p.saved?"å·²ä¿å­˜":"ä¿å­˜æ­¤æ¡"}),l(Ze,{variant:"outlined",onClick:T,children:"å®Œæˆ"})]})]})]})]})}function nW(e,t){const n=new rz(t),r=new Qp,o=new iz(t,n,r);e.addCommand({id:"think-ai-natural-input",name:"AI: è‡ªç„¶è¯­è¨€å¿«é€Ÿè®°å½•",callback:async()=>{const i=t.getSettings(),s=i.aiSettings;if(!s?.enabled){new _e.Notice("AI å¿«é€Ÿè®°å½•æœªå¯ç”¨ï¼Œè¯·åœ¨è®¾ç½®ä¸­å¼€å¯",4e3);return}if(!s.apiEndpoint||!s.apiKey||!s.model){new _e.Notice("AI é…ç½®ä¸å®Œæ•´ï¼Œè¯·åœ¨è®¾ç½®ä¸­é…ç½® API ç«¯ç‚¹ã€å¯†é’¥å’Œæ¨¡åž‹",5e3);return}if((i.inputSettings?.blocks??[]).length===0){new _e.Notice('æ²¡æœ‰å¯ç”¨çš„ Block æ¨¡æ¿ï¼Œè¯·å…ˆåœ¨"å¿«é€Ÿè¾“å…¥"è®¾ç½®ä¸­åˆ›å»º',5e3);return}const u=await new J4(e.app).openAndGetValue();if(!u?.trim())return;const d=new _e.Notice("AI æ­£åœ¨è§£æž...",0);try{const p=await o.parse({text:u,now:new Date});if(d.hide(),!p.items?.length){new _e.Notice("AI æœªèƒ½è¯†åˆ«å‡ºå¯è®°å½•å†…å®¹ï¼Œè¯·æ¢ç§è¯´æ³•å†è¯•",5e3);return}new _e.Notice(`AI è¯†åˆ«å‡º ${p.items.length} æ¡è®°å½•`,2e3),new eW(e.app,p.items).open()}catch(p){d.hide(),console.error("AI è§£æžå¤±è´¥:",p),new _e.Notice(`AI è§£æžå¤±è´¥ï¼š${p?.message??p}`,6e3)}}})}function rW(e){nW(e.plugin,e.appStore)}class oW{plugin;appStore;dataStore;rendererService;actionService;constructor(t,n,r,o,i){this.plugin=t,this.appStore=n,this.dataStore=r,this.rendererService=o,this.actionService=i}async loadFeatures(t){console.time("[ThinkPlugin] UIç‰¹æ€§åŠ è½½"),await this.loadDashboardFeature(t),this.loadSettingsFeature(),this.loadQuickInputFeature(),this.loadAiInputFeature(),console.timeEnd("[ThinkPlugin] UIç‰¹æ€§åŠ è½½")}async loadDashboardFeature(t){t&&await t,console.time("[ThinkPlugin] Dashboardç‰¹æ€§åŠ è½½"),_4?.({plugin:this.plugin,appStore:this.appStore,dataStore:this.dataStore,rendererService:this.rendererService,actionService:this.actionService}),console.timeEnd("[ThinkPlugin] Dashboardç‰¹æ€§åŠ è½½")}loadSettingsFeature(){setTimeout(()=>{console.time("[ThinkPlugin] Settingsç‰¹æ€§åŠ è½½"),k4?.({app:this.plugin.app,plugin:this.plugin,appStore:this.appStore,dataStore:this.dataStore}),this.plugin.addCommand({id:"think-open-settings",name:"æ‰“å¼€ Think æ’ä»¶è®¾ç½®",callback:()=>{this.plugin.app.setting.open(),this.plugin.app.setting.openTabById(this.plugin.manifest.id)}}),console.timeEnd("[ThinkPlugin] Settingsç‰¹æ€§åŠ è½½")},150)}loadQuickInputFeature(){setTimeout(()=>{console.time("[ThinkPlugin] QuickInputç‰¹æ€§åŠ è½½"),Z4?.({plugin:this.plugin,appStore:this.appStore}),console.timeEnd("[ThinkPlugin] QuickInputç‰¹æ€§åŠ è½½")},100)}loadAiInputFeature(){setTimeout(()=>{console.time("[ThinkPlugin] AiInputç‰¹æ€§åŠ è½½"),rW?.({plugin:this.plugin,appStore:this.appStore}),console.timeEnd("[ThinkPlugin] AiInputç‰¹æ€§åŠ è½½")},120)}}class iW{plugin;scanDataPromise=null;services={};constructor(t){this.plugin=t}async bootstrap(){const t=ms("ServiceManager.bootstrap");await this.initializeCore(),await this.loadTimerServices(),await this.loadDataServices(),await this.loadUIFeatures();const n=t();console.log(`[ThinkPlugin] ServiceManager.bootstrap å®Œæˆ (æ€»è€—æ—¶: ${n.toFixed(2)}ms)`)}cleanup(){try{this.services.timerWidget?.unload(),this.services.rendererService?.cleanup(),this.services={},Sn.clearInstances(),console.log("[ThinkPlugin] ServiceManager æ¸…ç†å®Œæˆ")}catch(t){console.error("[ThinkPlugin] ServiceManager æ¸…ç†å¤±è´¥:",t)}}async initializeCore(){const t=ms("ServiceManager.initializeCore");return await gd(async()=>{this.services.appStore=Sn.resolve(Oi),this.services.timerStateService=Sn.resolve(pl),this.services.appStore.setPlugin(this.plugin);const n=t();console.log(`[ThinkPlugin] æ ¸å¿ƒæœåŠ¡åˆå§‹åŒ–å®Œæˆ (${n.toFixed(2)}ms)`)},"ServiceManager.initializeCore",{showNotice:!1})||void 0}async loadDataServices(){if(this.services.dataStore)return;const t=ms("ServiceManager.loadDataServices");this.services.dataStore=Sn.resolve(Do),this.services.rendererService=Sn.resolve(Ad),this.services.actionService=Sn.resolve(Wl),this.services.inputService=Sn.resolve(Zs),this.services.itemService=Sn.resolve(qs),zw(this.services.appStore),Lw(this.services.dataStore),Nw(this.services.timerService),Fw(this.services.inputService),this.scanDataInBackground();const n=t();console.log(`[ThinkPlugin] æ•°æ®æœåŠ¡åŠ è½½å®Œæˆ (${n.toFixed(2)}ms)`)}async scanDataInBackground(){return this.scanDataPromise?this.scanDataPromise:(this.scanDataPromise=new Promise(t=>{console.time("[ThinkPlugin] æ•°æ®æ‰«æ"),this.services.dataStore.initialScan().then(()=>{console.timeEnd("[ThinkPlugin] æ•°æ®æ‰«æ"),this.services.dataStore.notifyChange(),this.services.dataStore.writePerformanceReport("initialScan"),t()}).catch(n=>{console.error("[ThinkPlugin] æ•°æ®æ‰«æå¤±è´¥:",n),t()})}),this.scanDataPromise)}async loadTimerServices(){if(this.services.timerService)return;const t=ms("ServiceManager.loadTimerServices");await gd(async()=>{this.services.timerService=Sn.resolve(Vl),this.plugin.addCommand({id:"toggle-think-floating-timer",name:"åˆ‡æ¢æ‚¬æµ®è®¡æ—¶å™¨æ˜¾éš",callback:()=>{this.services.appStore.toggleTimerWidgetVisibility()}});const n=await this.services.timerStateService.loadStateFromFile();this.services.appStore.setInitialTimers(n),this.services.appStore.getSettings().floatingTimerEnabled&&(this.services.timerWidget=new G4(this.plugin),this.services.timerWidget.load());const o=t();console.log(`[ThinkPlugin] è®¡æ—¶å™¨æœåŠ¡åŠ è½½å®Œæˆ (${o.toFixed(2)}ms)`)},"ServiceManager.loadTimerServices",{showNotice:!0})}async loadUIFeatures(){if(!this.services.appStore||!this.services.dataStore||!this.services.rendererService||!this.services.actionService){console.error("[ThinkPlugin] UIç‰¹æ€§åŠ è½½å¤±è´¥: ä¾èµ–æœåŠ¡æœªå°±ç»ª");return}await new oW(this.plugin,this.services.appStore,this.services.dataStore,this.services.rendererService,this.services.actionService).loadFeatures(this.scanDataPromise)}get appStore(){if(!this.services.appStore)throw new Error("AppStore æœªåˆå§‹åŒ–");return this.services.appStore}get dataStore(){if(!this.services.dataStore)throw new Error("DataStore æœªåˆå§‹åŒ–");return this.services.dataStore}get timerService(){return this.services.timerService}get timerStateService(){return this.services.timerStateService}get timerWidget(){return this.services.timerWidget}getLoadingStatus(){return{coreLoaded:!!this.services.appStore&&!!this.services.timerStateService,timerLoaded:!!this.services.timerService,dataLoaded:!!this.services.dataStore&&!!this.services.rendererService,uiLoaded:!!this.services.dataStore&&!!this.services.rendererService}}async reloadService(t){if(console.log(`[ServiceManager] é‡æ–°åŠ è½½æœåŠ¡: ${t}`),this.services[t]){const n=this.services[t];typeof n.cleanup=="function"&&n.cleanup(),delete this.services[t]}switch(t){case"timerService":await this.loadTimerServices();break;case"dataStore":await this.loadDataServices();break;default:console.warn(`[ServiceManager] ä¸æ”¯æŒé‡æ–°åŠ è½½æœåŠ¡: ${t}`)}}}const sW=rt(l("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"})),aW=rt(l("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),Zg=rt(l("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"}));class lW{clear(t){t.empty()}async renderMessage(t){const{app:n,containerEl:r,content:o,contentType:i="markdown",sourcePath:s="",cls:a,component:c}=t;if(this.clear(r),a&&r.addClass(a),i==="plain"||i==="html"){this.renderPlainText(r,o);return}try{await this.renderMarkdown(n,r,o,s,c)}catch(u){console.warn("MessageRenderService: Markdown æ¸²æŸ“å¤±è´¥ï¼Œé™çº§ä¸ºçº¯æ–‡æœ¬",u),this.clear(r),this.renderPlainText(r,o)}}renderPlainText(t,n){const r=t.createEl("div",{cls:"message-render-plain"});r.style.whiteSpace="pre-wrap",r.style.wordBreak="break-word",r.textContent=n}async renderMarkdown(t,n,r,o,i){const s=n.createDiv({cls:"message-render-markdown"}),a=i??new _e.Component;i||a.load();try{await _e.MarkdownRenderer.render(t,r,s,o,a)}finally{i||a.unload()}}}let $u=null;function cW(){return $u||($u=new lW),$u}class uW extends _e.Modal{constructor(t){super(t)}onOpen(){this.contentEl.empty(),this.modalEl.addClass("think-ai-chat-modal"),this.modalEl.style.width="90vw",this.modalEl.style.maxWidth="1000px",this.modalEl.style.height="85vh",this.contentEl.addEventListener("keydown",t=>{t.stopPropagation()}),Fo(l(dW,{app:this.app,closeModal:()=>this.close()}),this.contentEl)}onClose(){Rr(this.contentEl)}}function dW({app:e,closeModal:t}){const n=pn(N=>N.settings),r=n.inputSettings?.themes??[],o=n.inputSettings?.blocks??[],i=n.aiSettings,s=ie(()=>{const N=[],ne=[...new Set(r.map(Ce=>Ce.path))].sort();return ne.forEach(Ce=>{const J=Ce.split("/").length-1,Se=ne.filter(we=>we.startsWith(Ce+"/"));N.push({path:Ce,depth:J,children:Se})}),N},[r]),a=ie(()=>WB(),[]),[c,u]=U([]),[d,p]=U(null),[f,h]=U([]),[m,g]=U(""),[v,b]=U(!1),[S,y]=U(null),[w,k]=U(!0),[C,T]=U([]),[I,E]=U(""),[O,P]=U(""),[x,_]=U(!1),$=te(null),R=te(null),M=()=>{const N=a.getRecentSessions(20);u(N)};ae(()=>{M();const N=a.subscribe(()=>{M(),d&&h(a.getMessages(d))}),V=Pd();return V.needsRebuild()&&(console.log("AiChatModal: æž„å»ºæ£€ç´¢ç´¢å¼•..."),V.buildIndex()),N},[]),ae(()=>{h(d?a.getMessages(d):[])},[d]),ae(()=>{R.current?.scrollIntoView({behavior:"smooth"})},[f]);const A=()=>{const N={};C.length>0&&(N.themePaths=C),I&&(N.types=[I]),O&&(N.blockTemplateIds=[O]);const V=a.createSession(void 0,N);p(V.id),g(""),y(null)},D=N=>{p(N),y(null);const V=a.getSession(N);V?.filters&&(T(V.filters.themePaths??[]),E(V.filters.types?.[0]??""),P(V.filters.blockTemplateIds?.[0]??""))},z=N=>{T(V=>V.includes(N)?V.filter(ne=>ne!==N&&!ne.startsWith(N+"/")):[...V,N])},W=N=>{const V=s.filter(ne=>ne.path.startsWith(N+"/")).map(ne=>ne.path);T(ne=>{const Ce=[N,...V];return Ce.every(J=>ne.includes(J))?ne.filter(J=>!Ce.includes(J)):[...new Set([...ne,...Ce])]})},B=(N,V)=>{V.stopPropagation(),a.deleteSession(N),d===N&&p(null)},Y=async()=>{if(!m.trim()||v)return;let N=d;N||(N=a.createSession().id,p(N));const V=m.trim();g(""),y(null),b(!0),a.appendMessage(N,"user",V);try{const ne=o5(),ve=a.getMessages(N).filter(we=>we.role!=="system").slice(0,-1).map(we=>({role:we.role,content:we.content})),J={};C.length>0&&(J.themePaths=C),I&&(J.types=[I]),O&&(J.blockTemplateIds=[O]);const Se=await ne.chat({userMessage:V,history:ve,enableRetrieval:w,retrievalFilters:J,retrievalLimit:10});a.appendMessage(N,"assistant",Se.content,{referencedItemIds:Se.referencedItemIds,model:Se.model,retrievalCount:Se.retrievalCount})}catch(ne){console.error("AiChatModal: å‘é€å¤±è´¥",ne),y(ne.message||"å‘é€å¤±è´¥"),a.appendMessage(N,"system",`âŒ é”™è¯¯: ${ne.message||"å‘é€å¤±è´¥"}`)}finally{b(!1)}},K=N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),Y())},q=d?a.getSession(d):null;return i?.enabled?l(de,{sx:{display:"flex",height:"100%",overflow:"hidden"},children:[l(de,{sx:{width:"240px",borderRight:"1px solid var(--background-modifier-border)",display:"flex",flexDirection:"column",flexShrink:0},children:[l(de,{sx:{p:1.5},children:l(Ze,{fullWidth:!0,variant:"contained",startIcon:l(Ec,{}),onClick:A,size:"small",children:"æ–°å»ºå¯¹è¯"})}),l(dn,{}),l(xc,{sx:{flex:1,overflow:"auto",py:0},children:c.length===0?l(de,{sx:{p:2,textAlign:"center"},children:l(oe,{variant:"body2",color:"text.secondary",children:"æš‚æ— å¯¹è¯è®°å½•"})}):c.map(N=>l(Cc,{selected:d===N.id,onClick:()=>D(N.id),sx:{py:1,pr:1},children:[l(kc,{primary:l(oe,{variant:"body2",noWrap:!0,sx:{fontWeight:d===N.id?600:400},children:N.title}),secondary:l(oe,{variant:"caption",color:"text.secondary",children:Ie(N.modified).format("MM-DD HH:mm")})}),l(ht,{size:"small",onClick:V=>B(N.id,V),sx:{opacity:.5,"&:hover":{opacity:1}},children:l(Vp,{fontSize:"small"})})]},N.id))})]}),l(de,{sx:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[l(de,{sx:{p:1.5,borderBottom:"1px solid var(--background-modifier-border)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l(de,{sx:{display:"flex",alignItems:"center",gap:1},children:[l(Zg,{color:"primary"}),l(oe,{variant:"subtitle1",sx:{fontWeight:600},children:q?.title??"AI åŠ©æ‰‹"})]}),l(ht,{onClick:t,size:"small",children:l(Bi,{})})]}),l(de,{sx:{p:1.5,borderBottom:"1px solid var(--background-modifier-border)",display:"flex",alignItems:"center",gap:2,flexWrap:"wrap"},children:[l(on,{control:l(sl,{checked:w,onChange:N=>k(N.target.checked),size:"small"}),label:l(de,{sx:{display:"flex",alignItems:"center",gap:.5},children:[l(aW,{fontSize:"small"}),l(oe,{variant:"body2",children:"å¼•ç”¨ä¸Šä¸‹æ–‡"})]})}),w&&r.length>0&&l(de,{ref:$,children:[l(Ze,{size:"small",variant:"outlined",onClick:()=>_(!x),endIcon:x?l(Cr,{}):l(Up,{}),sx:{textTransform:"none"},children:["ä¸»é¢˜ ",C.length>0?`(${C.length})`:""]}),l(ca,{open:x,anchorEl:$.current,placement:"bottom-start",sx:{zIndex:1300},children:l(r$,{onClickAway:()=>_(!1),children:l(br,{sx:{maxHeight:300,overflow:"auto",minWidth:200,p:1,border:"1px solid var(--background-modifier-border)"},children:[l(de,{sx:{display:"flex",gap:1,mb:1},children:[l(Ze,{size:"small",onClick:()=>T(r.map(N=>N.path)),children:"å…¨é€‰"}),l(Ze,{size:"small",onClick:()=>T([]),children:"æ¸…ç©º"})]}),l(dn,{sx:{mb:1}}),s.map(N=>l(de,{sx:{display:"flex",alignItems:"center",pl:N.depth*2},children:[l(co,{size:"small",checked:C.includes(N.path),onChange:()=>z(N.path)}),l(oe,{variant:"body2",sx:{cursor:"pointer",flex:1},onClick:()=>z(N.path),children:N.path.split("/").pop()}),N.children.length>0&&l(vt,{title:"åŒ…å«å­ä¸»é¢˜",children:l(ht,{size:"small",onClick:()=>W(N.path),children:l(Cr,{fontSize:"small"})})})]},N.path))]})})})]}),w&&l(xn,{size:"small",sx:{minWidth:100},children:[l(Bs,{children:"ç±»åž‹"}),l(Pi,{value:I,label:"ç±»åž‹",onChange:N=>E(N.target.value),children:[l(Xn,{value:"",children:"å…¨éƒ¨"}),l(Xn,{value:"task",children:"ä»»åŠ¡"}),l(Xn,{value:"block",children:"è®°å½•"})]})]}),w&&I==="block"&&o.length>0&&l(xn,{size:"small",sx:{minWidth:120},children:[l(Bs,{children:"è®°å½•ç±»åž‹"}),l(Pi,{value:O,label:"è®°å½•ç±»åž‹",onChange:N=>P(N.target.value),children:[l(Xn,{value:"",children:"å…¨éƒ¨è®°å½•"}),o.map(N=>l(Xn,{value:N.id,children:N.name},N.id))]})]}),w&&C.length>0&&l(de,{sx:{display:"flex",gap:.5,flexWrap:"wrap"},children:[C.slice(0,3).map(N=>l(Wn,{size:"small",label:N.split("/").pop(),onDelete:()=>z(N),sx:{height:24}},N)),C.length>3&&l(Wn,{size:"small",label:`+${C.length-3}`,sx:{height:24}})]}),w&&l(Wn,{size:"small",label:`ç´¢å¼•: ${Pd().getIndexStats().itemCount} æ¡`,variant:"outlined"})]}),l(de,{sx:{flex:1,overflow:"auto",p:2},children:[f.length===0?l(de,{sx:{textAlign:"center",py:4},children:[l(Zg,{sx:{fontSize:48,color:"text.disabled",mb:2}}),l(oe,{color:"text.secondary",children:q?"å¼€å§‹æ–°çš„å¯¹è¯":"é€‰æ‹©æˆ–åˆ›å»ºä¸€ä¸ªå¯¹è¯"}),w&&l(oe,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"å·²å¯ç”¨ä¸Šä¸‹æ–‡æ£€ç´¢ï¼ŒAI å°†åŸºäºŽä½ çš„è®°å½•å›žç­”é—®é¢˜"})]}):l(qe,{spacing:2,children:[f.map(N=>l(pW,{message:N,app:e},N.id)),v&&l(de,{sx:{display:"flex",alignItems:"center",gap:1},children:[l(dc,{size:16}),l(oe,{variant:"body2",color:"text.secondary",children:"AI æ­£åœ¨æ€è€ƒ..."})]})]}),l("div",{ref:R})]}),S&&l(de,{sx:{px:2,pb:1},children:l(oe,{color:"error",variant:"body2",children:S})}),l(de,{sx:{p:2,borderTop:"1px solid var(--background-modifier-border)",display:"flex",gap:1},children:[l(pt,{fullWidth:!0,multiline:!0,maxRows:4,placeholder:q?"è¾“å…¥æ¶ˆæ¯...":"é€‰æ‹©æˆ–åˆ›å»ºå¯¹è¯åŽå¼€å§‹",value:m,onChange:N=>g(N.target.value),onKeyDown:K,disabled:v||!q,size:"small"}),l(Ze,{variant:"contained",onClick:Y,disabled:!m.trim()||v||!q,sx:{minWidth:"auto",px:2},children:l(sW,{})})]})]})]}):l(de,{sx:{p:4,textAlign:"center"},children:[l(oe,{variant:"h6",gutterBottom:!0,children:"AI åŠŸèƒ½æœªå¯ç”¨"}),l(oe,{color:"text.secondary",children:"è¯·åœ¨è®¾ç½®ä¸­å¯ç”¨ AI åŠŸèƒ½å¹¶é…ç½® API å¯†é’¥"}),l(Ze,{variant:"outlined",onClick:t,sx:{mt:2},children:"å…³é—­"})]})}function pW({message:e,app:t}){const n=e.role==="user",r=e.role==="system",o=te(null),i=e.contentType??(e.role==="user"?"plain":"markdown");return ae(()=>{if(!o.current)return;const s=cW();return s.renderMessage({app:t,containerEl:o.current,content:e.content,contentType:i,sourcePath:"",cls:"message-content"}).catch(a=>{console.error("MessageBubble: æ¸²æŸ“å¤±è´¥",a)}),()=>{o.current&&s.clear(o.current)}},[e.content,e.id,i,t]),l(de,{sx:{display:"flex",justifyContent:n?"flex-end":"flex-start"},children:l(br,{elevation:0,sx:{maxWidth:"80%",p:1.5,borderRadius:2,bgcolor:n?"primary.main":r?"warning.light":"background.paper",color:n?"primary.contrastText":"text.primary",border:n?"none":"1px solid var(--background-modifier-border)","& .message-content":{"& p":{margin:"0.5em 0"},"& p:first-of-type":{marginTop:0},"& p:last-of-type":{marginBottom:0},"& ul, & ol":{margin:"0.5em 0",paddingLeft:"1.5em"},"& li":{margin:"0.25em 0"},"& code":{backgroundColor:"rgba(0,0,0,0.1)",padding:"0.1em 0.3em",borderRadius:"3px",fontSize:"0.9em"},"& pre":{backgroundColor:"rgba(0,0,0,0.1)",padding:"0.5em",borderRadius:"4px",overflow:"auto",margin:"0.5em 0"},"& pre code":{backgroundColor:"transparent",padding:0},"& blockquote":{borderLeft:"3px solid var(--text-muted)",margin:"0.5em 0",paddingLeft:"0.75em",color:"var(--text-muted)"},"& h1, & h2, & h3, & h4, & h5, & h6":{margin:"0.75em 0 0.5em",fontWeight:600},"& h1":{fontSize:"1.3em"},"& h2":{fontSize:"1.2em"},"& h3":{fontSize:"1.1em"}}},children:[l(de,{ref:o,sx:{wordBreak:"break-word",fontSize:"0.875rem",lineHeight:1.5}}),l(de,{sx:{mt:.5,display:"flex",justifyContent:"space-between",alignItems:"center",opacity:.7},children:[l(oe,{variant:"caption",children:Ie(e.created).format("HH:mm")}),e.meta?.retrievalCount!==void 0&&e.meta.retrievalCount>0&&l(vt,{title:`åŸºäºŽ ${e.meta.retrievalCount} æ¡è®°å½•å›žç­”`,children:l(Wn,{size:"small",label:`ðŸ“š ${e.meta.retrievalCount}`,sx:{height:18,fontSize:"0.7rem"}})})]})]})})}rw();console.log(`[ThinkPlugin] main.js æ–‡ä»¶å·²åŠ è½½ï¼Œç‰ˆæœ¬æ—¶é—´: ${new Date().toLocaleTimeString()}`);class fW extends _e.Plugin{serviceManager;async onload(){const t=ms("ThinkPlugin.onload");await gd(async()=>{const n=await this.loadSettings();VO(this.app,n),this.serviceManager=new iW(this),await this.serviceManager.bootstrap(),this.registerCommands();const r=t();console.log(`[Think Plugin] æ ¸å¿ƒåŠŸèƒ½å·²åŠ è½½å®Œæˆ (æ€»è€—æ—¶: ${r.toFixed(2)}ms)`),new _e.Notice("Think Plugin æ ¸å¿ƒåŠŸèƒ½å·²åŠ è½½!",2e3)},"ThinkPlugin.onload",{showNotice:!0,noticeTimeout:1e4,context:"Plugin initialization"})}registerCommands(){this.addCommand({id:"think-performance-report",name:"æ˜¾ç¤ºæ€§èƒ½æŠ¥å‘Š",callback:()=>{Cb.printReport()}}),this.addCommand({id:"think-open-ai-chat",name:"æ‰“å¼€ AI åŠ©æ‰‹å¯¹è¯",callback:()=>{new uW(this.app).open()}})}onunload(){this.serviceManager?.cleanup(),Sn.clearInstances()}async loadSettings(){const t=await this.loadData(),n=Object.assign({},ev,t);return n.viewInstances=n.viewInstances||[],n.layouts=n.layouts||[],n.inputSettings=n.inputSettings||{blocks:[],themes:[],overrides:[]},n.groups=n.groups||[],n}async saveSettings(){await this.saveData(this.serviceManager.appStore.getSettings())}get appStore(){return this.serviceManager.appStore}get dataStore(){return this.serviceManager.dataStore}get timerStateService(){return this.serviceManager.timerStateService}}exports.default=fW;
//# sourceMappingURL=main.js.map
