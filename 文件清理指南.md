# ThinkPlugin 文件清理指南

## 🗑️ 可以安全删除的文件

### 📄 临时和测试文件
```
📁 可以删除的文件:
├── 文件复制.html                    # 临时HTML文件
├── 性能测试脚本.js                   # 旧版性能测试脚本
├── test-setup-verification.js       # 测试验证脚本
├── performance-report.json          # 性能测试报告(可重新生成)
├── babel.config.js                  # 未使用的Babel配置
├── fix-imports.mjs                  # 一次性修复脚本
├── moved-paths.json                 # 路径迁移记录
└── data.json                        # 测试数据文件
```

### 📁 可以删除的目录
```
📁 可以删除的目录:
├── dist/                           # 构建输出目录(可重新构建)
└── node_modules/                   # 依赖包(可重新安装)
```

## ✅ 必须保留的核心文件

### 📄 配置文件
```
📁 必须保留:
├── package.json                    # 项目配置
├── package-lock.json               # 依赖锁定
├── tsconfig.json                   # TypeScript配置
├── manifest.json                   # Obsidian插件清单
├── vite.config.ts                  # Vite构建配置
├── vite.config.mjs                 # Vite配置备份
└── .gitignore                      # Git忽略规则
```

### 📄 源代码和测试
```
📁 必须保留:
├── src/                            # 源代码目录
├── test/                           # 端到端测试
├── tests/                          # 单元测试
├── test-configs/                   # 测试配置
├── test-utils/                     # 测试工具
└── types/                          # 类型定义
```

### 📄 测试和文档
```
📁 建议保留:
├── run-tests.js                    # 测试运行器
├── vscode-performance-test.js      # VSCode性能测试
├── VSCode测试说明.md               # 使用说明
├── 测试运行指南.md                 # 详细测试指南
├── 启动性能优化总结.md             # 优化总结
└── 性能优化分析.md                 # 优化分析
```

## 🚀 清理命令

### 方法1: 安全清理 (推荐)
```bash
# 删除临时文件
rm 文件复制.html
rm 性能测试脚本.js
rm test-setup-verification.js
rm performance-report.json
rm babel.config.js
rm fix-imports.mjs
rm moved-paths.json
rm data.json

# 删除构建目录
rm -rf dist/

# 重新安装依赖 (如果需要)
npm install
```

### 方法2: 彻底清理
```bash
# 删除所有可删除文件和目录
rm 文件复制.html 性能测试脚本.js test-setup-verification.js performance-report.json
rm babel.config.js fix-imports.mjs moved-paths.json data.json
rm -rf dist/ node_modules/

# 重新安装依赖
npm install
npm run build
```

## 📊 清理前后对比

### 清理前 (当前状态)
```
文件数量: ~30+ 个文件
目录数量: ~10+ 个目录
包含: 临时文件、测试文件、构建产物等
```

### 清理后 (精简状态)
```
文件数量: ~15 个核心文件
目录数量: ~6 个核心目录
保留: 源代码、配置、测试、文档
```

## 🔍 文件用途说明

### 📄 被删除文件的用途
- **文件复制.html**: 临时测试用的HTML文件
- **性能测试脚本.js**: 旧版性能测试，已被vscode-performance-test.js替代
- **test-setup-verification.js**: 一次性测试环境验证脚本
- **performance-report.json**: 测试生成的报告，可重新生成
- **babel.config.js**: Babel配置，但项目使用TypeScript编译器
- **fix-imports.mjs**: 修复导入的临时脚本
- **moved-paths.json**: 记录文件迁移历史的临时文件
- **data.json**: 测试用的模拟数据

### 📁 被删除目录的用途
- **dist/**: 构建输出目录，包含编译后的main.js
- **node_modules/**: npm依赖包，可重新安装

## ⚠️ 注意事项

### 删除前确认
1. **确保没有未提交的代码**
   ```bash
   git status
   ```

2. **备份重要配置**
   - 如果修改了vite.config.ts，确保已保存

3. **测试环境准备**
   - 删除后需要重新运行 `npm install`
   - 需要重新运行 `npm run build`

### 删除后操作
1. **重新安装依赖**
   ```bash
   npm install
   ```

2. **重新构建**
   ```bash
   npm run build
   ```

3. **验证功能**
   ```bash
   node run-tests.js vscode
   ```

## 🎯 推荐清理方案

### 保守清理 (推荐)
```bash
# 只删除明确不需要的临时文件
rm 文件复制.html 性能测试脚本.js test-setup-verification.js
rm performance-report.json babel.config.js fix-imports.mjs
rm moved-paths.json data.json
rm -rf dist/
```

### 激进清理 (如果磁盘空间紧张)
```bash
# 删除所有可删除内容
rm 文件复制.html 性能测试脚本.js test-setup-verification.js
rm performance-report.json babel.config.js fix-imports.mjs
rm moved-paths.json data.json
rm -rf dist/ node_modules/
npm install
```

## 📈 清理效果

### 预期减少
- **文件数量**: 减少约40-50%
- **磁盘空间**: 减少约100-200MB (主要是node_modules)
- **项目复杂度**: 显著降低，更易维护

### 保留的核心功能
- ✅ 完整的源代码
- ✅ 所有测试功能
- ✅ 构建和部署能力
- ✅ 性能优化代码
- ✅ 完整的文档

---

## 🎯 总结

**最安全的清理命令：**
```bash
rm 文件复制.html 性能测试脚本.js test-setup-verification.js
rm performance-report.json babel.config.js fix-imports.mjs
rm moved-paths.json data.json
rm -rf dist/
npm install
npm run build
```

这样清理后，项目将更加精简，但保留所有核心功能和测试能力。
